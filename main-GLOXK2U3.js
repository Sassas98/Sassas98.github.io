import{a as M,b as Ee,c as pI,d as fg,e as w,f as gI,g as md,h as bI,i as _I,j as yI,k as mg,l as vI,m as pd,n as wI,o as gd,p as xI,q as EI,r as We,s as lo,t as oi,u as bd,v as Cc,w as II,x as DI,y as or,z as hn}from"./chunk-KZ55BCB2.js";var CI=null;var pg=1;function wt(t){let e=CI;return CI=t,e}var TI={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function xO(t){if(!(_g(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===pg)){if(!t.producerMustRecompute(t)&&!gg(t)){t.dirty=!1,t.lastCleanEpoch=pg;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=pg}}function SI(t){return t&&(t.nextProducerIndex=0),wt(t)}function AI(t,e){if(wt(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(_g(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)bg(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function gg(t){_d(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(xO(n),i!==n.version))return!0}return!1}function kI(t){if(_d(t),_g(t))for(let e=0;e<t.producerNode.length;e++)bg(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function bg(t,e){if(EO(t),_d(t),t.liveConsumerNode.length===1)for(let i=0;i<t.producerNode.length;i++)bg(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];_d(r),r.producerIndexOfThis[i]=e}}function _g(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function _d(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function EO(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function IO(){throw new Error}var DO=IO;function MI(t){DO=t}function G(t){return typeof t=="function"}function Ds(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var yd=Ds(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function uo(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ie=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(G(i))try{i()}catch(o){e=o instanceof yd?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{RI(o)}catch(s){e=e??[],s instanceof yd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new yd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)RI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&uo(n,e)}remove(e){let{_finalizers:n}=this;n&&uo(n,e),e instanceof t&&e._removeParent(this)}};Ie.EMPTY=(()=>{let t=new Ie;return t.closed=!0,t})();var yg=Ie.EMPTY;function vd(t){return t instanceof Ie||t&&"closed"in t&&G(t.remove)&&G(t.add)&&G(t.unsubscribe)}function RI(t){G(t)?t():t.unsubscribe()}var jn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Cs={setTimeout(t,e,...n){let{delegate:i}=Cs;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Cs;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function wd(t){Cs.setTimeout(()=>{let{onUnhandledError:e}=jn;if(e)e(t);else throw t})}function Tc(){}var PI=(()=>vg("C",void 0,void 0))();function NI(t){return vg("E",void 0,t)}function FI(t){return vg("N",t,void 0)}function vg(t,e,n){return{kind:t,value:e,error:n}}var ho=null;function Ts(t){if(jn.useDeprecatedSynchronousErrorHandling){let e=!ho;if(e&&(ho={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=ho;if(ho=null,n)throw i}}else t()}function OI(t){jn.useDeprecatedSynchronousErrorHandling&&ho&&(ho.errorThrown=!0,ho.error=t)}var fo=class extends Ie{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,vd(e)&&e.add(this)):this.destination=SO}static create(e,n,i){return new Oi(e,n,i)}next(e){this.isStopped?xg(FI(e),this):this._next(e)}error(e){this.isStopped?xg(NI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?xg(PI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},CO=Function.prototype.bind;function wg(t,e){return CO.call(t,e)}var Eg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){xd(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){xd(i)}else xd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){xd(n)}}},Oi=class extends fo{constructor(e,n,i){super();let r;if(G(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&jn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&wg(e.next,o),error:e.error&&wg(e.error,o),complete:e.complete&&wg(e.complete,o)}):r=e}this.destination=new Eg(r)}};function xd(t){jn.useDeprecatedSynchronousErrorHandling?OI(t):wd(t)}function TO(t){throw t}function xg(t,e){let{onStoppedNotification:n}=jn;n&&Cs.setTimeout(()=>n(t,e))}var SO={closed:!0,next:Tc,error:TO,complete:Tc};var Ss=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")();function Bt(t){return t}function Ig(...t){return Dg(t)}function Dg(t){return t.length===0?Bt:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var W=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=kO(n)?n:new Oi(n,i,r);return Ts(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=LI(i),new i((r,o)=>{let s=new Oi({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[Ss](){return this}pipe(...n){return Dg(n)(this)}toPromise(n){return n=LI(n),new n((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return t.create=e=>new t(e),t})();function LI(t){var e;return(e=t??jn.Promise)!==null&&e!==void 0?e:Promise}function AO(t){return t&&G(t.next)&&G(t.error)&&G(t.complete)}function kO(t){return t&&t instanceof fo||AO(t)&&vd(t)}function Cg(t){return G(t?.lift)}function ee(t){return e=>{if(Cg(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function X(t,e,n,i,r){return new Tg(t,e,n,i,r)}var Tg=class extends fo{constructor(e,n,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function As(){return ee((t,e)=>{let n=null;t._refCount++;let i=X(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var ks=class extends W{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Cg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ie;let n=this.getSubject();e.add(this.source.subscribe(X(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ie.EMPTY)}return e}refCount(){return As()(this)}};var VI=Ds(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=(()=>{class t extends W{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new Ed(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new VI}next(n){Ts(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){Ts(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){Ts(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?yg:(this.currentObservers=null,o.push(n),new Ie(()=>{this.currentObservers=null,uo(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new W;return n.source=this,n}}return t.create=(e,n)=>new Ed(e,n),t})(),Ed=class extends fe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:yg}};var st=class extends fe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var Sc={now(){return(Sc.delegate||Date).now()},delegate:void 0};var Id=class extends fe{constructor(e=1/0,n=1/0,i=Sc){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;n||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let s=n.now(),a=0;for(let c=1;c<i.length&&i[c]<=s;c+=2)a=c;a&&i.splice(0,a+1)}}};var Dd=class extends Ie{constructor(e,n){super()}schedule(e,n=0){return this}};var Ac={setInterval(t,e,...n){let{delegate:i}=Ac;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ac;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ms=class extends Dd{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,i=0){return Ac.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&Ac.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,uo(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Rs=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};Rs.now=Sc.now;var Ps=class extends Rs{constructor(e,n=Rs.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var si=new Ps(Ms),Sg=si;var Cd=class extends Ms{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}};var Td=class extends Ps{};var Ag=new Td(Cd);var Mt=new W(t=>t.complete());function Sd(t){return t&&G(t.schedule)}function kg(t){return t[t.length-1]}function Ad(t){return G(kg(t))?t.pop():void 0}function ai(t){return Sd(kg(t))?t.pop():void 0}function jI(t,e){return typeof kg(t)=="number"?t.pop():e}var Ns=t=>t&&typeof t.length=="number"&&typeof t!="function";function kd(t){return G(t?.then)}function Md(t){return G(t[Ss])}function Rd(t){return Symbol.asyncIterator&&G(t?.[Symbol.asyncIterator])}function Pd(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function MO(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Nd=MO();function Fd(t){return G(t?.[Nd])}function Od(t){return bI(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield md(n.read());if(r)return yield md(void 0);yield yield md(i)}}finally{n.releaseLock()}})}function Ld(t){return G(t?.getReader)}function Te(t){if(t instanceof W)return t;if(t!=null){if(Md(t))return RO(t);if(Ns(t))return PO(t);if(kd(t))return NO(t);if(Rd(t))return BI(t);if(Fd(t))return FO(t);if(Ld(t))return OO(t)}throw Pd(t)}function RO(t){return new W(e=>{let n=t[Ss]();if(G(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function PO(t){return new W(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function NO(t){return new W(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,wd)})}function FO(t){return new W(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function BI(t){return new W(e=>{LO(t,e).catch(n=>e.error(n))})}function OO(t){return BI(Od(t))}function LO(t,e){var n,i,r,o;return gI(this,void 0,void 0,function*(){try{for(n=_I(t);i=yield n.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}e.complete()})}function Jt(t,e,n,i=0,r=!1){let o=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function Cn(t,e=0){return ee((n,i)=>{n.subscribe(X(i,r=>Jt(i,t,()=>i.next(r),e),()=>Jt(i,t,()=>i.complete(),e),r=>Jt(i,t,()=>i.error(r),e)))})}function Bn(t,e=0){return ee((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function UI(t,e){return Te(t).pipe(Bn(e),Cn(e))}function zI(t,e){return Te(t).pipe(Bn(e),Cn(e))}function $I(t,e){return new W(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function HI(t,e){return new W(n=>{let i;return Jt(n,e,()=>{i=t[Nd](),Jt(n,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){n.error(s);return}o?n.complete():n.next(r)},0,!0)}),()=>G(i?.return)&&i.return()})}function Vd(t,e){if(!t)throw new Error("Iterable cannot be null");return new W(n=>{Jt(n,e,()=>{let i=t[Symbol.asyncIterator]();Jt(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function qI(t,e){return Vd(Od(t),e)}function GI(t,e){if(t!=null){if(Md(t))return UI(t,e);if(Ns(t))return $I(t,e);if(kd(t))return zI(t,e);if(Rd(t))return Vd(t,e);if(Fd(t))return HI(t,e);if(Ld(t))return qI(t,e)}throw Pd(t)}function pe(t,e){return e?GI(t,e):Te(t)}function L(...t){let e=ai(t);return pe(t,e)}function Fs(t,e){let n=G(t)?t:()=>t,i=r=>r.error(n());return new W(e?r=>e.schedule(i,0,r):i)}function jd(t){return!!t&&(t instanceof W||G(t.lift)&&G(t.subscribe))}var Li=Ds(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function WI(t){return t instanceof Date&&!isNaN(t)}function j(t,e){return ee((n,i)=>{let r=0;n.subscribe(X(i,o=>{i.next(t.call(e,o,r++))}))})}var{isArray:VO}=Array;function jO(t,e){return VO(e)?t(...e):t(e)}function Os(t){return j(e=>jO(t,e))}var{isArray:BO}=Array,{getPrototypeOf:UO,prototype:zO,keys:$O}=Object;function Bd(t){if(t.length===1){let e=t[0];if(BO(e))return{args:e,keys:null};if(HO(e)){let n=$O(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function HO(t){return t&&typeof t=="object"&&UO(t)===zO}function Ud(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function mo(...t){let e=ai(t),n=Ad(t),{args:i,keys:r}=Bd(t);if(i.length===0)return pe([],e);let o=new W(qO(i,e,r?s=>Ud(r,s):Bt));return n?o.pipe(Os(n)):o}function qO(t,e,n=Bt){return i=>{KI(e,()=>{let{length:r}=t,o=new Array(r),s=r,a=r;for(let c=0;c<r;c++)KI(e,()=>{let l=pe(t[c],e),u=!1;l.subscribe(X(i,d=>{o[c]=d,u||(u=!0,a--),a||i.next(n(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function KI(t,e,n){t?Jt(n,t,e):e()}function QI(t,e,n,i,r,o,s,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&e.complete()},f=p=>l<i?m(p):c.push(p),m=p=>{o&&e.next(p),l++;let g=!1;Te(n(p,u++)).subscribe(X(e,y=>{r?.(y),o?f(y):e.next(y)},()=>{g=!0},void 0,()=>{if(g)try{for(l--;c.length&&l<i;){let y=c.shift();s?Jt(e,s,()=>m(y)):m(y)}h()}catch(y){e.error(y)}}))};return t.subscribe(X(e,f,()=>{d=!0,h()})),()=>{a?.()}}function Ze(t,e,n=1/0){return G(e)?Ze((i,r)=>j((o,s)=>e(i,o,r,s))(Te(t(i,r))),n):(typeof e=="number"&&(n=e),ee((i,r)=>QI(i,r,t,n)))}function sr(t=1/0){return Ze(Bt,t)}function YI(){return sr(1)}function ar(...t){return YI()(pe(t,ai(t)))}function zd(t){return new W(e=>{Te(t()).subscribe(e)})}function Mg(...t){let e=Ad(t),{args:n,keys:i}=Bd(t),r=new W(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;Te(n[u]).subscribe(X(o,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(i?Ud(i,a):a),o.complete())}))}});return e?r.pipe(Os(e)):r}var GO=["addListener","removeListener"],WO=["addEventListener","removeEventListener"],KO=["on","off"];function cr(t,e,n,i){if(G(n)&&(i=n,n=void 0),i)return cr(t,e,n).pipe(Os(i));let[r,o]=ZO(t)?WO.map(s=>a=>t[s](e,a,n)):QO(t)?GO.map(ZI(t,e)):YO(t)?KO.map(ZI(t,e)):[];if(!r&&Ns(t))return Ze(s=>cr(s,e,n))(Te(t));if(!r)throw new TypeError("Invalid event target");return new W(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function ZI(t,e){return n=>i=>t[n](e,i)}function QO(t){return G(t.addListener)&&G(t.removeListener)}function YO(t){return G(t.on)&&G(t.off)}function ZO(t){return G(t.addEventListener)&&G(t.removeEventListener)}function kc(t=0,e,n=Sg){let i=-1;return e!=null&&(Sd(e)?n=e:i=e),new W(r=>{let o=WI(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function po(...t){let e=ai(t),n=jI(t,1/0),i=t;return i.length?i.length===1?Te(i[0]):sr(n)(pe(i,e)):Mt}function Fe(t,e){return ee((n,i)=>{let r=0;n.subscribe(X(i,o=>t.call(e,o,r++)&&i.next(o)))})}function XI(t){return ee((e,n)=>{let i=!1,r=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;let l=r;r=null,n.next(l)}s&&n.complete()},c=()=>{o=null,s&&n.complete()};e.subscribe(X(n,l=>{i=!0,r=l,o||Te(t(l)).subscribe(o=X(n,a,c))},()=>{s=!0,(!i||!o||o.closed)&&n.complete()}))})}function Rg(t,e=si){return XI(()=>kc(t,e))}function lr(t){return ee((e,n)=>{let i=null,r=!1,o;i=e.subscribe(X(n,void 0,void 0,s=>{o=Te(t(s,lr(t)(e))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function JI(t,e,n,i,r){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(X(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}function Vi(t,e){return G(e)?Ze(t,e,1):Ze(t,1)}function go(t,e=si){return ee((n,i)=>{let r=null,o=null,s=null,a=()=>{if(r){r.unsubscribe(),r=null;let l=o;o=null,i.next(l)}};function c(){let l=s+t,u=e.now();if(u<l){r=this.schedule(void 0,l-u),i.add(r);return}a()}n.subscribe(X(i,l=>{o=l,s=e.now(),r||(r=e.schedule(c,t),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function ur(t){return ee((e,n)=>{let i=!1;e.subscribe(X(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function en(t){return t<=0?()=>Mt:ee((e,n)=>{let i=0;e.subscribe(X(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function Pg(t){return j(()=>t)}function dr(t,e=Bt){return t=t??XO,ee((n,i)=>{let r,o=!0;n.subscribe(X(i,s=>{let a=e(s);(o||!t(r,a))&&(o=!1,r=a,i.next(s))}))})}function XO(t,e){return t===e}function $d(t=JO){return ee((e,n)=>{let i=!1;e.subscribe(X(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function JO(){return new Li}function hr(t){return ee((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function fn(t,e){let n=arguments.length>=2;return i=>i.pipe(t?Fe((r,o)=>t(r,o,i)):Bt,en(1),n?ur(e):$d(()=>new Li))}function Ls(t){return t<=0?()=>Mt:ee((e,n)=>{let i=[];e.subscribe(X(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function Ng(t,e){let n=arguments.length>=2;return i=>i.pipe(t?Fe((r,o)=>t(r,o,i)):Bt,Ls(1),n?ur(e):$d(()=>new Li))}function Vs(){return ee((t,e)=>{let n,i=!1;t.subscribe(X(e,r=>{let o=n;n=r,i&&e.next([o,r]),i=!0}))})}function bo(t,e){return ee(JI(t,e,arguments.length>=2,!0))}function eD(t={}){let{connector:e=()=>new fe,resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return o=>{let s,a,c,l=0,u=!1,d=!1,h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=c=void 0,u=d=!1},m=()=>{let p=s;f(),p?.unsubscribe()};return ee((p,g)=>{l++,!d&&!u&&h();let y=c=c??e();g.add(()=>{l--,l===0&&!d&&!u&&(a=Fg(m,r))}),y.subscribe(g),!s&&l>0&&(s=new Oi({next:A=>y.next(A),error:A=>{d=!0,h(),a=Fg(f,n,A),y.error(A)},complete:()=>{u=!0,h(),a=Fg(f,i),y.complete()}}),Te(p).subscribe(s))})(o)}}function Fg(t,e,...n){if(e===!0){t();return}if(e===!1)return;let i=new Oi({next:()=>{i.unsubscribe(),t()}});return Te(e(...n)).subscribe(i)}function Mc(t,e,n){let i,r=!1;return t&&typeof t=="object"?{bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:n}=t:i=t??1/0,eD({connector:()=>new Id(i,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function _o(t){return Fe((e,n)=>t<=n)}function tn(...t){let e=ai(t);return ee((n,i)=>{(e?ar(t,n,e):ar(t,n)).subscribe(i)})}function Me(t,e){return ee((n,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();n.subscribe(X(i,c=>{r?.unsubscribe();let l=0,u=o++;Te(t(c,u)).subscribe(r=X(i,d=>i.next(e?e(c,d,u,l++):d),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Hd(t,e){return G(e)?Me(()=>t,e):Me(()=>t)}function nn(t){return ee((e,n)=>{Te(t).subscribe(X(n,()=>n.complete(),Tc)),!n.closed&&e.subscribe(n)})}function ze(t,e,n){let i=G(t)||e||n?{next:t,error:e,complete:n}:t;return i?ee((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(X(o,c=>{var l;(l=i.next)===null||l===void 0||l.call(i,c),o.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),o.complete()},c=>{var l;a=!1,(l=i.error)===null||l===void 0||l.call(i,c),o.error(c)},()=>{var c,l;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(l=i.finalize)===null||l===void 0||l.call(i)}))}):Bt}function Re(t){for(let e in t)if(t[e]===Re)return e;throw Error("Could not find renamed property on target object.")}function qd(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function $t(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map($t).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Jg(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var eL=Re({__forward_ref__:Re});function pi(t){return t.__forward_ref__=pi,t.toString=function(){return $t(this())},t}function Ut(t){return jD(t)?t():t}function jD(t){return typeof t=="function"&&t.hasOwnProperty(eL)&&t.__forward_ref__===pi}function BD(t){return t&&!!t.\u0275providers}var tL="https://g.co/ng/security#xss",S=class extends Error{constructor(e,n){super(Sh(e,n)),this.code=e}};function Sh(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var nL=Re({\u0275cmp:Re}),iL=Re({\u0275dir:Re}),rL=Re({\u0275pipe:Re}),oL=Re({\u0275mod:Re}),rh=Re({\u0275fac:Re}),Pc=Re({__NG_ELEMENT_ID__:Re}),tD=Re({__NG_ENV_ID__:Re});function o_(t){return typeof t=="string"?t:t==null?"":String(t)}function sL(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():o_(t)}function aL(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new S(-200,`Circular dependency in DI detected for ${t}${n}`)}function s_(t,e){let n=e?` in ${e}`:"";throw new S(-201,!1)}function cL(t,e){t==null&&lL(e,t,null,"!=")}function lL(t,e,n,i){throw new Error(`ASSERTION ERROR: ${t}`+(i==null?"":` [Expected=> ${n} ${i} ${e} <=Actual]`))}function k(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Y(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ah(t){return nD(t,zD)||nD(t,$D)}function UD(t){return Ah(t)!==null}function nD(t,e){return t.hasOwnProperty(e)?t[e]:null}function uL(t){let e=t&&(t[zD]||t[$D]);return e||null}function iD(t){return t&&(t.hasOwnProperty(rD)||t.hasOwnProperty(dL))?t[rD]:null}var zD=Re({\u0275prov:Re}),rD=Re({\u0275inj:Re}),$D=Re({ngInjectableDef:Re}),dL=Re({ngInjectorDef:Re}),de=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(de||{}),eb;function HD(){return eb}function Tn(t){let e=eb;return eb=t,e}function qD(t,e,n){let i=Ah(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&de.Optional)return null;if(e!==void 0)return e;s_($t(t),"Injector")}var mn=globalThis;var T=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=k({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var hL={},Fc=hL,tb="__NG_DI_FLAG__",oh="ngTempTokenPath",fL="ngTokenPath",mL=/\n/gm,pL="\u0275",oD="__source",$s;function gL(){return $s}function fr(t){let e=$s;return $s=t,e}function bL(t,e=de.Default){if($s===void 0)throw new S(-203,!1);return $s===null?qD(t,void 0,e):$s.get(t,e&de.Optional?null:void 0,e)}function v(t,e=de.Default){return(HD()||bL)(Ut(t),e)}function I(t,e=de.Default){return v(t,kh(e))}function kh(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function nb(t){let e=[];for(let n=0;n<t.length;n++){let i=Ut(t[n]);if(Array.isArray(i)){if(i.length===0)throw new S(900,!1);let r,o=de.Default;for(let s=0;s<i.length;s++){let a=i[s],c=_L(a);typeof c=="number"?c===-1?r=a.token:o|=c:r=a}e.push(v(r,o))}else e.push(v(i))}return e}function GD(t,e){return t[tb]=e,t.prototype[tb]=e,t}function _L(t){return t[tb]}function yL(t,e,n,i){let r=t[oh];throw e[oD]&&r.unshift(e[oD]),t.message=vL(`
`+t.message,r,n,i),t[fL]=r,t[oh]=null,t}function vL(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==pL?t.slice(2):t;let r=$t(e);if(Array.isArray(e))r=e.map($t).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):$t(a)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(mL,`
  `)}`}function Wc(t){return{toString:t}.toString()}var WD=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(WD||{}),hi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(hi||{}),qs={},zt=[];function KD(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}n=r+1}}function ib(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],s=n[i++],a=n[i++];t.setAttribute(e,s,a,o)}else{let o=r,s=n[++i];wL(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),i++}}return i}function QD(t){return t===3||t===4||t===6}function wL(t){return t.charCodeAt(0)===64}function Oc(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?sD(t,n,r,null,e[++i]):sD(t,n,r,null,null))}}return t}function sD(t,e,n,i,r){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(t[o+1]=r);return}else if(i===t[o+1]){t[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i),r!==null&&t.splice(o++,0,r)}var YD="ng-template";function xL(t,e,n){let i=0,r=!0;for(;i<t.length;){let o=t[i++];if(typeof o=="string"&&r){let s=t[i++];if(n&&o==="class"&&KD(s.toLowerCase(),e,0)!==-1)return!0}else if(o===1){for(;i<t.length&&typeof(o=t[i++])=="string";)if(o.toLowerCase()===e)return!0;return!1}else typeof o=="number"&&(r=!1)}return!1}function ZD(t){return t.type===4&&t.value!==YD}function EL(t,e,n){let i=t.type===4&&!n?YD:t.value;return e===i}function IL(t,e,n){let i=4,r=t.attrs||[],o=TL(r),s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Un(i)&&!Un(c))return!1;if(s&&Un(c))continue;s=!1,i=c|i&1;continue}if(!s)if(i&4){if(i=2|i&1,c!==""&&!EL(t,c,n)||c===""&&e.length===1){if(Un(i))return!1;s=!0}}else{let l=i&8?c:e[++a];if(i&8&&t.attrs!==null){if(!xL(t.attrs,l,n)){if(Un(i))return!1;s=!0}continue}let u=i&8?"class":c,d=DL(u,r,ZD(t),n);if(d===-1){if(Un(i))return!1;s=!0;continue}if(l!==""){let h;d>o?h="":h=r[d+1].toLowerCase();let f=i&8?h:null;if(f&&KD(f,l,0)!==-1||i&2&&l!==h){if(Un(i))return!1;s=!0}}}}return Un(i)||s}function Un(t){return(t&1)===0}function DL(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<e.length;){let s=e[r];if(s===t)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return SL(e,t)}function XD(t,e,n=!1){for(let i=0;i<e.length;i++)if(IL(t,e[i],n))return!0;return!1}function CL(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function TL(t){for(let e=0;e<t.length;e++){let n=t[e];if(QD(n))return e}return t.length}function SL(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function AL(t,e){e:for(let n=0;n<e.length;n++){let i=e[n];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue e;return!0}}return!1}function aD(t,e){return t?":not("+e.trim()+")":e}function kL(t){let e=t[0],n=1,i=2,r="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(i&2){let a=t[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!Un(s)&&(e+=aD(o,r),r=""),i=s,o=o||!Un(i);n++}return r!==""&&(e+=aD(o,r)),e}function ML(t){return t.map(kL).join(",")}function RL(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let o=t[i];if(typeof o=="string")r===2?o!==""&&e.push(o,t[++i]):r===8&&n.push(o);else{if(!Un(r))break;r=o}i++}return{attrs:e,classes:n}}function Xe(t){return Wc(()=>{let e=iC(t),n=Ee(M({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===WD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||hi.Emulated,styles:t.styles||zt,_:null,schemas:t.schemas||null,tView:null,id:""});rC(n);let i=t.dependencies;return n.directiveDefs=lD(i,!1),n.pipeDefs=lD(i,!0),n.id=FL(n),n})}function PL(t){return pr(t)||JD(t)}function NL(t){return t!==null}function Z(t){return Wc(()=>({type:t.type,bootstrap:t.bootstrap||zt,declarations:t.declarations||zt,imports:t.imports||zt,exports:t.exports||zt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function cD(t,e){if(t==null)return qs;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),n[r]=i,e&&(e[r]=o)}return n}function be(t){return Wc(()=>{let e=iC(t);return rC(e),e})}function pr(t){return t[nL]||null}function JD(t){return t[iL]||null}function eC(t){return t[rL]||null}function tC(t){let e=pr(t)||JD(t)||eC(t);return e!==null?e.standalone:!1}function nC(t,e){let n=t[oL]||null;if(!n&&e===!0)throw new Error(`Type ${$t(t)} does not have '\u0275mod' property.`);return n}function iC(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||qs,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||zt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:cD(t.inputs,e),outputs:cD(t.outputs),debugInfo:null}}function rC(t){t.features?.forEach(e=>e(t))}function lD(t,e){if(!t)return null;let n=e?eC:PL;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter(NL)}function FL(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of n)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483647+1,"c"+e}var pn=0,te=1,Q=2,nt=3,$n=4,gn=5,Hn=6,Lc=7,Rt=8,Gs=9,gr=10,je=11,Vc=12,uD=13,Js=14,rn=15,Kc=16,js=17,ui=18,Mh=19,oC=20,mr=21,Og=22,vo=23,pt=25,sC=1,jc=6,ji=7,sh=8,Ws=9,xt=10,Ks=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t[t.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",t}(Ks||{});function di(t){return Array.isArray(t)&&typeof t[sC]=="object"}function Sn(t){return Array.isArray(t)&&t[sC]===!0}function aC(t){return(t.flags&4)!==0}function Qc(t){return t.componentOffset>-1}function a_(t){return(t.flags&1)===1}function br(t){return!!t.template}function cC(t){return(t[Q]&512)!==0}function Qs(t,e){let n=t.hasOwnProperty(rh);return n?t[rh]:null}var rb=class{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function gi(){return lC}function lC(t){return t.type.prototype.ngOnChanges&&(t.setInput=LL),OL}gi.ngInherit=!0;function OL(){let t=dC(this),e=t?.current;if(e){let n=t.previous;if(n===qs)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function LL(t,e,n,i){let r=this.declaredInputs[n],o=dC(t)||VL(t,{previous:qs,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[r];s[r]=new rb(c&&c.currentValue,e,a===qs),t[i]=e}var uC="__ngSimpleChanges__";function dC(t){return t[uC]||null}function VL(t,e){return t[uC]=e}var dD=null;var ci=function(t,e,n){dD?.(t,e,n)},hC="svg",jL="math",BL=!1;function UL(){return BL}function qn(t){for(;Array.isArray(t);)t=t[pn];return t}function fC(t,e){return qn(e[t])}function bn(t,e){return qn(e[t.index])}function c_(t,e){return t.data[e]}function zL(t,e){return t[e]}function vr(t,e){let n=e[t];return di(n)?n:n[pn]}function $L(t){return(t[Q]&4)===4}function l_(t){return(t[Q]&128)===128}function HL(t){return Sn(t[nt])}function ah(t,e){return e==null?null:t[e]}function mC(t){t[js]=0}function qL(t){t[Q]&1024||(t[Q]|=1024,l_(t)&&Bc(t))}function GL(t,e){for(;t>0;)e=e[Js],t--;return e}function pC(t){return t[Q]&9216||t[vo]?.dirty}function ob(t){pC(t)?Bc(t):t[Q]&64&&(UL()?(t[Q]|=1024,Bc(t)):t[gr].changeDetectionScheduler?.notify())}function Bc(t){t[gr].changeDetectionScheduler?.notify();let e=t[nt];for(;e!==null&&!(Sn(e)&&e[Q]&Ks.HasChildViewsToRefresh||di(e)&&e[Q]&8192);){if(Sn(e))e[Q]|=Ks.HasChildViewsToRefresh;else if(e[Q]|=8192,!l_(e))break;e=e[nt]}}function gC(t,e){if((t[Q]&256)===256)throw new S(911,!1);t[mr]===null&&(t[mr]=[]),t[mr].push(e)}function WL(t,e){if(t[mr]===null)return;let n=t[mr].indexOf(e);n!==-1&&t[mr].splice(n,1)}var se={lFrame:CC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function KL(){return se.lFrame.elementDepthCount}function QL(){se.lFrame.elementDepthCount++}function YL(){se.lFrame.elementDepthCount--}function bC(){return se.bindingsEnabled}function ea(){return se.skipHydrationRootTNode!==null}function ZL(t){return se.skipHydrationRootTNode===t}function XL(t){se.skipHydrationRootTNode=t}function JL(){se.skipHydrationRootTNode=null}function ge(){return se.lFrame.lView}function Et(){return se.lFrame.tView}function Yc(t){return se.lFrame.contextLView=t,t[Rt]}function Zc(t){return se.lFrame.contextLView=null,t}function on(){let t=_C();for(;t!==null&&t.type===64;)t=t.parent;return t}function _C(){return se.lFrame.currentTNode}function eV(){let t=se.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Xc(t,e){let n=se.lFrame;n.currentTNode=t,n.isParent=e}function yC(){return se.lFrame.isParent}function vC(){se.lFrame.isParent=!1}function tV(){return se.lFrame.contextLView}function wC(){let t=se.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function nV(t){return se.lFrame.bindingIndex=t}function ta(){return se.lFrame.bindingIndex++}function xC(t){let e=se.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function iV(){return se.lFrame.inI18n}function rV(t,e){let n=se.lFrame;n.bindingIndex=n.bindingRootIndex=t,sb(e)}function oV(){return se.lFrame.currentDirectiveIndex}function sb(t){se.lFrame.currentDirectiveIndex=t}function sV(t){let e=se.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function EC(){return se.lFrame.currentQueryIndex}function u_(t){se.lFrame.currentQueryIndex=t}function aV(t){let e=t[te];return e.type===2?e.declTNode:e.type===1?t[gn]:null}function IC(t,e,n){if(n&de.SkipSelf){let r=e,o=t;for(;r=r.parent,r===null&&!(n&de.Host);)if(r=aV(o),r===null||(o=o[Js],r.type&10))break;if(r===null)return!1;e=r,t=o}let i=se.lFrame=DC();return i.currentTNode=e,i.lView=t,!0}function d_(t){let e=DC(),n=t[te];se.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function DC(){let t=se.lFrame,e=t===null?null:t.child;return e===null?CC(t):e}function CC(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function TC(){let t=se.lFrame;return se.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var SC=TC;function h_(){let t=TC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function cV(t){return(se.lFrame.contextLView=GL(t,se.lFrame.contextLView))[Rt]}function wr(){return se.lFrame.selectedIndex}function wo(t){se.lFrame.selectedIndex=t}function f_(){let t=se.lFrame;return c_(t.tView,t.selectedIndex)}function AC(){se.lFrame.currentNamespace=hC}function kC(){lV()}function lV(){se.lFrame.currentNamespace=null}function MC(){return se.lFrame.currentNamespace}var RC=!0;function m_(){return RC}function xr(t){RC=t}function uV(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=lC(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}r&&(n.preOrderHooks??=[]).push(0-t,r),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function p_(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Xd(t,e,n){PC(t,e,3,n)}function Jd(t,e,n,i){(t[Q]&3)===n&&PC(t,e,n,i)}function Lg(t,e){let n=t[Q];(n&3)===e&&(n&=16383,n+=1,t[Q]=n)}function PC(t,e,n,i){let r=i!==void 0?t[js]&65535:0,o=i??-1,s=e.length-1,a=0;for(let c=r;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],i!=null&&a>=i)break}else e[c]<0&&(t[js]+=65536),(a<o||o==-1)&&(dV(t,n,e,c),t[js]=(t[js]&4294901760)+c+2),c++}function hD(t,e){ci(4,t,e);let n=wt(null);try{e.call(t)}finally{wt(n),ci(5,t,e)}}function dV(t,e,n,i){let r=n[i]<0,o=n[i+1],s=r?-n[i]:n[i],a=t[s];r?t[Q]>>14<t[js]>>16&&(t[Q]&3)===e&&(t[Q]+=16384,hD(a,o)):hD(a,o)}var Hs=-1,xo=class{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function hV(t){return t instanceof xo}function fV(t){return(t.flags&8)!==0}function mV(t){return(t.flags&16)!==0}function NC(t){return t!==Hs}function ch(t){let e=t&32767;return t&32767}function pV(t){return t>>16}function lh(t,e){let n=pV(t),i=e;for(;n>0;)i=i[Js],n--;return i}var ab=!0;function fD(t){let e=ab;return ab=t,e}var gV=256,FC=gV-1,OC=5,bV=0,li={};function _V(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(Pc)&&(i=n[Pc]),i==null&&(i=n[Pc]=bV++);let r=i&FC,o=1<<r;e.data[t+(r>>OC)]|=o}function uh(t,e){let n=LC(t,e);if(n!==-1)return n;let i=e[te];i.firstCreatePass&&(t.injectorIndex=e.length,Vg(i.data,t),Vg(e,null),Vg(i.blueprint,null));let r=g_(t,e),o=t.injectorIndex;if(NC(r)){let s=ch(r),a=lh(r,e),c=a[te].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=r,o}function Vg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function LC(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function g_(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=zC(r),i===null)return Hs;if(n++,r=r[Js],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return Hs}function cb(t,e,n){_V(t,e,n)}function yV(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let i=n.length,r=0;for(;r<i;){let o=n[r];if(QD(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(o===e)return n[r+1];r=r+2}}}return null}function VC(t,e,n){if(n&de.Optional||t!==void 0)return t;s_(e,"NodeInjector")}function jC(t,e,n,i){if(n&de.Optional&&i===void 0&&(i=null),!(n&(de.Self|de.Host))){let r=t[Gs],o=Tn(void 0);try{return r?r.get(e,i,n&de.Optional):qD(e,i,n&de.Optional)}finally{Tn(o)}}return VC(i,e,n)}function BC(t,e,n,i=de.Default,r){if(t!==null){if(e[Q]&2048&&!(i&de.Self)){let s=EV(t,e,n,i,li);if(s!==li)return s}let o=UC(t,e,n,i,li);if(o!==li)return o}return jC(e,n,i,r)}function UC(t,e,n,i,r){let o=wV(n);if(typeof o=="function"){if(!IC(e,t,i))return i&de.Host?VC(r,n,i):jC(e,n,i,r);try{let s;if(s=o(i),s==null&&!(i&de.Optional))s_(n);else return s}finally{SC()}}else if(typeof o=="number"){let s=null,a=LC(t,e),c=Hs,l=i&de.Host?e[rn][gn]:null;for((a===-1||i&de.SkipSelf)&&(c=a===-1?g_(t,e):e[a+8],c===Hs||!pD(i,!1)?a=-1:(s=e[te],a=ch(c),e=lh(c,e)));a!==-1;){let u=e[te];if(mD(o,a,u.data)){let d=vV(a,e,n,s,i,l);if(d!==li)return d}c=e[a+8],c!==Hs&&pD(i,e[te].data[a+8]===l)&&mD(o,a,e)?(s=u,a=ch(c),e=lh(c,e)):a=-1}}return r}function vV(t,e,n,i,r,o){let s=e[te],a=s.data[t+8],c=i==null?Qc(a)&&ab:i!=s&&(a.type&3)!==0,l=r&de.Host&&o===a,u=eh(a,s,n,c,l);return u!==null?Eo(e,s,u,a):li}function eh(t,e,n,i,r){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=i?a:a+u,h=r?a+u:l;for(let f=d;f<h;f++){let m=s[f];if(f<c&&n===m||f>=c&&m.type===n)return f}if(r){let f=s[c];if(f&&br(f)&&f.type===n)return c}return null}function Eo(t,e,n,i){let r=t[n],o=e.data;if(hV(r)){let s=r;s.resolving&&aL(sL(o[n]));let a=fD(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Tn(s.injectImpl):null,u=IC(t,i,de.Default);try{r=t[n]=s.factory(void 0,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&uV(n,o[n],e)}finally{l!==null&&Tn(l),fD(a),s.resolving=!1,SC()}}return r}function wV(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Pc)?t[Pc]:void 0;return typeof e=="number"?e>=0?e&FC:xV:e}function mD(t,e,n){let i=1<<t;return!!(n[e+(t>>OC)]&i)}function pD(t,e){return!(t&de.Self)&&!(t&de.Host&&e)}var yo=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return BC(this._tNode,this._lView,e,kh(i),n)}};function xV(){return new yo(on(),ge())}function Er(t){return Wc(()=>{let e=t.prototype.constructor,n=e[rh]||lb(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let o=r[rh]||lb(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function lb(t){return jD(t)?()=>{let e=lb(Ut(t));return e&&e()}:Qs(t)}function EV(t,e,n,i,r){let o=t,s=e;for(;o!==null&&s!==null&&s[Q]&2048&&!(s[Q]&512);){let a=UC(o,s,n,i|de.Self,li);if(a!==li)return a;let c=o.parent;if(!c){let l=s[oC];if(l){let u=l.get(n,li,i);if(u!==li)return u}c=zC(s),s=s[Js]}o=c}return r}function zC(t){let e=t[te],n=e.type;return n===2?e.declTNode:n===1?t[gn]:null}function na(t){return yV(on(),t)}var Gd="__parameters__";function IV(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function $C(t,e,n){return Wc(()=>{let i=IV(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Gd)?c[Gd]:Object.defineProperty(c,Gd,{value:[]})[Gd];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}function DV(t){let e=mn.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function CV(t){return typeof t=="function"}function TV(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=e[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}function SV(t){return t.flat(Number.POSITIVE_INFINITY)}function b_(t,e){t.forEach(n=>Array.isArray(n)?b_(n,e):e(n))}function HC(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function dh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function qC(t,e){let n=[];for(let i=0;i<t;i++)n.push(e);return n}function AV(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let o=r-2;t[r]=t[o],r--}t[e]=n,t[e+1]=i}}function __(t,e,n){let i=Jc(t,e);return i>=0?t[i|1]=n:(i=~i,AV(t,i,e,n)),i}function jg(t,e){let n=Jc(t,e);if(n>=0)return t[n|1]}function Jc(t,e){return kV(t,e,1)}function kV(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let o=i+(r-i>>1),s=t[o<<n];if(e===s)return o<<n;s>e?r=o:i=o+1}return~(r<<n)}var Ao=GD($C("Optional"),8);var Rh=GD($C("SkipSelf"),4);function MV(t){let e=[],n=new Map;function i(r){let o=n.get(r);if(!o){let s=t(r);n.set(r,o=s.then(FV))}return o}return hh.forEach((r,o)=>{let s=[];r.templateUrl&&s.push(i(r.templateUrl).then(l=>{r.template=l}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let l=r.styles.length,u=r.styleUrls;r.styleUrls.forEach((d,h)=>{a.push(""),s.push(i(d).then(f=>{a[l+h]=f,u.splice(u.indexOf(d),1),u.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&s.push(i(r.styleUrl).then(l=>{a.push(l),r.styleUrl=void 0}));let c=Promise.all(s).then(()=>OV(o));e.push(c)}),PV(),Promise.all(e).then(()=>{})}var hh=new Map,RV=new Set;function PV(){let t=hh;return hh=new Map,t}function NV(){return hh.size===0}function FV(t){return typeof t=="string"?t:t.text()}function OV(t){RV.delete(t)}var Io=new T("ENVIRONMENT_INITIALIZER"),GC=new T("INJECTOR",-1),WC=new T("INJECTOR_DEF_TYPES"),fh=class{get(e,n=Fc){if(n===Fc){let i=new Error(`NullInjectorError: No provider for ${$t(e)}!`);throw i.name="NullInjectorError",i}return n}};function ia(t){return{\u0275providers:t}}function LV(...t){return{\u0275providers:KC(!0,t),\u0275fromNgModule:!0}}function KC(t,...e){let n=[],i=new Set,r,o=s=>{n.push(s)};return b_(e,s=>{let a=s;ub(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&QC(r,o),n}function QC(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];y_(r,o=>{e(o,i)})}}function ub(t,e,n,i){if(t=Ut(t),!t)return!1;let r=null,o=iD(t),s=!o&&pr(t);if(!o&&!s){let c=t.ngModule;if(o=iD(c),o)r=c;else return!1}else{if(s&&!s.standalone)return!1;r=t}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)ub(l,e,n,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let l;try{b_(o.imports,u=>{ub(u,e,n,i)&&(l||=[],l.push(u))})}finally{}l!==void 0&&QC(l,e)}if(!a){let l=Qs(r)||(()=>new r);e({provide:r,useFactory:l,deps:zt},r),e({provide:WC,useValue:r,multi:!0},r),e({provide:Io,useValue:()=>v(r),multi:!0},r)}let c=o.providers;if(c!=null&&!a){let l=t;y_(c,u=>{e(u,l)})}}else return!1;return r!==t&&t.providers!==void 0}function y_(t,e){for(let n of t)BD(n)&&(n=n.\u0275providers),Array.isArray(n)?y_(n,e):e(n)}var VV=Re({provide:String,useValue:Re});function YC(t){return t!==null&&typeof t=="object"&&VV in t}function jV(t){return!!(t&&t.useExisting)}function BV(t){return!!(t&&t.useFactory)}function Ys(t){return typeof t=="function"}function UV(t){return!!t.useClass}var Ph=new T("Set Injector scope."),th={},zV={},Bg;function v_(){return Bg===void 0&&(Bg=new fh),Bg}var Ht=class{},Uc=class extends Ht{get destroyed(){return this._destroyed}constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,hb(e,s=>this.processProvider(s)),this.records.set(GC,Bs(void 0,this)),r.has("environment")&&this.records.set(Ht,Bs(void 0,this));let o=this.records.get(Ph);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(WC,zt,de.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=fr(this),i=Tn(void 0),r;try{return e()}finally{fr(n),Tn(i)}}get(e,n=Fc,i=de.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(tD))return e[tD](this);i=kh(i);let r,o=fr(this),s=Tn(void 0);try{if(!(i&de.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=WV(e)&&Ah(e);l&&this.injectableDefInScope(l)?c=Bs(db(e),th):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=i&de.Self?v_():this.parent;return n=i&de.Optional&&n===Fc?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[oh]=a[oh]||[]).unshift($t(e)),o)throw a;return yL(a,e,"R3InjectorError",this.source)}else throw a}finally{Tn(s),fr(o)}}resolveInjectorInitializers(){let e=fr(this),n=Tn(void 0),i;try{let r=this.get(Io,zt,de.Self);for(let o of r)o()}finally{fr(e),Tn(n)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push($t(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(e){e=Ut(e);let n=Ys(e)?e:Ut(e&&e.provide),i=HV(e);if(!Ys(e)&&e.multi===!0){let r=this.records.get(n);r||(r=Bs(void 0,th,!0),r.factory=()=>nb(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}else{let r=this.records.get(n)}this.records.set(n,i)}hydrate(e,n){return n.value===th&&(n.value=zV,n.value=n.factory()),typeof n.value=="object"&&n.value&&GV(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ut(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function db(t){let e=Ah(t),n=e!==null?e.factory:Qs(t);if(n!==null)return n;if(t instanceof T)throw new S(204,!1);if(t instanceof Function)return $V(t);throw new S(204,!1)}function $V(t){let e=t.length;if(e>0){let i=qC(e,"?");throw new S(204,!1)}let n=uL(t);return n!==null?()=>n.factory(t):()=>new t}function HV(t){if(YC(t))return Bs(void 0,t.useValue);{let e=ZC(t);return Bs(e,th)}}function ZC(t,e,n){let i;if(Ys(t)){let r=Ut(t);return Qs(r)||db(r)}else if(YC(t))i=()=>Ut(t.useValue);else if(BV(t))i=()=>t.useFactory(...nb(t.deps||[]));else if(jV(t))i=()=>v(Ut(t.useExisting));else{let r=Ut(t&&(t.useClass||t.provide));if(qV(t))i=()=>new r(...nb(t.deps));else return Qs(r)||db(r)}return i}function Bs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function qV(t){return!!t.deps}function GV(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function WV(t){return typeof t=="function"||typeof t=="object"&&t instanceof T}function hb(t,e){for(let n of t)Array.isArray(n)?hb(n,e):n&&BD(n)?hb(n.\u0275providers,e):e(n)}function bi(t,e){t instanceof Uc&&t.assertNotDestroyed();let n,i=fr(t),r=Tn(void 0);try{return e()}finally{fr(i),Tn(r)}}function KV(t){if(!HD()&&!gL())throw new S(-203,!1)}function gD(t,e=null,n=null,i){let r=XC(t,e,n,i);return r.resolveInjectorInitializers(),r}function XC(t,e=null,n=null,i,r=new Set){let o=[n||zt,LV(t)];return i=i||(typeof t=="object"?void 0:$t(t)),new Uc(o,e||v_(),i||null,r)}var sn=(()=>{let e=class e{static create(i,r){if(Array.isArray(i))return gD({name:""},r,i,"");{let o=i.name??"";return gD({name:o},i.parent,i.providers,o)}}};e.THROW_IF_NOT_FOUND=Fc,e.NULL=new fh,e.\u0275prov=k({token:e,providedIn:"any",factory:()=>v(GC)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var fb;function JC(t){fb=t}function Nh(){if(fb!==void 0)return fb;if(typeof document<"u")return document;throw new S(210,!1)}var ra=new T("AppId",{providedIn:"root",factory:()=>QV}),QV="ng",w_=new T("Platform Initializer"),gt=new T("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var Pt=new T("AnimationModuleType"),el=new T("CSP nonce",{providedIn:"root",factory:()=>Nh().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function YV(t){return t.ownerDocument.body}function eT(t){return t instanceof Function?t():t}function Rc(t){return(t??I(sn)).get(gt)==="browser"}var ZV="ngSkipHydration",XV="ngskiphydration";function tT(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let i=e[n];if(typeof i=="number")return!1;if(typeof i=="string"&&i.toLowerCase()===XV)return!0}return!1}function nT(t){return t.hasAttribute(ZV)}function mh(t){return(t.flags&128)===128}function JV(t){if(mh(t))return!0;let e=t.parent;for(;e;){if(mh(t)||tT(e))return!0;e=e.parent}return!1}var Bi=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Bi||{}),e2=/^>|^->|<!--|-->|--!>|<!-$/g,t2=/(<|>)/g,n2="\u200B$1\u200B";function i2(t){return t.replace(e2,e=>e.replace(t2,n2))}var iT=new Map,r2=0;function o2(){return r2++}function s2(t){iT.set(t[Mh],t)}function a2(t){iT.delete(t[Mh])}var bD="__ngContext__";function Do(t,e){di(e)?(t[bD]=e[Mh],s2(e)):t[bD]=e}var c2;function x_(t,e){return c2(t,e)}function E_(t){let e=t[nt];return Sn(e)?e[nt]:e}function rT(t){return sT(t[Vc])}function oT(t){return sT(t[$n])}function sT(t){for(;t!==null&&!Sn(t);)t=t[$n];return t}function Us(t,e,n,i,r){if(i!=null){let o,s=!1;Sn(i)?o=i:di(i)&&(s=!0,i=i[pn]);let a=qn(i);t===0&&n!==null?r==null?dT(e,n,a):ph(e,n,a,r||null,!0):t===1&&n!==null?ph(e,n,a,r||null,!0):t===2?mT(e,a,s):t===3&&e.destroyNode(a),o!=null&&I2(e,t,o,n,r)}}function aT(t,e){return t.createText(e)}function l2(t,e,n){t.setValue(e,n)}function cT(t,e){return t.createComment(i2(e))}function I_(t,e,n){return t.createElement(e,n)}function u2(t,e){let n=e[je];tl(t,e,n,2,null,null),e[pn]=null,e[gn]=null}function d2(t,e,n,i,r,o){i[pn]=r,i[gn]=e,tl(t,i,n,1,r,o)}function h2(t,e){tl(t,e,e[je],2,null,null)}function f2(t){let e=t[Vc];if(!e)return Ug(t[te],t);for(;e;){let n=null;if(di(e))n=e[Vc];else{let i=e[xt];i&&(n=i)}if(!n){for(;e&&!e[$n]&&e!==t;)di(e)&&Ug(e[te],e),e=e[nt];e===null&&(e=t),di(e)&&Ug(e[te],e),n=e&&e[$n]}e=n}}function m2(t,e,n,i){let r=xt+i,o=n.length;i>0&&(n[r-1][$n]=e),i<o-xt?(e[$n]=n[r],HC(n,xt+i,e)):(n.push(e),e[$n]=null),e[nt]=n;let s=e[Kc];s!==null&&n!==s&&p2(s,e);let a=e[ui];a!==null&&a.insertView(t),ob(e),e[Q]|=128}function p2(t,e){let n=t[Ws],r=e[nt][nt][rn];e[rn]!==r&&(t[Q]|=Ks.HasTransplantedViews),n===null?t[Ws]=[e]:n.push(e)}function lT(t,e){let n=t[Ws],i=n.indexOf(e),r=e[nt];n.splice(i,1)}function zc(t,e){if(t.length<=xt)return;let n=xt+e,i=t[n];if(i){let r=i[Kc];r!==null&&r!==t&&lT(r,i),e>0&&(t[n-1][$n]=i[$n]);let o=dh(t,xt+e);u2(i[te],i);let s=o[ui];s!==null&&s.detachView(o[te]),i[nt]=null,i[$n]=null,i[Q]&=-129}return i}function Fh(t,e){if(!(e[Q]&256)){let n=e[je];n.destroyNode&&tl(t,e,n,3,null,null),f2(e)}}function Ug(t,e){if(!(e[Q]&256)){e[Q]&=-129,e[Q]|=256,e[vo]&&kI(e[vo]),b2(t,e),g2(t,e),e[te].type===1&&e[je].destroy();let n=e[Kc];if(n!==null&&Sn(e[nt])){n!==e[nt]&&lT(n,e);let i=e[ui];i!==null&&i.detachView(t)}a2(e)}}function g2(t,e){let n=t.cleanup,i=e[Lc];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[n[o+1]];n[o].call(s)}i!==null&&(e[Lc]=null);let r=e[mr];if(r!==null){e[mr]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function b2(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof xo)){let o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],c=o[s+1];ci(4,a,c);try{c.call(a)}finally{ci(5,a,c)}}else{ci(4,r,o);try{o.call(r)}finally{ci(5,r,o)}}}}}function uT(t,e,n){return _2(t,e.parent,n)}function _2(t,e,n){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return n[pn];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=t.data[i.directiveStart+r];if(o===hi.None||o===hi.Emulated)return null}return bn(i,n)}}function ph(t,e,n,i,r){t.insertBefore(e,n,i,r)}function dT(t,e,n){t.appendChild(e,n)}function _D(t,e,n,i,r){i!==null?ph(t,e,n,i,r):dT(t,e,n)}function y2(t,e,n,i){t.removeChild(e,n,i)}function D_(t,e){return t.parentNode(e)}function v2(t,e){return t.nextSibling(e)}function hT(t,e,n){return x2(t,e,n)}function w2(t,e,n){return t.type&40?bn(t,n):null}var x2=w2,yD;function C_(t,e,n,i){let r=uT(t,i,e),o=e[je],s=i.parent||e[gn],a=hT(s,i,e);if(r!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)_D(o,r,n[c],a,!1);else _D(o,r,n,a,!1);yD!==void 0&&yD(o,i,e,n,r)}function nh(t,e){if(e!==null){let n=e.type;if(n&3)return bn(e,t);if(n&4)return mb(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return nh(t,i);{let r=t[e.index];return Sn(r)?mb(-1,r):qn(r)}}else{if(n&32)return x_(e,t)()||qn(t[e.index]);{let i=fT(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=E_(t[rn]);return nh(r,i)}else return nh(t,e.next)}}}return null}function fT(t,e){if(e!==null){let i=t[rn][gn],r=e.projection;return i.projection[r]}return null}function mb(t,e){let n=xt+t+1;if(n<e.length){let i=e[n],r=i[te].firstChild;if(r!==null)return nh(i,r)}return e[ji]}function mT(t,e,n){let i=D_(t,e);i&&y2(t,i,e,n)}function pT(t){t.textContent=""}function T_(t,e,n,i,r,o,s){for(;n!=null;){let a=i[n.index],c=n.type;if(s&&e===0&&(a&&Do(qn(a),i),n.flags|=2),(n.flags&32)!==32)if(c&8)T_(t,e,n.child,i,r,o,!1),Us(e,t,r,a,o);else if(c&32){let l=x_(n,i),u;for(;u=l();)Us(e,t,r,u,o);Us(e,t,r,a,o)}else c&16?gT(t,e,i,n,r,o):Us(e,t,r,a,o);n=s?n.projectionNext:n.next}}function tl(t,e,n,i,r,o){T_(n,i,t.firstChild,e,r,o,!1)}function E2(t,e,n){let i=e[je],r=uT(t,n,e),o=n.parent||e[gn],s=hT(o,n,e);gT(i,0,e,n,r,s)}function gT(t,e,n,i,r,o){let s=n[rn],c=s[gn].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Us(e,t,r,u,o)}else{let l=c,u=s[nt];mh(i)&&(l.flags|=128),T_(t,e,l,u,r,o,!0)}}function I2(t,e,n,i,r){let o=n[ji],s=qn(n);o!==s&&Us(e,t,i,o,r);for(let a=xt;a<n.length;a++){let c=n[a];tl(c[te],c,t,e,i,o)}}function D2(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:Bi.DashCase;r==null?t.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Bi.Important),t.setStyle(n,i,r,o))}}function C2(t,e,n){t.setAttribute(e,"style",n)}function bT(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function _T(t,e,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&ib(t,e,i),r!==null&&bT(t,e,r),o!==null&&C2(t,e,o)}var pb=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${tL})`}};function Oh(t){return t instanceof pb?t.changingThisBreaksApplicationSecurity:t}var gb=class{};function T2(){let t=new ko;return I(gt)==="browser"&&(t.store=S2(Nh(),I(ra))),t}var ko=(()=>{let e=class e{constructor(){this.store={},this.onSerializeCallbacks={}}get(i,r){return this.store[i]!==void 0?this.store[i]:r}set(i,r){this.store[i]=r}remove(i){delete this.store[i]}hasKey(i){return this.store.hasOwnProperty(i)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(i,r){this.onSerializeCallbacks[i]=r}toJson(){for(let i in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(i))try{this.store[i]=this.onSerializeCallbacks[i]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}};e.\u0275prov=k({token:e,providedIn:"root",factory:T2});let t=e;return t})();function S2(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(i){console.warn("Exception while restoring TransferState for app "+e,i)}return{}}var yT="h",vT="b",bb=function(t){return t.FirstChild="f",t.NextSibling="n",t}(bb||{}),A2="e",k2="t",S_="c",wT="x",gh="r",M2="i",R2="n",P2="d",N2="__nghData__",xT=N2,zg="ngh",F2="nghm",ET=(t,e,n)=>null;function O2(t,e,n=!1){let i=t.getAttribute(zg);if(i==null)return null;let[r,o]=i.split("|");if(i=n?o:r,!i)return null;let s=n?r:o?`|${o}`:"",a={};if(i!==""){let l=e.get(ko,null,{optional:!0});l!==null&&(a=l.get(xT,[])[Number(i)])}let c={data:a,firstChild:t.firstChild??null};return n&&(c.firstChild=t,Lh(c,0,t.nextSibling)),s?t.setAttribute(zg,s):t.removeAttribute(zg),c}function L2(){ET=O2}function A_(t,e,n=!1){return ET(t,e,n)}function V2(t){let e=t._lView;return e[te].type===2?null:(cC(e)&&(e=e[pt]),e)}function j2(t){return t.textContent?.replace(/\s/gm,"")}function B2(t){let e=Nh(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=j2(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),i,r=[];for(;i=n.nextNode();)r.push(i);for(let o of r)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function Lh(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function _b(t,e){return t.segmentHeads?.[e]??null}function U2(t,e){let n=t.data,i=n[A2]?.[e]??null;return i===null&&n[S_]?.[e]&&(i=k_(t,e)),i}function IT(t,e){return t.data[S_]?.[e]??null}function k_(t,e){let n=IT(t,e)??[],i=0;for(let r of n)i+=r[gh]*(r[wT]??1);return i}function Vh(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[P2];t.disconnectedNodes=n?new Set(n):null}return!!t.disconnectedNodes?.has(e)}var yb=class{},bh=class{};function z2(t){let e=Error(`No component factory found for ${$t(t)}.`);return e[$2]=t,e}var $2="ngComponent";var vb=class{resolveComponentFactory(e){throw z2(e)}},Ir=(()=>{let e=class e{};e.NULL=new vb;let t=e;return t})();function H2(){return oa(on(),ge())}function oa(t,e){return new he(bn(t,e))}var he=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=H2;let t=e;return t})();function q2(t){return t instanceof he?t.nativeElement:t}var Co=class{},Mo=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>G2();let t=e;return t})();function G2(){let t=ge(),e=on(),n=vr(e.index,t);return(di(n)?n:t)[je]}var W2=(()=>{let e=class e{};e.\u0275prov=k({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),$g={};function DT(t){return M_(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function K2(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),i;for(;!(i=n.next()).done;)e(i.value)}}function M_(t){return t!==null&&(typeof t=="function"||typeof t=="object")}var wb=class{constructor(){}supports(e){return DT(e)}create(e){return new xb(e)}},Q2=(t,e)=>e,xb=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Q2}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){let s=!i||n&&n.currentIndex<vD(i,r,o)?n:i,a=vD(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(n=n._next,s.previousIndex==null)r++;else{o||(o=[]);let l=a-r,u=c-r;if(l!=u){for(let h=0;h<l;h++){let f=h<o.length?o[h]:o[h]=0,m=f+h;u<=m&&m<l&&(o[h]=f+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!DT(e))throw new S(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,i=!1,r,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),i=!0):(i&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else r=0,K2(e,a=>{s=this._trackByFn(r,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,s,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,r)):e=this._addAfter(new Eb(n,i),o,r)),e}_verifyReinsertion(e,n,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){let r=n===null?this._itHead:n._next;return e._next=r,e._prev=n,r===null?this._itTail=e:r._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new _h),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,i=e._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new _h),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Eb=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Ib=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let n=e._prevDup,i=e._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},_h=class{constructor(){this.map=new Map}put(e){let n=e.trackById,i=this.map.get(n);i||(i=new Ib,this.map.set(n,i)),i.add(e)}get(e,n){let i=e,r=this.map.get(i);return r?r.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function vD(t,e,n){let i=t.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}var Db=class{constructor(){}supports(e){return e instanceof Map||M_(e)}create(){return new Cb}},Cb=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||M_(e)))throw new S(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(n&&n.key===r)this._maybeAddToChanges(n,i),this._appendAfter=n,n=n._next;else{let o=this._getOrCreateRecordForKey(r,i);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let i=n;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let i=e._prev;return n._next=e,n._prev=i,e._prev=n,i&&(i._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let r=this._records.get(e);this._maybeAddToChanges(r,n);let o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}let i=new Tb(e);return this._records.set(e,i),i.currentValue=n,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(i=>n(e[i],i))}},Tb=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function wD(){return new nl([new wb])}var nl=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r!=null){let o=r.factories.slice();i=i.concat(o)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||wD()),deps:[[e,new Rh,new Ao]]}}find(i){let r=this.factories.find(o=>o.supports(i));if(r!=null)return r;throw new S(901,!1)}};e.\u0275prov=k({token:e,providedIn:"root",factory:wD});let t=e;return t})();function xD(){return new R_([new Db])}var R_=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r){let o=r.factories.slice();i=i.concat(o)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||xD()),deps:[[e,new Rh,new Ao]]}}find(i){let r=this.factories.find(o=>o.supports(i));if(r)return r;throw new S(901,!1)}};e.\u0275prov=k({token:e,providedIn:"root",factory:xD});let t=e;return t})();function yh(t,e,n,i,r=!1){for(;n!==null;){let o=e[n.index];o!==null&&i.push(qn(o)),Sn(o)&&Y2(o,i);let s=n.type;if(s&8)yh(t,e,n.child,i);else if(s&32){let a=x_(n,e),c;for(;c=a();)i.push(c)}else if(s&16){let a=fT(e,n);if(Array.isArray(a))i.push(...a);else{let c=E_(e[rn]);yh(c[te],c,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function Y2(t,e){for(let n=xt;n<t.length;n++){let i=t[n],r=i[te].firstChild;r!==null&&yh(i[te],i,r,e)}t[ji]!==t[pn]&&e.push(t[ji])}var CT=[];function Z2(t){return t[vo]??X2(t)}function X2(t){let e=CT.pop()??Object.create(ej);return e.lView=t,e}function J2(t){t.lView[vo]!==t&&(t.lView=null,CT.push(t))}var ej=Ee(M({},TI),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Bc(t.lView)},consumerOnSignalRead(){this.lView[vo]=this}}),tj="ngOriginalError";function Hg(t){return t[tj]}var fi=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Hg(e);for(;n&&Hg(n);)n=Hg(n);return n||null}},TT=new T("",{providedIn:"root",factory:()=>I(fi).handleError.bind(void 0)}),Wd=new T(""),ST=!1,AT=new T("",{providedIn:"root",factory:()=>ST});var Ui={};function Oe(t){kT(Et(),ge(),wr()+t,!1)}function kT(t,e,n,i){if(!i)if((e[Q]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Xd(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Jd(e,o,0,n)}wo(n)}function D(t,e=de.Default){let n=ge();if(n===null)return v(t,e);let i=on();return BC(i,n,Ut(t),e)}function jh(){let t="invalid";throw new Error(t)}function nj(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)wo(~r);else{let o=r,s=n[++i],a=n[++i];rV(s,o);let c=e[o];a(2,c)}}}finally{wo(-1)}}function Bh(t,e,n,i,r,o,s,a,c,l,u){let d=e.blueprint.slice();return d[pn]=r,d[Q]=i|4|128|8|64,(l!==null||t&&t[Q]&2048)&&(d[Q]|=2048),mC(d),d[nt]=d[Js]=t,d[Rt]=n,d[gr]=s||t&&t[gr],d[je]=a||t&&t[je],d[Gs]=c||t&&t[Gs]||null,d[gn]=o,d[Mh]=o2(),d[Hn]=u,d[oC]=l,d[rn]=e.type==2?t[rn]:d,d}function il(t,e,n,i,r){let o=t.data[e];if(o===null)o=ij(t,e,n,i,r),iV()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let s=eV();o.injectorIndex=s===null?-1:s.injectorIndex}return Xc(o,!0),o}function ij(t,e,n,i,r){let o=_C(),s=yC(),a=s?o:o&&o.parent,c=t.data[e]=uj(t,a,n,e,i,r);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function MT(t,e,n,i){if(n===0)return-1;let r=e.length;for(let o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function RT(t,e,n,i,r){let o=wr(),s=i&2;try{wo(-1),s&&e.length>pt&&kT(t,e,pt,!1),ci(s?2:0,r),n(i,r)}finally{wo(o),ci(s?3:1,r)}}function PT(t,e,n){if(aC(e)){let i=wt(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{wt(i)}}}function NT(t,e,n){bC()&&(gj(t,e,n,bn(n,e)),(n.flags&64)===64&&UT(t,e,n))}function FT(t,e,n=bn){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?n(e,t):t[s];t[r++]=a}}}function OT(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=P_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function P_(t,e,n,i,r,o,s,a,c,l,u){let d=pt+i,h=d+r,f=rj(d,h),m=typeof l=="function"?l():l;return f[te]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:u}}function rj(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:Ui);return n}function oj(t,e,n,i){let o=i.get(AT,ST)||n===hi.ShadowDom,s=t.selectRootElement(e,o);return sj(s),s}function sj(t){LT(t)}var LT=t=>null;function aj(t){nT(t)?pT(t):B2(t)}function cj(){LT=aj}function lj(t,e,n,i){let r=qT(e);r.push(n),t.firstCreatePass&&GT(t).push(i,r.length-1)}function uj(t,e,n,i,r,o){let s=e?e.injectorIndex:-1,a=0;return ea()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ED(t,e,n,i){for(let r in t)if(t.hasOwnProperty(r)){n=n===null?{}:n;let o=t[r];i===null?ID(n,e,r,o):i.hasOwnProperty(r)&&ID(n,e,i[r],o)}return n}function ID(t,e,n,i){t.hasOwnProperty(n)?t[n].push(e,i):t[n]=[e,i]}function dj(t,e,n){let i=e.directiveStart,r=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=i;u<r;u++){let d=o[u],h=n?n.get(d):null,f=h?h.inputs:null,m=h?h.outputs:null;c=ED(d.inputs,u,c,f),l=ED(d.outputs,u,l,m);let p=c!==null&&s!==null&&!ZD(e)?Tj(c,u,s):null;a.push(p)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function hj(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function VT(t,e,n,i,r,o,s,a){let c=bn(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[i])?(N_(t,n,u,i,r),Qc(e)&&fj(n,e.index)):e.type&3?(i=hj(i),r=s!=null?s(r,e.value||"",i):r,o.setProperty(c,i,r)):e.type&12}function fj(t,e){let n=vr(e,t);n[Q]&16||(n[Q]|=64)}function jT(t,e,n,i){if(bC()){let r=i===null?null:{"":-1},o=_j(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&BT(t,e,n,s,r,a),r&&yj(n,i,r)}n.mergedAttrs=Oc(n.mergedAttrs,n.attrs)}function BT(t,e,n,i,r,o){for(let l=0;l<i.length;l++)cb(uh(n,e),t,i[l].type);wj(n,t.data.length,i.length);for(let l=0;l<i.length;l++){let u=i[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=MT(t,e,i.length,null);for(let l=0;l<i.length;l++){let u=i[l];n.mergedAttrs=Oc(n.mergedAttrs,u.hostAttrs),xj(t,n,e,c,u),vj(c,u,r),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}dj(t,n,o)}function mj(t,e,n,i,r){let o=r.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;pj(s)!=a&&s.push(a),s.push(n,i,o)}}function pj(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function gj(t,e,n,i){let r=n.directiveStart,o=n.directiveEnd;Qc(n)&&Ej(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||uh(n,e),Do(i,e);let s=n.initialInputs;for(let a=r;a<o;a++){let c=t.data[a],l=Eo(e,t,a,n);if(Do(l,e),s!==null&&Cj(e,a-r,l,c,n,s),br(c)){let u=vr(n.index,e);u[Rt]=Eo(e,t,a,n)}}}function UT(t,e,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,s=oV();try{wo(o);for(let a=i;a<r;a++){let c=t.data[a],l=e[a];sb(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&bj(c,l)}}finally{wo(-1),sb(s)}}function bj(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function _j(t,e){let n=t.directiveRegistry,i=null,r=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(XD(e,s.selectors,!1))if(i||(i=[]),br(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let c=a.length;Sb(t,e,c)}else i.unshift(s),Sb(t,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function Sb(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function yj(t,e,n){if(e){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let o=n[e[r+1]];if(o==null)throw new S(-301,!1);i.push(e[r],o)}}}function vj(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;br(e)&&(n[""]=t)}}function wj(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function xj(t,e,n,i,r){t.data[i]=r;let o=r.factory||(r.factory=Qs(r.type,!0)),s=new xo(o,br(r),D);t.blueprint[i]=s,n[i]=s,mj(t,e,i,MT(t,n,r.hostVars,Ui),r)}function Ej(t,e,n){let i=bn(e,t),r=OT(n),o=t[gr].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Uh(t,Bh(t,r,null,s,i,e,null,o.createRenderer(i,n),null,null,null));t[e.index]=a}function Ij(t,e,n,i,r,o){let s=bn(t,e);Dj(e[je],s,o,t.value,n,i,r)}function Dj(t,e,n,i,r,o,s){if(o==null)t.removeAttribute(e,r,n);else{let a=s==null?o_(o):s(o,i||"",r);t.setAttribute(e,r,a,n)}}function Cj(t,e,n,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++];zT(i,n,c,l,u)}}function zT(t,e,n,i,r){let o=wt(null);try{let s=t.inputTransforms;s!==null&&s.hasOwnProperty(i)&&(r=s[i].call(e,r)),t.setInput!==null?t.setInput(e,r,n,i):e[i]=r}finally{wt(o)}}function Tj(t,e,n){let i=null,r=0;for(;r<n.length;){let o=n[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){i===null&&(i=[]);let s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){i.push(o,s[a+1],n[r+1]);break}}r+=2}return i}function $T(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function HT(t,e){let n=t.contentQueries;if(n!==null){let i=wt(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],s=n[r+1];if(s!==-1){let a=t.data[s];u_(o),a.contentQueries(2,e[s],s)}}}finally{wt(i)}}}function Uh(t,e){return t[Vc]?t[uD][$n]=e:t[Vc]=e,t[uD]=e,e}function Ab(t,e,n){u_(0);let i=wt(null);try{e(t,n)}finally{wt(i)}}function qT(t){return t[Lc]||(t[Lc]=[])}function GT(t){return t.cleanup||(t.cleanup=[])}function WT(t,e){let n=t[Gs],i=n?n.get(fi,null):null;i&&i.handleError(e)}function N_(t,e,n,i,r){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=e[s],l=t.data[s];zT(l,c,i,a,r)}}function Sj(t,e,n){let i=fC(e,t);l2(t[je],i,n)}var Aj=100;function kj(t,e=!0){let n=t[gr],i=n.rendererFactory,r=n.afterRenderEventManager,o=!1;o||(i.begin?.(),r?.begin());try{Mj(t)}catch(s){throw e&&WT(t,s),s}finally{o||(i.end?.(),n.inlineEffectRunner?.flush(),r?.end())}}function Mj(t){kb(t,0);let e=0;for(;pC(t);){if(e===Aj)throw new S(103,!1);e++,kb(t,1)}}function Rj(t,e,n,i){let r=e[Q];if((r&256)===256)return;let o=!1;!o&&e[gr].inlineEffectRunner?.flush(),d_(e);let s=null,a=null;!o&&Pj(t)&&(a=Z2(e),s=SI(a));try{mC(e),nV(t.bindingStartIndex),n!==null&&RT(t,e,n,2,i);let c=(r&3)===3;if(!o)if(c){let d=t.preOrderCheckHooks;d!==null&&Xd(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Jd(e,d,0,null),Lg(e,0)}if(Nj(e),KT(e,0),t.contentQueries!==null&&HT(t,e),!o)if(c){let d=t.contentCheckHooks;d!==null&&Xd(e,d)}else{let d=t.contentHooks;d!==null&&Jd(e,d,1),Lg(e,1)}nj(t,e);let l=t.components;l!==null&&YT(e,l,0);let u=t.viewQuery;if(u!==null&&Ab(2,u,i),!o)if(c){let d=t.viewCheckHooks;d!==null&&Xd(e,d)}else{let d=t.viewHooks;d!==null&&Jd(e,d,2),Lg(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Og]){for(let d of e[Og])d();e[Og]=null}o||(e[Q]&=-73)}catch(c){throw Bc(e),c}finally{a!==null&&(AI(a,s),J2(a)),h_()}}function Pj(t){return t.type!==2}function KT(t,e){for(let n=rT(t);n!==null;n=oT(n)){n[Q]&=~Ks.HasChildViewsToRefresh;for(let i=xt;i<n.length;i++){let r=n[i];QT(r,e)}}}function Nj(t){for(let e=rT(t);e!==null;e=oT(e)){if(!(e[Q]&Ks.HasTransplantedViews))continue;let n=e[Ws];for(let i=0;i<n.length;i++){let r=n[i],o=r[nt];qL(r)}}}function Fj(t,e,n){let i=vr(e,t);QT(i,n)}function QT(t,e){l_(t)&&kb(t,e)}function kb(t,e){let i=t[te],r=t[Q],o=t[vo],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&gg(o)),o&&(o.dirty=!1),t[Q]&=-9217,s)Rj(i,t,i.template,t[Rt]);else if(r&8192){KT(t,1);let a=i.components;a!==null&&YT(t,a,1)}}function YT(t,e,n){for(let i=0;i<e.length;i++)Fj(t,e[i],n)}function F_(t){for(t[gr].changeDetectionScheduler?.notify();t;){t[Q]|=64;let e=E_(t);if(cC(t)&&!e)return t;t=e}return null}var To=class{get rootNodes(){let e=this._lView,n=e[te];return yh(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Rt]}set context(e){this._lView[Rt]=e}get destroyed(){return(this._lView[Q]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[nt];if(Sn(e)){let n=e[sh],i=n?n.indexOf(this):-1;i>-1&&(zc(e,i),dh(n,i))}this._attachedToViewContainer=!1}Fh(this._lView[te],this._lView)}onDestroy(e){gC(this._lView,e)}markForCheck(){F_(this._cdRefInjectingView||this._lView)}detach(){this._lView[Q]&=-129}reattach(){ob(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,kj(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,h2(this._lView[te],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e,ob(this._lView)}},Nt=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Oj;let t=e;return t})();function Oj(t){return Lj(on(),ge(),(t&16)===16)}function Lj(t,e,n){if(Qc(t)&&!n){let i=vr(t.index,e);return new To(i,i)}else if(t.type&47){let i=e[rn];return new To(i,e)}return null}var ZT=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Vj,e.__NG_ENV_ID__=i=>i;let t=e;return t})(),Mb=class extends ZT{constructor(e){super(),this._lView=e}onDestroy(e){return gC(this._lView,e),()=>WL(this._lView,e)}};function Vj(){return new Mb(ge())}var DD=new Set;function Dr(t){DD.has(t)||(DD.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Rb=class extends fe{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,i){let r=e,o=n||(()=>null),s=i;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=qg(o),r&&(r=qg(r)),s&&(s=qg(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof Ie&&e.add(a),a}};function qg(t){return e=>{setTimeout(t,void 0,e)}}var ne=Rb;function CD(...t){}function jj(){let t=typeof mn.requestAnimationFrame=="function",e=mn[t?"requestAnimationFrame":"setTimeout"],n=mn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var U=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ne(!1),this.onMicrotaskEmpty=new ne(!1),this.onStable=new ne(!1),this.onError=new ne(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=jj().nativeRequestAnimationFrame,zj(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new S(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,Bj,CD,CD);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},Bj={};function O_(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Uj(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(mn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Pb(t),t.isCheckStableRunning=!0,O_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Pb(t))}function zj(t){let e=()=>{Uj(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,o,s,a)=>{if($j(a))return n.invokeTask(r,o,s,a);try{return TD(t),n.invokeTask(r,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),SD(t)}},onInvoke:(n,i,r,o,s,a,c)=>{try{return TD(t),n.invoke(r,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),SD(t)}},onHasTask:(n,i,r,o)=>{n.hasTask(r,o),i===r&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Pb(t),O_(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,i,r,o)=>(n.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Pb(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function TD(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function SD(t){t._nesting--,O_(t)}var Nb=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ne,this.onMicrotaskEmpty=new ne,this.onStable=new ne,this.onError=new ne}run(e,n,i){return e.apply(n,i)}runGuarded(e,n,i){return e.apply(n,i)}runOutsideAngular(e){return e()}runTask(e,n,i,r){return e.apply(n,i)}};function $j(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function Hj(t="zone.js",e){return t==="noop"?new Nb:t==="zone.js"?new U(e):t}var zs=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(zs||{}),qj={destroy(){}};function L_(t,e){!e&&KV(L_);let n=e?.injector??I(sn);if(!Rc(n))return qj;Dr("NgAfterNextRender");let i=n.get(XT),r=i.handler??=new Ob,o=e?.phase??zs.MixedReadWrite,s=()=>{r.unregister(c),a()},a=n.get(ZT).onDestroy(s),c=new Fb(n,o,()=>{s(),t()});return r.register(c),{destroy:s}}var Fb=class{constructor(e,n,i){this.phase=n,this.callbackFn=i,this.zone=e.get(U),this.errorHandler=e.get(fi,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Ob=class{constructor(){this.executingCallbacks=!1,this.buckets={[zs.EarlyRead]:new Set,[zs.Write]:new Set,[zs.MixedReadWrite]:new Set,[zs.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new S(102,!1)}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},XT=(()=>{let e=class e{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,this.renderDepth===0){for(let i of this.internalCallbacks)i();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=k({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Gj(t,e){let n=vr(e,t),i=n[te];Wj(i,n);let r=n[pn];r!==null&&n[Hn]===null&&(n[Hn]=A_(r,n[Gs])),V_(i,n,n[Rt])}function Wj(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function V_(t,e,n){d_(e);try{let i=t.viewQuery;i!==null&&Ab(1,i,n);let r=t.template;r!==null&&RT(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&HT(t,e),t.staticViewQueries&&Ab(2,t.viewQuery,n);let o=t.components;o!==null&&Kj(e,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[Q]&=-5,h_()}}function Kj(t,e){for(let n=0;n<e.length;n++)Gj(t,e[n])}function Lb(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=Jg(r,a);else if(o==2){let c=a,l=e[++s];i=Jg(i,c+": "+l+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var vh=class extends Ir{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=pr(e);return new Zs(n,this.ngModule)}};function AD(t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let i=t[n];e.push({propName:i,templateName:n})}return e}function Qj(t){let e=t.toLowerCase();return e==="svg"?hC:e==="math"?jL:null}var Vb=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=kh(i);let r=this.injector.get(e,$g,i);return r!==$g||n===$g?r:this.parentInjector.get(e,n,i)}},Zs=class extends bh{get inputs(){let e=this.componentDef,n=e.inputTransforms,i=AD(e.inputs);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return AD(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=ML(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){r=r||this.ngModule;let o=r instanceof Ht?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let s=o?new Vb(e,o):e,a=s.get(Co,null);if(a===null)throw new S(407,!1);let c=s.get(W2,null),l=s.get(XT,null),u=s.get(gb,null),d={rendererFactory:a,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:u},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",m=i?oj(h,i,this.componentDef.encapsulation,s):I_(h,f,Qj(f)),p=512;this.componentDef.signals?p|=4096:this.componentDef.onPush||(p|=16);let g=null;m!==null&&(g=A_(m,s,!0));let y=P_(0,null,null,1,0,null,null,null,null,null,null),A=Bh(null,y,null,p,null,null,d,h,s,null,g);d_(A);let C,R;try{let B=this.componentDef,H,oe=null;B.findHostDirectiveDefs?(H=[],oe=new Map,B.findHostDirectiveDefs(B,H,oe),H.push(B)):H=[B];let Ye=Yj(A,m),un=Zj(Ye,m,B,H,A,d,h);R=c_(y,pt),m&&eB(h,B,m,i),n!==void 0&&tB(R,this.ngContentSelectors,n),C=Jj(un,B,H,oe,A,[nB]),V_(y,A,null)}finally{h_()}return new jb(this.componentType,C,oa(R,A),A,R)}},jb=class extends yb{constructor(e,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new To(r,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;N_(o[te],o,r,e,n),this.previousInputValues.set(e,n);let s=vr(this._tNode.index,o);F_(s)}}get injector(){return new yo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Yj(t,e){let n=t[te],i=pt;return t[i]=e,il(n,i,2,"#host",null)}function Zj(t,e,n,i,r,o,s){let a=r[te];Xj(i,t,e,s);let c=null;e!==null&&(c=A_(e,r[Gs]));let l=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=Bh(r,OT(n),null,u,r[t.index],t,o,l,null,null,c);return a.firstCreatePass&&Sb(a,t,i.length-1),Uh(r,d),r[t.index]=d}function Xj(t,e,n,i){for(let r of t)e.mergedAttrs=Oc(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(Lb(e,e.mergedAttrs,!0),n!==null&&_T(i,n,e))}function Jj(t,e,n,i,r,o){let s=on(),a=r[te],c=bn(s,r);BT(a,r,s,n,null,i);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,h=Eo(r,a,d,s);Do(h,r)}UT(a,r,s),c&&Do(c,r);let l=Eo(r,a,s.directiveStart+s.componentOffset,s);if(t[Rt]=r[Rt]=l,o!==null)for(let u of o)u(l,e);return PT(a,s,t),l}function eB(t,e,n,i){if(i)ib(t,n,["ng-version","17.0.8"]);else{let{attrs:r,classes:o}=RL(e.selectors[0]);r&&ib(t,n,r),o&&o.length>0&&bT(t,n,o.join(" "))}}function tB(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let o=n[r];i.push(o!=null?Array.from(o):null)}}function nB(){let t=on();p_(ge()[te],t)}function iB(t){return Object.getPrototypeOf(t.prototype).constructor}function Ke(t){let e=iB(t.type),n=!0,i=[t];for(;e;){let r;if(br(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new S(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let s=t;s.inputs=Kd(t.inputs),s.inputTransforms=Kd(t.inputTransforms),s.declaredInputs=Kd(t.declaredInputs),s.outputs=Kd(t.outputs);let a=r.hostBindings;a&&aB(t,a);let c=r.viewQuery,l=r.contentQueries;if(c&&oB(t,c),l&&sB(t,l),qd(t.inputs,r.inputs),qd(t.declaredInputs,r.declaredInputs),qd(t.outputs,r.outputs),r.inputTransforms!==null&&(s.inputTransforms===null&&(s.inputTransforms={}),qd(s.inputTransforms,r.inputTransforms)),br(r)&&r.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Ke&&(n=!1)}}e=Object.getPrototypeOf(e)}rB(i)}function rB(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Oc(r.hostAttrs,n=Oc(n,r.hostAttrs))}}function Kd(t){return t===qs?{}:t===zt?[]:t}function oB(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function sB(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,o)=>{e(i,r,o),n(i,r,o)}:t.contentQueries=e}function aB(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}function Wn(t){let e=t.inputConfig,n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[2]&&(n[i]=r[2])}t.inputTransforms=n}function JT(t,e,n){return t[e]=n}function Gn(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function cB(t,e,n,i){let r=Gn(t,e,n);return Gn(t,e+1,i)||r}function Gt(t,e,n,i){let r=ge(),o=ta();if(Gn(r,o,e)){let s=Et(),a=f_();Ij(a,r,t,e,n,i)}return Gt}function lB(t,e,n,i){return Gn(t,ta(),n)?e+o_(n)+i:Ui}function Qd(t,e){return t<<17|e<<2}function So(t){return t>>17&32767}function uB(t){return(t&2)==2}function dB(t,e){return t&131071|e<<17}function Bb(t){return t|2}function Xs(t){return(t&131068)>>2}function Gg(t,e){return t&-131069|e<<2}function hB(t){return(t&1)===1}function Ub(t){return t|1}function fB(t,e,n,i,r,o){let s=o?e.classBindings:e.styleBindings,a=So(s),c=Xs(s);t[i]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Jc(d,u)>0)&&(l=!0)}else u=n;if(r)if(c!==0){let h=So(t[a+1]);t[i+1]=Qd(h,a),h!==0&&(t[h+1]=Gg(t[h+1],i)),t[a+1]=dB(t[a+1],i)}else t[i+1]=Qd(a,0),a!==0&&(t[a+1]=Gg(t[a+1],i)),a=i;else t[i+1]=Qd(c,0),a===0?a=i:t[c+1]=Gg(t[c+1],i),c=i;l&&(t[i+1]=Bb(t[i+1])),kD(t,u,i,!0,o),kD(t,u,i,!1,o),mB(e,u,t,i,o),s=Qd(a,c),o?e.classBindings=s:e.styleBindings=s}function mB(t,e,n,i,r){let o=r?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Jc(o,e)>=0&&(n[i+1]=Ub(n[i+1]))}function kD(t,e,n,i,r){let o=t[n+1],s=e===null,a=i?So(o):Xs(o),c=!1;for(;a!==0&&(c===!1||s);){let l=t[a],u=t[a+1];pB(l,e)&&(c=!0,t[a+1]=i?Ub(u):Bb(u)),a=i?So(u):Xs(u)}c&&(t[n+1]=i?Bb(o):Ub(o))}function pB(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Jc(t,e)>=0:!1}var zn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function gB(t){return t.substring(zn.key,zn.keyEnd)}function bB(t){return _B(t),eS(t,tS(t,0,zn.textEnd))}function eS(t,e){let n=zn.textEnd;return n===e?-1:(e=zn.keyEnd=yB(t,zn.key=e,n),tS(t,e,n))}function _B(t){zn.key=0,zn.keyEnd=0,zn.value=0,zn.valueEnd=0,zn.textEnd=t.length}function tS(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function yB(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function Pe(t,e,n){let i=ge(),r=ta();if(Gn(i,r,e)){let o=Et(),s=f_();VT(o,s,i,t,e,i[je],n,!1)}return Pe}function zb(t,e,n,i,r){let o=e.inputs,s=r?"class":"style";N_(t,n,o[s],s,i)}function rl(t,e,n){return nS(t,e,n,!1),rl}function Le(t,e){return nS(t,e,null,!0),Le}function zh(t){wB(TB,vB,t,!0)}function vB(t,e){for(let n=bB(e);n>=0;n=eS(e,n))__(t,gB(e),!0)}function nS(t,e,n,i){let r=ge(),o=Et(),s=xC(2);if(o.firstUpdatePass&&rS(o,t,s,i),e!==Ui&&Gn(r,s,e)){let a=o.data[wr()];oS(o,a,r,r[je],t,r[s+1]=AB(e,n),i,s)}}function wB(t,e,n,i){let r=Et(),o=xC(2);r.firstUpdatePass&&rS(r,null,o,i);let s=ge();if(n!==Ui&&Gn(s,o,n)){let a=r.data[wr()];if(sS(a,i)&&!iS(r,o)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=Jg(c,n||"")),zb(r,a,s,n,i)}else SB(r,a,s,s[je],s[o+1],s[o+1]=CB(t,e,n),i,o)}}function iS(t,e){return e>=t.expandoStartIndex}function rS(t,e,n,i){let r=t.data;if(r[n+1]===null){let o=r[wr()],s=iS(t,n);sS(o,i)&&e===null&&!s&&(e=!1),e=xB(r,o,e,i),fB(r,o,e,n,s,i)}}function xB(t,e,n,i){let r=sV(t),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=Wg(null,t,e,n,i),n=$c(n,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==r)if(n=Wg(r,t,e,n,i),o===null){let c=EB(t,e,i);c!==void 0&&Array.isArray(c)&&(c=Wg(null,t,e,c[1],i),c=$c(c,e.attrs,i),IB(t,e,i,c))}else o=DB(t,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),n}function EB(t,e,n){let i=n?e.classBindings:e.styleBindings;if(Xs(i)!==0)return t[So(i)]}function IB(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[So(r)]=i}function DB(t,e,n){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=t[o].hostAttrs;i=$c(i,s,n)}return $c(i,e.attrs,n)}function Wg(t,e,n,i,r){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],i=$c(i,o.hostAttrs,r),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),i}function $c(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),__(t,s,n?!0:e[++o]))}return t===void 0?null:t}function CB(t,e,n){if(n==null||n==="")return zt;let i=[],r=Oh(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&t(i,o,r[o]);else typeof r=="string"&&e(i,r);return i}function TB(t,e,n){let i=String(e);i!==""&&!i.includes(" ")&&__(t,i,n)}function SB(t,e,n,i,r,o,s,a){r===Ui&&(r=zt);let c=0,l=0,u=0<r.length?r[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let h=c<r.length?r[c+1]:void 0,f=l<o.length?o[l+1]:void 0,m=null,p;u===d?(c+=2,l+=2,h!==f&&(m=d,p=f)):d===null||u!==null&&u<d?(c+=2,m=u):(l+=2,m=d,p=f),m!==null&&oS(t,e,n,i,m,p,s,a),u=c<r.length?r[c]:null,d=l<o.length?o[l]:null}}function oS(t,e,n,i,r,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=hB(l)?MD(c,e,n,r,Xs(l),s):void 0;if(!wh(u)){wh(o)||uB(l)&&(o=MD(c,null,n,r,a,s));let d=fC(wr(),n);D2(i,s,d,r,o)}}function MD(t,e,n,i,r,o){let s=e===null,a;for(;r>0;){let c=t[r],l=Array.isArray(c),u=l?c[1]:c,d=u===null,h=n[r+1];h===Ui&&(h=d?zt:void 0);let f=d?jg(h,i):u===i?h:void 0;if(l&&!wh(f)&&(f=jg(c,i)),wh(f)&&(a=f,s))return a;let m=t[r+1];r=s?So(m):Xs(m)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=jg(c,i))}return a}function wh(t){return t!==void 0}function AB(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=$t(Oh(t)))),t}function sS(t,e){return(t.flags&(e?8:16))!==0}function aS(t){let e=t[jc]??[],i=t[nt][je];for(let r of e)kB(r,i);t[jc]=zt}function kB(t,e){let n=0,i=t.firstChild;if(i){let r=t.data[gh];for(;n<r;){let o=i.nextSibling;mT(e,i,!1),i=o,n++}}}function cS(t){aS(t);for(let e=xt;e<t.length;e++)xh(t[e])}function xh(t){let e=t[te];for(let n=pt;n<e.bindingStartIndex;n++)if(Sn(t[n])){let i=t[n];cS(i)}else di(t[n])&&xh(t[n])}function MB(t){let e=t._views;for(let n of e){let i=V2(n);if(i!==null&&i[pn]!==null)if(di(i))xh(i);else{let r=i[pn];xh(r),cS(i)}}}var RB=new RegExp(`^(\\d+)*(${vT}|${yT})*(.*)`);function PB(t){let e=t.match(RB),[n,i,r,o]=e,s=i?parseInt(i,10):r,a=[];for(let[c,l,u]of o.matchAll(/(f|n)(\d*)/g)){let d=parseInt(u,10)||1;a.push(l,d)}return[s,...a]}function NB(t){return!t.prev&&t.parent?.type===8}function Kg(t){return t.index-pt}function $h(t,e,n,i){let r=null,o=Kg(i),s=t.data[R2];if(s?.[o])r=OB(s[o],n);else if(e.firstChild===i)r=t.firstChild;else{let a=i.prev===null,c=i.prev??i.parent;if(NB(i)){let l=Kg(i.parent);r=_b(t,l)}else{let l=bn(c,n);if(a)r=l.firstChild;else{let u=Kg(c),d=_b(t,u);if(c.type===2&&d){let f=k_(t,u)+1;r=Hh(f,d)}else r=l.nextSibling}}}return r}function Hh(t,e){let n=e;for(let i=0;i<t;i++)n=n.nextSibling;return n}function FB(t,e){let n=t;for(let i=0;i<e.length;i+=2){let r=e[i],o=e[i+1];for(let s=0;s<o;s++)switch(r){case bb.FirstChild:n=n.firstChild;break;case bb.NextSibling:n=n.nextSibling;break}}return n}function OB(t,e){let[n,...i]=PB(t),r;if(n===yT)r=e[rn][pn];else if(n===vT)r=YV(e[rn][pn]);else{let o=Number(n);r=qn(e[o+pt])}return FB(r,i)}function LB(t,e){let n=[];for(let i of e)for(let r=0;r<(i[wT]??1);r++){let o={data:i,firstChild:null};i[gh]>0&&(o.firstChild=t,t=Hh(i[gh],t)),n.push(o)}return[t,n]}var lS=(t,e)=>null;function VB(t,e){let n=t[jc];return!e||n===null||n.length===0?null:n[0].data[M2]===e?n.shift():(aS(t),null)}function jB(){lS=VB}function Hc(t,e){return lS(t,e)}var $b=class{destroy(e){}updateValue(e,n){}swap(e,n){let i=Math.min(e,n),r=Math.max(e,n),o=this.detach(r);if(r-i>1){let s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(e,n){this.attach(n,this.detach(e))}};function Qg(t,e,n,i,r){return t===n&&Object.is(e,i)?1:Object.is(r(t,e),r(n,i))?-1:0}function BB(t,e,n){let i,r,o=0,s=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;o<=s&&o<=a;){let c=t.at(o),l=e[o],u=Qg(o,c,o,l,n);if(u!==0){u<0&&t.updateValue(o,l),o++;continue}let d=t.at(s),h=e[a],f=Qg(s,d,a,h,n);if(f!==0){f<0&&t.updateValue(s,h),s--,a--;continue}let m=n(o,c),p=n(s,d),g=n(o,l);if(Object.is(g,p)){let y=n(a,h);Object.is(y,m)?(t.swap(o,s),t.updateValue(s,h),a--,s--):t.move(s,o),t.updateValue(o,l),o++;continue}if(i??=new Eh,r??=PD(t,o,s,n),Hb(t,i,o,g))t.updateValue(o,l),o++,s++;else if(r.has(g))i.set(m,t.detach(o)),s--;else{let y=t.create(o,e[o]);t.attach(o,y),o++,s++}}for(;o<=a;)RD(t,i,n,o,e[o]),o++}else if(e!=null){let a=e[Symbol.iterator](),c=a.next();for(;!c.done&&o<=s;){let l=t.at(o),u=c.value,d=Qg(o,l,o,u,n);if(d!==0)d<0&&t.updateValue(o,u),o++,c=a.next();else{i??=new Eh,r??=PD(t,o,s,n);let h=n(o,u);if(Hb(t,i,o,h))t.updateValue(o,u),o++,s++,c=a.next();else if(!r.has(h))t.attach(o,t.create(o,u)),o++,s++,c=a.next();else{let f=n(o,l);i.set(f,t.detach(o)),s--}}}for(;!c.done;)RD(t,i,n,t.length,c.value),c=a.next()}for(;o<=s;)t.destroy(t.detach(s--));i?.forEach(a=>{t.destroy(a)})}function Hb(t,e,n,i){return e!==void 0&&e.has(i)?(t.attach(n,e.get(i)),e.delete(i),!0):!1}function RD(t,e,n,i,r){if(Hb(t,e,i,n(i,r)))t.updateValue(i,r);else{let o=t.create(i,r);t.attach(i,o)}}function PD(t,e,n,i){let r=new Set;for(let o=e;o<=n;o++)r.add(i(o,t.at(o)));return r}var Eh=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,i]of this.kvMap)if(e(i,n),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,n)}}};function qh(t,e,n,i){let r=e.tView,s=t[Q]&4096?4096:16,a=Bh(t,r,n,s,null,e,null,null,null,i?.injector??null,i?.dehydratedView??null),c=t[e.index];a[Kc]=c;let l=t[ui];return l!==null&&(a[ui]=l.createEmbeddedView(r)),V_(r,a,n),a}function uS(t,e){let n=xt+e;if(n<t.length)return t[n]}function qc(t,e){return!e||e.firstChild===null||mh(t)}function Gh(t,e,n,i=!0){let r=e[te];if(m2(r,e,t,n),i){let s=mb(n,t),a=e[je],c=D_(a,t[ji]);c!==null&&d2(r,t[gn],a,e,c,s)}let o=e[Hn];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function dS(t,e){let n=zc(t,e);return n!==void 0&&Fh(n[te],n),n}var Wt=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=UB;let t=e;return t})();function UB(){let t=on();return fS(t,ge())}var zB=Wt,hS=class extends zB{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return oa(this._hostTNode,this._hostLView)}get injector(){return new yo(this._hostTNode,this._hostLView)}get parentInjector(){let e=g_(this._hostTNode,this._hostLView);if(NC(e)){let n=lh(e,this._hostLView),i=ch(e),r=n[te].data[i+8];return new yo(r,n)}else return new yo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=ND(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-xt}createEmbeddedView(e,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=Hc(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,r,qc(this._hostTNode,s)),a}createComponent(e,n,i,r,o){let s=e&&!CV(e),a;if(s)a=n;else{let m=n||{};a=m.index,i=m.injector,r=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef}let c=s?e:new Zs(pr(e)),l=i||this.parentInjector;if(!o&&c.ngModule==null){let p=(s?l:this.parentInjector).get(Ht,null);p&&(o=p)}let u=pr(c.componentType??{}),d=Hc(this._lContainer,u?.id??null),h=d?.firstChild??null,f=c.create(l,r,h,o);return this.insertImpl(f.hostView,a,qc(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(HL(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[nt],l=new hS(c,c[gn],c[nt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Gh(s,r,o,i),e.attachToViewContainerRef(),HC(Yg(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=ND(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=zc(this._lContainer,n);i&&(dh(Yg(this._lContainer),n),Fh(i[te],i))}detach(e){let n=this._adjustIndex(e,-1),i=zc(this._lContainer,n);return i&&dh(Yg(this._lContainer),n)!=null?new To(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function ND(t){return t[sh]}function Yg(t){return t[sh]||(t[sh]=[])}function fS(t,e){let n,i=e[t.index];return Sn(i)?n=i:(n=$T(i,e,null,t),e[t.index]=n,Uh(e,n)),mS(n,e,t,i),new hS(n,t,e)}function $B(t,e){let n=t[je],i=n.createComment(""),r=bn(e,t),o=D_(n,r);return ph(n,o,i,v2(n,r),!1),i}var mS=pS,j_=(t,e,n)=>!1;function HB(t,e,n){return j_(t,e,n)}function pS(t,e,n,i){if(t[ji])return;let r;n.type&8?r=qn(i):r=$B(e,n),t[ji]=r}function qB(t,e,n){if(t[ji]&&t[jc])return!0;let i=n[Hn],r=e.index-pt;if(!i||JV(e)||Vh(i,r))return!1;let s=_b(i,r),a=i.data[S_]?.[r],[c,l]=LB(s,a);return t[ji]=c,t[jc]=l,!0}function GB(t,e,n,i){j_(t,n,e)||pS(t,e,n,i)}function WB(){mS=GB,j_=qB}function KB(t,e,n,i,r,o,s,a,c){let l=e.consts,u=il(e,t,4,s||null,ah(l,a));jT(e,n,u,ah(l,c)),p_(e,u);let d=u.tView=P_(2,u,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function An(t,e,n,i,r,o,s,a){let c=ge(),l=Et(),u=t+pt,d=l.firstCreatePass?KB(u,l,c,e,n,i,r,o,s):l.data[u];Xc(d,!1);let h=gS(l,c,d,t);m_()&&C_(l,c,h,d),Do(h,c);let f=$T(h,c,h,d);return c[u]=f,Uh(c,f),HB(f,d,c),a_(d)&&NT(l,c,d),s!=null&&FT(c,d,a),An}var gS=bS;function bS(t,e,n,i){return xr(!0),e[je].createComment("")}function QB(t,e,n,i){let r=e[Hn],o=!r||ea()||Vh(r,i);if(xr(o),o)return bS(t,e,n,i);let s=r.data[k2]?.[i]??null;s!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=s);let a=$h(r,t,e,n);Lh(r,i,a);let c=k_(r,i);return Hh(c,a)}function YB(){gS=QB}function Wh(t,e,n){Dr("NgControlFlow");let i=ge(),r=ta(),o=Kb(i,pt+t),s=0;if(Gn(i,r,e)){let a=wt(null);try{if(dS(o,s),e!==-1){let c=Qb(i[te],pt+e),l=Hc(o,c.tView.ssrId),u=qh(i,c,n,{dehydratedView:l});Gh(o,u,s,qc(c,l))}}finally{wt(a)}}else{let a=uS(o,s);a!==void 0&&(a[Rt]=n)}}var qb=class{constructor(e,n,i){this.lContainer=e,this.$implicit=n,this.$index=i}get $count(){return this.lContainer.length-xt}};function B_(t,e){return e}var Gb=class{constructor(e,n,i){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=i}};function U_(t,e,n,i,r,o,s,a,c,l,u){Dr("NgControlFlow");let d=c!==void 0,h=ge(),f=a?s.bind(h[rn][Rt]):s,m=new Gb(d,f);h[pt+t]=m,An(t+1,e,n,i,r,o),d&&An(t+2,c,l,u)}var Wb=class extends $b{constructor(e,n,i){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=i,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-xt}at(e){return this.getLView(e)[Rt].$implicit}attach(e,n){let i=n[Hn];this.needsIndexUpdate||=e!==this.length,Gh(this.lContainer,n,e,qc(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,ZB(this.lContainer,e)}create(e,n){let i=Hc(this.lContainer,this.templateTNode.tView.ssrId);return qh(this.hostLView,this.templateTNode,new qb(this.lContainer,n,e),{dehydratedView:i})}destroy(e){Fh(e[te],e)}updateValue(e,n){this.getLView(e)[Rt].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Rt].$index=e}getLView(e){return XB(this.lContainer,e)}};function z_(t){let e=wt(null),n=wr();try{let i=ge(),r=i[te],o=i[n];if(o.liveCollection===void 0){let a=n+1,c=Kb(i,a),l=Qb(r,a);o.liveCollection=new Wb(c,i,l)}else o.liveCollection.reset();let s=o.liveCollection;if(BB(s,t,o.trackByFn),s.updateIndexes(),o.hasEmptyBlock){let a=ta(),c=s.length===0;if(Gn(i,a,c)){let l=n+2,u=Kb(i,l);if(c){let d=Qb(r,l),h=Hc(u,d.tView.ssrId),f=qh(i,d,void 0,{dehydratedView:h});Gh(u,f,0,qc(d,h))}else dS(u,0)}}}finally{wt(e)}}function Kb(t,e){return t[e]}function ZB(t,e){return zc(t,e)}function XB(t,e){return uS(t,e)}function Qb(t,e){return c_(t,e)}function JB(t,e,n,i,r,o){let s=e.consts,a=ah(s,r),c=il(e,t,2,i,a);return jT(e,n,c,ah(s,o)),c.attrs!==null&&Lb(c,c.attrs,!1),c.mergedAttrs!==null&&Lb(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function ie(t,e,n,i){let r=ge(),o=Et(),s=pt+t,a=r[je],c=o.firstCreatePass?JB(s,o,r,e,n,i):o.data[s],l=_S(o,r,c,a,e,t);r[s]=l;let u=a_(c);return Xc(c,!0),_T(a,l,c),(c.flags&32)!==32&&m_()&&C_(o,r,l,c),KL()===0&&Do(l,r),QL(),u&&(NT(o,r,c),PT(o,c,r)),i!==null&&FT(r,c),ie}function le(){let t=on();yC()?vC():(t=t.parent,Xc(t,!1));let e=t;ZL(e)&&JL(),YL();let n=Et();return n.firstCreatePass&&(p_(n,t),aC(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&fV(e)&&zb(n,e,ge(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&mV(e)&&zb(n,e,ge(),e.stylesWithoutHost,!1),le}function ke(t,e,n,i){return ie(t,e,n,i),le(),ke}var _S=(t,e,n,i,r,o)=>(xr(!0),I_(i,r,MC()));function eU(t,e,n,i,r,o){let s=e[Hn],a=!s||ea()||Vh(s,o);if(xr(a),a)return I_(i,r,MC());let c=$h(s,t,e,n);return IT(s,o)&&Lh(s,o,c.nextSibling),s&&(tT(n)||nT(c))&&Qc(n)&&(XL(n),pT(c)),c}function tU(){_S=eU}var nU=(t,e,n,i)=>(xr(!0),cT(e[je],""));function iU(t,e,n,i){let r,o=e[Hn],s=!o||ea();if(xr(s),s)return cT(e[je],"");let a=$h(o,t,e,n),c=U2(o,i);return Lh(o,i,a),r=Hh(c,a),r}function rU(){nU=iU}function $_(){return ge()}function ol(t,e,n){let i=ge(),r=ta();if(Gn(i,r,e)){let o=Et(),s=f_();VT(o,s,i,t,e,i[je],n,!0)}return ol}var Ih="en-US";var oU=Ih;function sU(t){cL(t,"Expected localeId to be defined"),typeof t=="string"&&(oU=t.toLowerCase().replace(/_/g,"-"))}function Ro(t){return!!t&&typeof t.then=="function"}function yS(t){return!!t&&typeof t.subscribe=="function"}function xe(t,e,n,i){let r=ge(),o=Et(),s=on();return cU(o,r,r[je],s,t,e,i),xe}function aU(t,e,n,i){let r=t.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===n&&r[o+1]===i){let a=e[Lc],c=r[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function cU(t,e,n,i,r,o,s){let a=a_(i),l=t.firstCreatePass&&GT(t),u=e[Rt],d=qT(e),h=!0;if(i.type&3||s){let p=bn(i,e),g=s?s(p):p,y=d.length,A=s?R=>s(qn(R[i.index])):i.index,C=null;if(!s&&a&&(C=aU(t,e,r,i.index)),C!==null){let R=C.__ngLastListenerFn__||C;R.__ngNextListenerFn__=o,C.__ngLastListenerFn__=o,h=!1}else{o=OD(i,e,u,o,!1);let R=n.listen(g,r,o);d.push(o,R),l&&l.push(r,A,y,y+1)}}else o=OD(i,e,u,o,!1);let f=i.outputs,m;if(h&&f!==null&&(m=f[r])){let p=m.length;if(p)for(let g=0;g<p;g+=2){let y=m[g],A=m[g+1],B=e[y][A].subscribe(o),H=d.length;d.push(o,B),l&&l.push(r,i.index,H,-(H+1))}}}function FD(t,e,n,i){try{return ci(6,e,n),n(i)!==!1}catch(r){return WT(t,r),!1}finally{ci(7,e,n)}}function OD(t,e,n,i,r){return function o(s){if(s===Function)return i;let a=t.componentOffset>-1?vr(t.index,e):e;F_(a);let c=FD(e,n,i,s),l=o.__ngNextListenerFn__;for(;l;)c=FD(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return r&&c===!1&&s.preventDefault(),c}}function Kn(t=1){return cV(t)}function lU(t,e){let n=null,i=CL(t);for(let r=0;r<e.length;r++){let o=e[r];if(o==="*"){n=r;continue}if(i===null?XD(t,o,!0):AL(i,o))return r}return n}function kn(t){let e=ge()[rn][gn];if(!e.projection){let n=t?t.length:1,i=e.projection=qC(n,null),r=i.slice(),o=e.child;for(;o!==null;){let s=t?lU(o,t):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function Kt(t,e=0,n){let i=ge(),r=Et(),o=il(r,pt+t,16,null,n||null);o.projection===null&&(o.projection=e),vC(),(!i[Hn]||ea())&&(o.flags&32)!==32&&E2(r,i,o)}function sa(t){let e=tV();return zL(e,pt+t)}function an(t,e=""){let n=ge(),i=Et(),r=t+pt,o=i.firstCreatePass?il(i,r,1,e,null):i.data[r],s=vS(i,n,o,e,t);n[r]=s,m_()&&C_(i,n,s,o),Xc(o,!1)}var vS=(t,e,n,i,r)=>(xr(!0),aT(e[je],i));function uU(t,e,n,i,r){let o=e[Hn],s=!o||ea()||Vh(o,r);return xr(s),s?aT(e[je],i):$h(o,t,e,n)}function dU(){vS=uU}function Kh(t){return sl("",t,""),Kh}function sl(t,e,n){let i=ge(),r=lB(i,t,e,n);return r!==Ui&&Sj(i,wr(),r),sl}function hU(t,e,n){let i=Et();if(i.firstCreatePass){let r=br(t);Yb(n,i.data,i.blueprint,r,!0),Yb(e,i.data,i.blueprint,r,!1)}}function Yb(t,e,n,i,r){if(t=Ut(t),Array.isArray(t))for(let o=0;o<t.length;o++)Yb(t[o],e,n,i,r);else{let o=Et(),s=ge(),a=on(),c=Ys(t)?t:Ut(t.provide),l=ZC(t),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Ys(t)||!t.multi){let f=new xo(l,r,D),m=Xg(c,e,r?u:u+h,d);m===-1?(cb(uh(a,s),o,c),Zg(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[m]=f,s[m]=f)}else{let f=Xg(c,e,u+h,d),m=Xg(c,e,u,u+h),p=f>=0&&n[f],g=m>=0&&n[m];if(r&&!g||!r&&!p){cb(uh(a,s),o,c);let y=pU(r?mU:fU,n.length,r,i,l);!r&&g&&(n[m].providerFactory=y),Zg(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(y),s.push(y)}else{let y=wS(n[r?m:f],l,!r&&i);Zg(o,t,f>-1?f:m,y)}!r&&i&&g&&n[m].componentProviders++}}}function Zg(t,e,n,i){let r=Ys(e),o=UV(e);if(r||o){let c=(o?Ut(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[i,c]):l[u+1].push(i,c)}else l.push(n,c)}}}function wS(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Xg(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function fU(t,e,n,i){return Zb(this.multi,[])}function mU(t,e,n,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Eo(n,n[te],this.providerFactory.index,i);o=a.slice(0,s),Zb(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Zb(r,o);return o}function Zb(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function pU(t,e,n,i,r){let o=new xo(t,n,D);return o.multi=[],o.index=e,o.componentProviders=0,wS(o,r,i&&!n),o}function Ft(t,e=[]){return n=>{n.providersResolver=(i,r)=>hU(i,r?r(t):t,e)}}var _r=class{},Gc=class{};var Dh=class extends _r{constructor(e,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vh(this);let r=nC(e);this._bootstrapComponents=eT(r.bootstrap),this._r3Injector=XC(e,n,[{provide:_r,useValue:this},{provide:Ir,useValue:this.componentFactoryResolver},...i],$t(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ch=class extends Gc{constructor(e){super(),this.moduleType=e}create(e){return new Dh(this.moduleType,e,[])}};function gU(t,e,n){return new Dh(t,e,n)}var Xb=class extends _r{constructor(e){super(),this.componentFactoryResolver=new vh(this),this.instance=null;let n=new Uc([...e.providers,{provide:_r,useValue:this},{provide:Ir,useValue:this.componentFactoryResolver}],e.parent||v_(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Qh(t,e,n=null){return new Xb({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var bU=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=KC(!1,i.type),o=r.length>0?Qh([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,o)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=k({token:e,providedIn:"environment",factory:()=>new e(v(Ht))});let t=e;return t})();function H_(t){Dr("NgStandalone"),t.getStandaloneInjector=e=>e.get(bU).getOrCreateStandaloneInjector(t)}function xS(t,e,n,i){return _U(ge(),wC(),t,e,n,i)}function ES(t,e,n,i,r){return yU(ge(),wC(),t,e,n,i,r)}function IS(t,e){let n=t[e];return n===Ui?void 0:n}function _U(t,e,n,i,r,o){let s=e+n;return Gn(t,s,r)?JT(t,s+1,o?i.call(o,r):i(r)):IS(t,s+1)}function yU(t,e,n,i,r,o,s){let a=e+n;return cB(t,a,r,o)?JT(t,a+2,s?i.call(s,r,o):i(r,o)):IS(t,a+2)}function vU(){return this._results[Symbol.iterator]()}var yr=class t{get changes(){return this._changes??=new ne}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=vU)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let i=SV(e);(this._changesDetected=!TV(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},qt=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=EU;let t=e;return t})(),wU=qt,xU=class extends wU{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let r=qh(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:i});return new To(r)}};function EU(){return q_(on(),ge())}function q_(t,e){return t.type&4?new xU(e,t,oa(t,e)):null}var Jb=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},e_=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let i=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)SS(e,n).matches!==null&&this.queries[n].setDirty()}},Th=class{constructor(e,n,i=null){this.predicate=e,this.flags=n,this.read=i}},t_=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},n_=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,n,IU(n,o)),this.matchTNodeWithReadOption(e,n,eh(n,e,o,!1,!1))}else i===qt?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,eh(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===he||r===Wt||r===qt&&n.type&4)this.addMatch(n.index,-2);else{let o=eh(n,e,r,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function IU(t,e){let n=t.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1]}return null}function DU(t,e){return t.type&11?oa(t,e):t.type&4?q_(t,e):null}function CU(t,e,n,i){return n===-1?DU(e,t):n===-2?TU(t,e,i):Eo(t,t[te],n,e)}function TU(t,e,n){if(n===he)return oa(e,t);if(n===qt)return q_(e,t);if(n===Wt)return fS(e,t)}function DS(t,e,n,i){let r=e[ui].queries[i];if(r.matches===null){let o=t.data,s=n.matches,a=[];for(let c=0;c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(CU(e,u,s[c+1],n.metadata.read))}}r.matches=a}return r.matches}function i_(t,e,n,i){let r=t.queries.getByIndex(n),o=r.matches;if(o!==null){let s=DS(t,e,r,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)i.push(s[a/2]);else{let l=o[a+1],u=e[-c];for(let d=xt;d<u.length;d++){let h=u[d];h[Kc]===h[nt]&&i_(h[te],h,l,i)}if(u[Ws]!==null){let d=u[Ws];for(let h=0;h<d.length;h++){let f=d[h];i_(f[te],f,l,i)}}}}}return i}function $e(t){let e=ge(),n=Et(),i=EC();u_(i+1);let r=SS(n,i);if(t.dirty&&$L(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let o=r.crossesNgTemplate?i_(n,e,i,[]):DS(n,e,r,i);t.reset(o,q2),t.notifyOnChanges()}return!0}return!1}function It(t,e,n){let i=Et();i.firstCreatePass&&(TS(i,new Th(t,e,n),-1),(e&2)===2&&(i.staticViewQueries=!0)),CS(i,ge(),e)}function zi(t,e,n,i){let r=Et();if(r.firstCreatePass){let o=on();TS(r,new Th(e,n,i),o.index),AU(r,t),(n&2)===2&&(r.staticContentQueries=!0)}CS(r,ge(),n)}function He(){return SU(ge(),EC())}function SU(t,e){return t[ui].queries[e].queryList}function CS(t,e,n){let i=new yr((n&4)===4);lj(t,e,i,i.destroy),e[ui]===null&&(e[ui]=new e_),e[ui].queries.push(new Jb(i))}function TS(t,e,n){t.queries===null&&(t.queries=new t_),t.queries.track(new n_(e,n))}function AU(t,e){let n=t.contentQueries||(t.contentQueries=[]),i=n.length?n[n.length-1]:-1;e!==i&&n.push(t.queries.length-1,e)}function SS(t,e){return t.queries.getByIndex(e)}var Yd=null;function kU(t){Yd!==null&&(t.defaultEncapsulation!==Yd.defaultEncapsulation||t.preserveWhitespaces!==Yd.preserveWhitespaces)||(Yd=t)}var mi=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},AS=new mi("17.0.8");var Yh=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),r_=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Zh=(()=>{let e=class e{compileModuleSync(i){return new Ch(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),o=nC(i),s=eT(o.declarations).reduce((a,c)=>{let l=pr(c);return l&&a.push(new Zs(l)),a},[]);return new r_(r,s)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),MU=new T("compilerOptions");var Po=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new st(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var G_=new T(""),al=new T(""),Xh=(()=>{let e=class e{constructor(i,r,o){this._ngZone=i,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,W_||(RU(o),o.addToWindow(r)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{U.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(i)?(clearTimeout(r.timeoutId),!1):!0),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,r,o){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),i(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:i,timeoutId:s,updateCb:o})}whenStable(i,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,r,o){return[]}};e.\u0275fac=function(r){return new(r||e)(v(U),v(Jh),v(al))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})(),Jh=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(i,r){this._applications.set(i,r)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,r=!0){return W_?.findTestabilityInTree(this,i,r)??null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function RU(t){W_=t}var W_,ef=new T("Application Initializer"),kS=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=I(ef,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let o of this.appInits){let s=o();if(Ro(s))i.push(s);else if(yS(s)){let a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});i.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(o=>{this.reject(o)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),aa=new T("appBootstrapListener");function PU(t,e,n){let i=new Ch(n);return Promise.resolve(i)}function NU(){MI(()=>{throw new S(600,!1)})}function FU(t){return t.isBoundToModule}function OU(t,e,n){try{let i=n();return Ro(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}function MS(t,e){return Array.isArray(e)?e.reduce(MS,t):M(M({},t),e)}var Qn=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=I(TT),this.componentTypes=[],this.components=[],this.isStable=I(Po).hasPendingTasks.pipe(j(i=>!i)),this._injector=I(Ht)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){let o=i instanceof bh;if(!this._injector.get(kS).done){let m="Cannot bootstrap as there are still asynchronous initializers running."+(!o&&tC(i)?"":" Bootstrap components in the `ngDoBootstrap` method of the root module.");throw new S(405,!1)}let a;o?a=i:a=this._injector.get(Ir).resolveComponentFactory(i),this.componentTypes.push(a.componentType);let c=FU(a)?void 0:this._injector.get(_r),l=r||a.selector,u=a.create(sn.NULL,[],l,c),d=u.location.nativeElement,h=u.injector.get(G_,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),ih(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new S(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;ih(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(aa,[]);[...this._bootstrapListeners,...r].forEach(o=>o(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>ih(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new S(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ih(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function LD(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var Zd;function K_(t){Zd??=new WeakMap;let e=Zd.get(t);if(e)return e;let n=t.isStable.pipe(fn(i=>i)).toPromise().then(()=>{});return Zd.set(t,n),t.onDestroy(()=>Zd?.delete(t)),n}var LU=(()=>{let e=class e{constructor(){this.zone=I(U),this.applicationRef=I(Qn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function VU(t){return[{provide:U,useFactory:t},{provide:Io,multi:!0,useFactory:()=>{let e=I(LU,{optional:!0});return()=>e.initialize()}},{provide:Io,multi:!0,useFactory:()=>{let e=I(UU);return()=>{e.initialize()}}},{provide:TT,useFactory:jU}]}function jU(){let t=I(U),e=I(fi);return n=>t.runOutsideAngular(()=>e.handleError(n))}function BU(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var UU=(()=>{let e=class e{constructor(){this.subscription=new Ie,this.initialized=!1,this.zone=I(U),this.pendingTasks=I(Po)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{U.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{U.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function zU(){return typeof $localize<"u"&&$localize.locale||Ih}var tf=new T("LocaleId",{providedIn:"root",factory:()=>I(tf,de.Optional|de.SkipSelf)||zU()});var RS=new T("PlatformDestroyListeners"),PS=(()=>{let e=class e{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,r){let o=Hj(r?.ngZone,BU({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return o.run(()=>{let s=gU(i.moduleType,this.injector,VU(()=>o)),a=s.injector.get(fi,null);return o.runOutsideAngular(()=>{let c=o.onError.subscribe({next:l=>{a.handleError(l)}});s.onDestroy(()=>{ih(this._modules,s),c.unsubscribe()})}),OU(a,o,()=>{let c=s.injector.get(kS);return c.runInitializers(),c.donePromise.then(()=>{let l=s.injector.get(tf,Ih);return sU(l||Ih),this._moduleDoBootstrap(s),s})})})}bootstrapModule(i,r=[]){let o=MS({},r);return PU(this.injector,o,i).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(i){let r=i.injector.get(Qn);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(o=>r.bootstrap(o));else if(i.instance.ngDoBootstrap)i.instance.ngDoBootstrap(r);else throw new S(-403,!1);this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new S(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let i=this._injector.get(RS,null);i&&(i.forEach(r=>r()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(r){return new(r||e)(v(sn))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Nc=null,NS=new T("AllowMultipleToken");function $U(t){if(Nc&&!Nc.get(NS,!1))throw new S(400,!1);NU(),Nc=t;let e=t.get(PS);return GU(t),e}function Q_(t,e,n=[]){let i=`Platform: ${e}`,r=new T(i);return(o=[])=>{let s=FS();if(!s||s.injector.get(NS,!1)){let a=[...n,...o,{provide:r,useValue:!0}];t?t(a):$U(HU(a,i))}return qU(r)}}function HU(t=[],e){return sn.create({name:e,providers:[{provide:Ph,useValue:"platform"},{provide:RS,useValue:new Set([()=>Nc=null])},...t]})}function qU(t){let e=FS();if(!e)throw new S(401,!1);return e}function FS(){return Nc?.get(PS)??null}function GU(t){t.get(w_,null)?.forEach(n=>n())}function Y_(){return!1}var OS=Q_(null,"core",[]),LS=(()=>{let e=class e{constructor(i){}};e.\u0275fac=function(r){return new(r||e)(v(Qn))},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({});let t=e;return t})();var VD=!1;function WU(){VD||(VD=!0,L2(),tU(),dU(),rU(),YB(),WB(),jB(),cj())}function KU(t,e){return K_(t)}function VS(){return ia([{provide:Wd,useFactory:()=>{let t=!0;return Rc()&&(t=!!I(ko,{optional:!0})?.get(xT,null)),t&&Dr("NgHydration"),t}},{provide:Io,useValue:()=>{Rc()&&I(Wd)&&(QU(),WU())},multi:!0},{provide:AT,useFactory:()=>Rc()&&I(Wd)},{provide:aa,useFactory:()=>{if(Rc()&&I(Wd)){let t=I(Qn),e=I(sn);return()=>{KU(t,e).then(()=>{U.assertInAngularZone(),MB(t)})}}return()=>{}},multi:!0}])}function QU(){let t=Nh(),e;for(let n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===F2){e=n;break}if(!e)throw new S(-507,!1)}function Dt(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function nf(t,e=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):e}function jS(t){let e=pr(t);if(!e)return null;let n=new Zs(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var X_=null;function _i(){return X_}function HS(t){X_||(X_=t)}var rf=class{},ue=new T("DocumentToken"),ty=(()=>{let e=class e{historyGo(i){throw new Error("Not implemented")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:()=>(()=>I(YU))(),providedIn:"platform"});let t=e;return t})(),qS=new T("Location Initialized"),YU=(()=>{let e=class e extends ty{constructor(){super(),this._doc=I(ue),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _i().getBaseHref(this._doc)}onPopState(i){let r=_i().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=_i().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,o){this._history.pushState(i,r,o)}replaceState(i,r,o){this._history.replaceState(i,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:()=>(()=>new e)(),providedIn:"platform"});let t=e;return t})();function ny(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function BS(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-(t[n-1]==="/"?1:0);return t.slice(0,i)+t.slice(n)}function $i(t){return t&&t[0]!=="?"?"?"+t:t}var No=(()=>{let e=class e{historyGo(i){throw new Error("Not implemented")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:()=>(()=>I(iy))(),providedIn:"root"});let t=e;return t})(),GS=new T("appBaseHref"),iy=(()=>{let e=class e extends No{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??I(ue).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return ny(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+$i(this._platformLocation.search),o=this._platformLocation.hash;return o&&i?`${r}${o}`:r}pushState(i,r,o,s){let a=this.prepareExternalUrl(o+$i(s));this._platformLocation.pushState(i,r,a)}replaceState(i,r,o,s){let a=this.prepareExternalUrl(o+$i(s));this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(v(ty),v(GS,8))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),WS=(()=>{let e=class e extends No{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash;return r==null&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(i){let r=ny(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,o,s){let a=this.prepareExternalUrl(o+$i(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(i,r,a)}replaceState(i,r,o,s){let a=this.prepareExternalUrl(o+$i(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(v(ty),v(GS,8))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})(),la=(()=>{let e=class e{constructor(i){this._subject=new ne,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=JU(BS(US(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+$i(r))}normalize(i){return e.stripTrailingSlash(XU(this._basePath,US(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",o=null){this._locationStrategy.pushState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+$i(r)),o)}replaceState(i,r="",o=null){this._locationStrategy.replaceState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+$i(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(o=>o(i,r))}subscribe(i,r,o){return this._subject.subscribe({next:i,error:r,complete:o})}};e.normalizeQueryParams=$i,e.joinWithSlash=ny,e.stripTrailingSlash=BS,e.\u0275fac=function(r){return new(r||e)(v(No))},e.\u0275prov=k({token:e,factory:()=>ZU(),providedIn:"root"});let t=e;return t})();function ZU(){return new la(v(No))}function XU(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function US(t){return t.replace(/\/index.html$/,"")}function JU(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function of(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var Z_=/\s+/,zS=[],KS=(()=>{let e=class e{constructor(i,r,o,s){this._iterableDiffers=i,this._keyValueDiffers=r,this._ngEl=o,this._renderer=s,this.initialClasses=zS,this.stateMap=new Map}set klass(i){this.initialClasses=i!=null?i.trim().split(Z_):zS}set ngClass(i){this.rawClass=typeof i=="string"?i.trim().split(Z_):i}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(let r of i)this._updateState(r,!0);else if(i!=null)for(let r of Object.keys(i))this._updateState(r,!!i[r]);this._applyStateDiff()}_updateState(i,r){let o=this.stateMap.get(i);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(i,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let i of this.stateMap){let r=i[0],o=i[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(i,r){i=i.trim(),i.length>0&&i.split(Z_).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(r){return new(r||e)(D(nl),D(R_),D(he),D(Mo))},e.\u0275dir=be({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var J_=class{constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},QS=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,o){this._viewContainer=i,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(!1)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((o,s,a)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new J_(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(s===null?void 0:s);else if(s!==null){let c=r.get(s);r.move(c,a),$S(c,o)}});for(let o=0,s=r.length;o<s;o++){let c=r.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}i.forEachIdentityChange(o=>{let s=r.get(o.currentIndex);$S(s,o)})}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(D(Wt),D(qt),D(nl))},e.\u0275dir=be({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function $S(t,e){t.context.$implicit=e.item}var ua=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({});let t=e;return t})(),ry="browser",ez="server";function YS(t){return t===ry}function Fo(t){return t===ez}var ZS=(()=>{let e=class e{};e.\u0275prov=k({token:e,providedIn:"root",factory:()=>new ey(v(ue),window)});let t=e;return t})(),ey=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;let n=tz(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){let n=e.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}};function tz(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}var ca=class{};var ll=class{},cf=class{},Tr=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),o=r.toLowerCase(),s=n.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,n);let r=(e.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let i=(Array.isArray(n)?n:[n]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var ay=class{encodeKey(e){return XS(e)}encodeValue(e){return XS(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function iz(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var rz=/%(\d[a-f0-9])/gi,oz={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function XS(t){return encodeURIComponent(t).replace(rz,(e,n)=>oz[n]??e)}function sf(t){return`${t}`}var Cr=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new ay,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=iz(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let i=e.fromObject[n],r=Array.isArray(i)?i.map(sf):[sf(i)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(sf(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(sf(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var cy=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function sz(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function JS(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function eA(t){return typeof Blob<"u"&&t instanceof Blob}function tA(t){return typeof FormData<"u"&&t instanceof FormData}function az(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var cl=class t{constructor(e,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(sz(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers||(this.headers=new Tr),this.context||(this.context=new cy),!this.params)this.params=new Cr,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:JS(this.body)||eA(this.body)||tA(this.body)||az(this.body)||typeof this.body=="string"?this.body:this.body instanceof Cr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||tA(this.body)?null:eA(this.body)?this.body.type||null:JS(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Cr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.body!==void 0?e.body:this.body,s=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,c=e.headers||this.headers,l=e.params||this.params,u=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),l)),new t(n,i,o,{params:l,headers:c,context:u,reportProgress:a,responseType:r,withCredentials:s})}},da=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(da||{}),ul=class{constructor(e,n=200,i="OK"){this.headers=e.headers||new Tr,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},ly=class t extends ul{constructor(e={}){super(e),this.type=da.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ha=class t extends ul{constructor(e={}){super(e),this.type=da.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},lf=class extends ul{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}};function sy(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var cz=(()=>{let e=class e{constructor(i){this.handler=i}request(i,r,o={}){let s;if(i instanceof cl)s=i;else{let l;o.headers instanceof Tr?l=o.headers:l=new Tr(o.headers);let u;o.params&&(o.params instanceof Cr?u=o.params:u=new Cr({fromObject:o.params})),s=new cl(i,r,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=L(s).pipe(Vi(l=>this.handler.handle(l)));if(i instanceof cl||o.observe==="events")return a;let c=a.pipe(Fe(l=>l instanceof ha));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(j(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(j(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(j(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return c.pipe(j(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new Cr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,o={}){return this.request("PATCH",i,sy(o,r))}post(i,r,o={}){return this.request("POST",i,sy(o,r))}put(i,r,o={}){return this.request("PUT",i,sy(o,r))}};e.\u0275fac=function(r){return new(r||e)(v(ll))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})();function dA(t,e){return e(t)}function lz(t,e){return(n,i)=>e.intercept(n,{handle:r=>t(r,i)})}function uz(t,e,n){return(i,r)=>bi(n,()=>e(i,o=>t(o,r)))}var dz=new T(""),uy=new T(""),hA=new T(""),hz=new T("");function fz(){let t=null;return(e,n)=>{t===null&&(t=(I(dz,{optional:!0})??[]).reduceRight(lz,dA));let i=I(Po),r=i.add();return t(e,n).pipe(hr(()=>i.remove(r)))}}var nA=(()=>{let e=class e extends ll{constructor(i,r){super(),this.backend=i,this.injector=r,this.chain=null,this.pendingTasks=I(Po);let o=I(hz,{optional:!0});this.backend=o??i}handle(i){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(uy),...this.injector.get(hA,[])]));this.chain=o.reduceRight((s,a)=>uz(s,a,this.injector),dA)}let r=this.pendingTasks.add();return this.chain(i,o=>this.backend.handle(o)).pipe(hr(()=>this.pendingTasks.remove(r)))}};e.\u0275fac=function(r){return new(r||e)(v(cf),v(Ht))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})();var mz=/^\)\]\}',?\n/;function pz(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var iA=(()=>{let e=class e{constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new S(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?pe(r.\u0275loadImpl()):L(null)).pipe(Me(()=>new W(s=>{let a=r.build();if(a.open(i.method,i.urlWithParams),i.withCredentials&&(a.withCredentials=!0),i.headers.forEach((g,y)=>a.setRequestHeader(g,y.join(","))),i.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){let g=i.detectContentTypeHeader();g!==null&&a.setRequestHeader("Content-Type",g)}if(i.responseType){let g=i.responseType.toLowerCase();a.responseType=g!=="json"?g:"text"}let c=i.serializeBody(),l=null,u=()=>{if(l!==null)return l;let g=a.statusText||"OK",y=new Tr(a.getAllResponseHeaders()),A=pz(a)||i.url;return l=new ly({headers:y,status:a.status,statusText:g,url:A}),l},d=()=>{let{headers:g,status:y,statusText:A,url:C}=u(),R=null;y!==204&&(R=typeof a.response>"u"?a.responseText:a.response),y===0&&(y=R?200:0);let B=y>=200&&y<300;if(i.responseType==="json"&&typeof R=="string"){let H=R;R=R.replace(mz,"");try{R=R!==""?JSON.parse(R):null}catch(oe){R=H,B&&(B=!1,R={error:oe,text:R})}}B?(s.next(new ha({body:R,headers:g,status:y,statusText:A,url:C||void 0})),s.complete()):s.error(new lf({error:R,headers:g,status:y,statusText:A,url:C||void 0}))},h=g=>{let{url:y}=u(),A=new lf({error:g,status:a.status||0,statusText:a.statusText||"Unknown Error",url:y||void 0});s.error(A)},f=!1,m=g=>{f||(s.next(u()),f=!0);let y={type:da.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(y.total=g.total),i.responseType==="text"&&a.responseText&&(y.partialText=a.responseText),s.next(y)},p=g=>{let y={type:da.UploadProgress,loaded:g.loaded};g.lengthComputable&&(y.total=g.total),s.next(y)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),i.reportProgress&&(a.addEventListener("progress",m),c!==null&&a.upload&&a.upload.addEventListener("progress",p)),a.send(c),s.next({type:da.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),i.reportProgress&&(a.removeEventListener("progress",m),c!==null&&a.upload&&a.upload.removeEventListener("progress",p)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(v(ca))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})(),fA=new T("XSRF_ENABLED"),gz="XSRF-TOKEN",bz=new T("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>gz}),_z="X-XSRF-TOKEN",yz=new T("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>_z}),uf=class{},vz=(()=>{let e=class e{constructor(i,r,o){this.doc=i,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=of(i,this.cookieName),this.lastCookieString=i),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(v(ue),v(gt),v(bz))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})();function wz(t,e){let n=t.url.toLowerCase();if(!I(fA)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let i=I(uf).getToken(),r=I(yz);return i!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),e(t)}var mA=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(mA||{});function xz(t,e){return{\u0275kind:t,\u0275providers:e}}function Ez(...t){let e=[cz,iA,nA,{provide:ll,useExisting:nA},{provide:cf,useExisting:iA},{provide:uy,useValue:wz,multi:!0},{provide:fA,useValue:!0},{provide:uf,useClass:vz}];for(let n of t)e.push(...n.\u0275providers);return ia(e)}var rA=new T("LEGACY_INTERCEPTOR_FN");function Iz(){return xz(mA.LegacyInterceptors,[{provide:rA,useFactory:fz},{provide:uy,useExisting:rA,multi:!0}])}var pA=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({providers:[Ez(Iz())]});let t=e;return t})();var oA="b",sA="h",aA="s",cA="st",lA="u",uA="rt",af=new T(""),Dz=["GET","HEAD"];function Cz(t,e){let u=I(af),{isCacheActive:n}=u,i=pI(u,["isCacheActive"]),{transferCache:r,method:o}=t;if(!n||o==="POST"&&!i.includePostRequests&&!r||o!=="POST"&&!Dz.includes(o)||r===!1||i.filter?.(t)===!1)return e(t);let s=I(ko),a=Sz(t),c=s.get(a,null),l=i.includeHeaders;if(typeof r=="object"&&r.includeHeaders&&(l=r.includeHeaders),c){let{[oA]:d,[uA]:h,[sA]:f,[aA]:m,[cA]:p,[lA]:g}=c,y=d;switch(h){case"arraybuffer":y=new TextEncoder().encode(d).buffer;break;case"blob":y=new Blob([d]);break}let A=new Tr(f);return L(new ha({body:y,headers:A,status:m,statusText:p,url:g}))}return e(t).pipe(ze(d=>{d instanceof ha&&s.set(a,{[oA]:d.body,[sA]:Tz(d.headers,l),[aA]:d.status,[cA]:d.statusText,[lA]:d.url||"",[uA]:t.responseType})}))}function Tz(t,e){if(!e)return{};let n={};for(let i of e){let r=t.getAll(i);r!==null&&(n[i]=r)}return n}function Sz(t){let{params:e,method:n,responseType:i,url:r}=t,o=e.keys().sort().map(c=>`${c}=${e.getAll(c)}`).join("&"),s=n+"."+i+"."+r+"?"+o,a=Az(s);return a}function Az(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483647+1,e.toString()}function gA(t){return[{provide:af,useFactory:()=>(Dr("NgHttpTransferCache"),M({isCacheActive:!0},t))},{provide:hA,useValue:Cz,multi:!0,deps:[ko,af]},{provide:aa,multi:!0,useFactory:()=>{let e=I(Qn),n=I(af);return()=>{K_(e).then(()=>{n.isCacheActive=!1})}}}]}var fy=class extends rf{constructor(){super(...arguments),this.supportsDOMEvents=!0}},my=class t extends fy{static makeCurrent(){HS(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=kz();return n==null?null:Mz(n)}resetBaseElement(){dl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return of(document.cookie,e)}},dl=null;function kz(){return dl=dl||document.querySelector("base"),dl?dl.getAttribute("href"):null}function Mz(t){return new URL(t,document.baseURI).pathname}var py=class{addToWindow(e){mn.getAngularTestability=(i,r=!0)=>{let o=e.findTestabilityInTree(i,r);if(o==null)throw new S(5103,!1);return o},mn.getAllAngularTestabilities=()=>e.getAllTestabilities(),mn.getAllAngularRootElements=()=>e.getAllRootElements();let n=i=>{let r=mn.getAllAngularTestabilities(),o=r.length,s=!1,a=function(c){s=s||c,o--,o==0&&i(s)};r.forEach(c=>{c.whenStable(a)})};mn.frameworkStabilizers||(mn.frameworkStabilizers=[]),mn.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,i){if(n==null)return null;let r=e.getTestability(n);return r??(i?_i().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},Rz=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})(),gy=new T("EventManagerPlugins"),yA=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(o=>{o.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,o){return this._findPluginFor(r).addEventListener(i,r,o)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(s=>s.supports(i)),!r)throw new S(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(v(gy),v(U))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})(),df=class{constructor(e){this._doc=e}},dy="ng-app-id",vA=(()=>{let e=class e{constructor(i,r,o,s={}){this.doc=i,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Fo(s),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(o=>o.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${dy}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(i,r){let o=this.styleRef;if(o.has(i)){let s=o.get(i);return s.usage+=r,s.usage}return o.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===i)return o.delete(r),s.removeAttribute(dy),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(dy,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let o=this.getStyleElement(i,r),s=this.styleRef,a=s.get(r)?.elements;a?a.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(v(ue),v(ra),v(el,8),v(gt))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})(),hy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},_y=/%COMP%/g,wA="%COMP%",Pz=`_nghost-${wA}`,Nz=`_ngcontent-${wA}`,Fz=!0,Oz=new T("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>Fz});function Lz(t){return Nz.replace(_y,t)}function Vz(t){return Pz.replace(_y,t)}function xA(t,e){return e.map(n=>n.replace(_y,t))}var hf=(()=>{let e=class e{constructor(i,r,o,s,a,c,l,u=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Fo(c),this.defaultRenderer=new hl(i,a,l,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===hi.ShadowDom&&(r=Ee(M({},r),{encapsulation:hi.Emulated}));let o=this.getOrCreateRenderer(i,r);return o instanceof ff?o.applyToHost(i):o instanceof fl&&o.applyStyles(),o}getOrCreateRenderer(i,r){let o=this.rendererByCompId,s=o.get(r.id);if(!s){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case hi.Emulated:s=new ff(l,u,r,this.appId,d,a,c,h);break;case hi.ShadowDom:return new by(l,u,i,r,a,c,this.nonce,h);default:s=new fl(l,u,r,d,a,c,h);break}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(v(yA),v(vA),v(ra),v(Oz),v(ue),v(gt),v(U),v(el))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})(),hl=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(hy[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(bA(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(bA(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new S(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let o=hy[r];o?e.setAttributeNS(o,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=hy[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(Bi.DashCase|Bi.Important)?e.style.setProperty(n,i,r&Bi.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&Bi.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=_i().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function bA(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var by=class extends hl{constructor(e,n,i,r,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=xA(r.id,r.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},fl=class extends hl{constructor(e,n,i,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=c?xA(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ff=class extends fl{constructor(e,n,i,r,o,s,a,c){let l=r+"-"+i.id;super(e,n,i,o,s,a,c,l),this.contentAttr=Lz(l),this.hostAttr=Vz(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},jz=(()=>{let e=class e extends df{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,o){return i.addEventListener(r,o,!1),()=>this.removeEventListener(i,r,o)}removeEventListener(i,r,o){return i.removeEventListener(r,o)}};e.\u0275fac=function(r){return new(r||e)(v(ue))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})(),_A=["alt","control","meta","shift"],Bz={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Uz={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},zz=(()=>{let e=class e extends df{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>_i().onAndCancel(i,s.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(r.pop()),a="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),a="code."),_A.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),a+=u+".")}),a+=s,r.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(i,r){let o=Bz[i.key]||i.key,s="";return r.indexOf("code.")>-1&&(o=i.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),_A.forEach(a=>{if(a!==o){let c=Uz[a];c(i)&&(s+=a+".")}}),s+=o,s===r)}static eventCallback(i,r,o){return s=>{e.matchEventFullKeyCode(s,i)&&o.runGuarded(()=>r(s))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(v(ue))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})();function $z(){my.makeCurrent()}function Hz(){return new fi}function qz(){return JC(document),document}var Gz=[{provide:gt,useValue:ry},{provide:w_,useValue:$z,multi:!0},{provide:ue,useFactory:qz,deps:[]}],EA=Q_(OS,"browser",Gz),Wz=new T(""),Kz=[{provide:al,useClass:py,deps:[]},{provide:G_,useClass:Xh,deps:[U,Jh,al]},{provide:Xh,useClass:Xh,deps:[U,Jh,al]}],Qz=[{provide:Ph,useValue:"root"},{provide:fi,useFactory:Hz,deps:[]},{provide:gy,useClass:jz,multi:!0,deps:[ue,U,gt]},{provide:gy,useClass:zz,multi:!0,deps:[ue]},hf,vA,yA,{provide:Co,useExisting:hf},{provide:ca,useClass:Rz,deps:[]},[]],mf=(()=>{let e=class e{constructor(i){}static withServerTransition(i){return{ngModule:e,providers:[{provide:ra,useValue:i.appId}]}}};e.\u0275fac=function(r){return new(r||e)(v(Wz,12))},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({providers:[...Qz,...Kz],imports:[ua,LS]});let t=e;return t})();function Yz(){return new yy(v(ue))}var yy=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(v(ue))},e.\u0275prov=k({token:e,factory:function(r){let o=null;return r?o=new r:o=Yz(),o},providedIn:"root"});let t=e;return t})();function IA(...t){let e=[],n=new Set,i=n.has(1);for(let{\u0275providers:r,\u0275kind:o}of t)n.add(o),r.length&&e.push(r);return ia([[],VS(),n.has(0)||i?[]:gA({}),e])}var ce="primary",Sl=Symbol("RouteTitle"),Iy=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ba(t){return new Iy(t)}function Zz(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=t[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function Xz(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!yi(t[n],e[n]))return!1;return!0}function yi(t,e){let n=t?Dy(t):void 0,i=e?Dy(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!NA(t[r],e[r]))return!1;return!0}function Dy(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function NA(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,o)=>i[o]===r)}else return t===e}function FA(t){return t.length>0?t[t.length-1]:null}function Mr(t){return jd(t)?t:Ro(t)?pe(Promise.resolve(t)):L(t)}var Jz={exact:LA,subset:VA},OA={exact:e$,subset:t$,ignored:()=>!0};function CA(t,e,n){return Jz[n.paths](t.root,e.root,n.matrixParams)&&OA[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function e$(t,e){return yi(t,e)}function LA(t,e,n){if(!Lo(t.segments,e.segments)||!bf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!LA(t.children[i],e.children[i],n))return!1;return!0}function t$(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>NA(t[n],e[n]))}function VA(t,e,n){return jA(t,e,e.segments,n)}function jA(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!Lo(r,n)||e.hasChildren()||!bf(r,n,i))}else if(t.segments.length===n.length){if(!Lo(t.segments,n)||!bf(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!VA(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Lo(t.segments,r)||!bf(t.segments,r,i)||!t.children[ce]?!1:jA(t.children[ce],e,o,i)}}function bf(t,e,n){return e.every((i,r)=>OA[n](t[r].parameters,i.parameters))}var Sr=class{constructor(e=new Ce([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ba(this.queryParams)),this._queryParamMap}toString(){return r$.serialize(this)}},Ce=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _f(this)}},Oo=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=ba(this.parameters)),this._parameterMap}toString(){return UA(this)}};function n$(t,e){return Lo(t,e)&&t.every((n,i)=>yi(n.parameters,e[i].parameters))}function Lo(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function i$(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===ce&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==ce&&(n=n.concat(e(r,i)))}),n}var Al=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:()=>(()=>new vl)(),providedIn:"root"});let t=e;return t})(),vl=class{parse(e){let n=new Ty(e);return new Sr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ml(e.root,!0)}`,i=a$(e.queryParams),r=typeof e.fragment=="string"?`#${o$(e.fragment)}`:"";return`${n}${i}${r}`}},r$=new vl;function _f(t){return t.segments.map(e=>UA(e)).join("/")}function ml(t,e){if(!t.hasChildren())return _f(t);if(e){let n=t.children[ce]?ml(t.children[ce],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==ce&&i.push(`${r}:${ml(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=i$(t,(i,r)=>r===ce?[ml(t.children[ce],!1)]:[`${r}:${ml(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[ce]!=null?`${_f(t)}/${n[0]}`:`${_f(t)}/(${n.join("//")})`}}function BA(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pf(t){return BA(t).replace(/%3B/gi,";")}function o$(t){return encodeURI(t)}function Cy(t){return BA(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yf(t){return decodeURIComponent(t)}function TA(t){return yf(t.replace(/\+/g,"%20"))}function UA(t){return`${Cy(t.path)}${s$(t.parameters)}`}function s$(t){return Object.keys(t).map(e=>`;${Cy(e)}=${Cy(t[e])}`).join("")}function a$(t){let e=Object.keys(t).map(n=>{let i=t[n];return Array.isArray(i)?i.map(r=>`${pf(n)}=${pf(r)}`).join("&"):`${pf(n)}=${pf(i)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}var c$=/^[^\/()?;#]+/;function vy(t){let e=t.match(c$);return e?e[0]:""}var l$=/^[^\/()?;=#]+/;function u$(t){let e=t.match(l$);return e?e[0]:""}var d$=/^[^=?&#]+/;function h$(t){let e=t.match(d$);return e?e[0]:""}var f$=/^[^&#]+/;function m$(t){let e=t.match(f$);return e?e[0]:""}var Ty=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ce([],{}):new Ce([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[ce]=new Ce(e,n)),i}parseSegment(){let e=vy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new S(4009,!1);return this.capture(e),new Oo(yf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=u$(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=vy(this.remaining);r&&(i=r,this.capture(i))}e[yf(n)]=yf(i)}parseQueryParam(e){let n=h$(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let s=m$(this.remaining);s&&(i=s,this.capture(i))}let r=TA(n),o=TA(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=vy(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new S(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ce);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[ce]:new Ce([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new S(4011,!1)}};function zA(t){return t.segments.length>0?new Ce([],{[ce]:t}):t}function $A(t){let e={};for(let i of Object.keys(t.children)){let r=t.children[i],o=$A(r);if(i===ce&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let n=new Ce(t.segments,e);return p$(n)}function p$(t){if(t.numberOfChildren===1&&t.children[ce]){let e=t.children[ce];return new Ce(t.segments.concat(e.segments),e.children)}return t}function _a(t){return t instanceof Sr}function g$(t,e,n=null,i=null){let r=HA(t);return qA(r,e,n,i)}function HA(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new Ce(o.url,s);return o===t&&(e=a),a}let i=n(t.root),r=zA(i);return e??r}function qA(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return wy(r,r,r,n,i);let o=b$(e);if(o.toRoot())return wy(r,r,new Ce([],{}),n,i);let s=_$(o,r,t),a=s.processChildren?bl(s.segmentGroup,s.index,o.commands):WA(s.segmentGroup,s.index,o.commands);return wy(r,s.segmentGroup,a,n,i)}function vf(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function wl(t){return typeof t=="object"&&t!=null&&t.outlets}function wy(t,e,n,i,r){let o={};i&&Object.entries(i).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=GA(t,e,n);let a=zA($A(s));return new Sr(a,o,r)}function GA(t,e,n){let i={};return Object.entries(t.children).forEach(([r,o])=>{o===e?i[r]=n:i[r]=GA(o,e,n)}),new Ce(t.segments,i)}var wf=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&vf(i[0]))throw new S(4003,!1);let r=i.find(wl);if(r&&r!==FA(i))throw new S(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function b$(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new wf(!0,0,t);let e=0,n=!1,i=t.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new wf(n,e,i)}var pa=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function _$(t,e,n){if(t.isAbsolute)return new pa(e,!0,0);if(!n)return new pa(e,!1,NaN);if(n.parent===null)return new pa(n,!0,0);let i=vf(t.commands[0])?0:1,r=n.segments.length-1+i;return y$(n,r,t.numberOfDoubleDots)}function y$(t,e,n){let i=t,r=e,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new S(4005,!1);r=i.segments.length}return new pa(i,!1,r-o)}function v$(t){return wl(t[0])?t[0].outlets:{[ce]:t}}function WA(t,e,n){if(t||(t=new Ce([],{})),t.segments.length===0&&t.hasChildren())return bl(t,e,n);let i=w$(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let o=new Ce(t.segments.slice(0,i.pathIndex),{});return o.children[ce]=new Ce(t.segments.slice(i.pathIndex),t.children),bl(o,0,r)}else return i.match&&r.length===0?new Ce(t.segments,{}):i.match&&!t.hasChildren()?Sy(t,e,n):i.match?bl(t,0,r):Sy(t,e,n)}function bl(t,e,n){if(n.length===0)return new Ce(t.segments,{});{let i=v$(n),r={};if(Object.keys(i).some(o=>o!==ce)&&t.children[ce]&&t.numberOfChildren===1&&t.children[ce].segments.length===0){let o=bl(t.children[ce],e,n);return new Ce(t.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=WA(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new Ce(t.segments,r)}}function w$(t,e,n){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return o;let s=t.segments[r],a=n[i];if(wl(a))break;let c=`${a}`,l=i<n.length-1?n[i+1]:null;if(r>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!AA(c,l,s))return o;i+=2}else{if(!AA(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Sy(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let o=n[r];if(wl(o)){let c=x$(o.outlets);return new Ce(i,c)}if(r===0&&vf(n[0])){let c=t.segments[e];i.push(new Oo(c.path,SA(n[0]))),r++;continue}let s=wl(o)?o.outlets[ce]:`${o}`,a=r<n.length-1?n[r+1]:null;s&&a&&vf(a)?(i.push(new Oo(s,SA(a))),r+=2):(i.push(new Oo(s,{})),r++)}return new Ce(i,{})}function x$(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=Sy(new Ce([],{}),0,i))}),e}function SA(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function AA(t,e,n){return t==n.path&&yi(e,n.parameters)}var _l="imperative",Mn=class{constructor(e,n){this.id=e,this.url=n}},ya=class extends Mn{constructor(e,n,i="imperative",r=null){super(e,n),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Hi=class extends Mn{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ar=class extends Mn{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},kr=class extends Mn{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=16}},xl=class extends Mn{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},xf=class extends Mn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ay=class extends Mn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ky=class extends Mn{constructor(e,n,i,r,o){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},My=class extends Mn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ry=class extends Mn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Py=class{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ny=class{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Fy=class{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Oy=class{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ly=class{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vy=class{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ef=class{constructor(e,n,i){this.routerEvent=e,this.position=n,this.anchor=i,this.type=15}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},El=class{},Il=class{constructor(e){this.url=e}};var jy=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new kl,this.attachRef=null}},kl=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let o=this.getOrCreateContext(i);o.outlet=r,this.contexts.set(i,o)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new jy,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),If=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=By(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=By(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Uy(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Uy(e,this._root).map(n=>n.value)}};function By(t,e){if(t===e.value)return e;for(let n of e.children){let i=By(t,n);if(i)return i}return null}function Uy(t,e){if(t===e.value)return[e];for(let n of e.children){let i=Uy(t,n);if(i.length)return i.unshift(e),i}return[]}var _n=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ma(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Df=class extends If{constructor(e,n){super(e),this.snapshot=n,Zy(this,e)}toString(){return this.snapshot.toString()}};function KA(t,e){let n=E$(t,e),i=new st([new Oo("",{})]),r=new st({}),o=new st({}),s=new st({}),a=new st(""),c=new va(i,r,s,a,o,ce,e,n.root);return c.snapshot=n.root,new Df(new _n(c,[]),n)}function E$(t,e){let n={},i={},r={},o="",s=new Dl([],n,r,o,i,ce,e,null,{});return new Cf("",new _n(s,[]))}var va=class{constructor(e,n,i,r,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(j(l=>l[Sl]))??L(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(j(e=>ba(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(j(e=>ba(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Yy(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:M(M({},e.params),t.params),data:M(M({},e.data),t.data),resolve:M(M(M(M({},t.data),e.data),r?.data),t._resolvedData)}:i={params:M({},t.params),data:M({},t.data),resolve:M(M({},t.data),t._resolvedData??{})},r&&YA(r)&&(i.resolve[Sl]=r.title),i}var Dl=class{get title(){return this.data?.[Sl]}constructor(e,n,i,r,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ba(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ba(this.queryParams)),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Cf=class extends If{constructor(e,n){super(n),this.url=e,Zy(this,n)}toString(){return QA(this._root)}};function Zy(t,e){e.value._routerState=t,e.children.forEach(n=>Zy(t,n))}function QA(t){let e=t.children.length>0?` { ${t.children.map(QA).join(", ")} } `:"";return`${t.value}${e}`}function xy(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,yi(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),yi(e.params,n.params)||t.paramsSubject.next(n.params),Xz(e.url,n.url)||t.urlSubject.next(n.url),yi(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function zy(t,e){let n=yi(t.params,e.params)&&n$(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||zy(t.parent,e.parent))}function YA(t){return typeof t.title=="string"||t.title===null}var I$=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ce,this.activateEvents=new ne,this.deactivateEvents=new ne,this.attachEvents=new ne,this.detachEvents=new ne,this.parentContexts=I(kl),this.location=I(Wt),this.changeDetector=I(Nt),this.environmentInjector=I(Ht),this.inputBinder=I(Mf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:o}=i.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new S(4013,!1);this._activatedRoute=i;let o=this.location,a=i.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new $y(i,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=be({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[gi]});let t=e;return t})(),$y=class{constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===va?this.route:e===kl?this.childContexts:this.parent.get(e,n)}},Mf=new T(""),kA=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:r}=i,o=mo([r.queryParams,r.params,r.data]).pipe(Me(([s,a,c],l)=>(c=M(M(M({},s),a),c),l===0?L(c):Promise.resolve(c)))).subscribe(s=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(i);return}let a=jS(r.component);if(!a){this.unsubscribeFromRouteData(i);return}for(let{templateName:c}of a.inputs)i.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(i,o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})();function D$(t,e,n){let i=Cl(t,e._root,n?n._root:void 0);return new Df(i,e)}function Cl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=C$(t,e,n);return new _n(i,r)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Cl(t,a)),s}}let i=T$(e.value),r=e.children.map(o=>Cl(t,o));return new _n(i,r)}}function C$(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return Cl(t,i,r);return Cl(t,i)})}function T$(t){return new va(new st(t.url),new st(t.params),new st(t.queryParams),new st(t.fragment),new st(t.data),t.outlet,t.component,t)}var ZA="ngNavigationCancelingError";function XA(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=_a(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=JA(!1,0,e);return r.url=n,r.navigationBehaviorOptions=i,r}function JA(t,e,n){let i=new Error("NavigationCancelingError: "+(t||""));return i[ZA]=!0,i.cancellationCode=e,n&&(i.url=n),i}function S$(t){return ek(t)&&_a(t.url)}function ek(t){return t&&t[ZA]}var A$=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Xe({type:e,selectors:[["ng-component"]],standalone:!0,features:[H_],decls:1,vars:0,template:function(r,o){r&1&&ke(0,"router-outlet")},dependencies:[I$],encapsulation:2});let t=e;return t})();function k$(t,e){return t.providers&&!t._injector&&(t._injector=Qh(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Xy(t){let e=t.children&&t.children.map(Xy),n=e?Ee(M({},t),{children:e}):M({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ce&&(n.component=A$),n}function vi(t){return t.outlet||ce}function M$(t,e){let n=t.filter(i=>vi(i)===e);return n.push(...t.filter(i=>vi(i)!==e)),n}function Ml(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var R$=(t,e,n,i)=>j(r=>(new Hy(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),Hy=class{constructor(e,n,i,r,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),xy(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=ma(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=ma(e);for(let s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=ma(e);for(let s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=ma(n);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Vy(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Oy(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(xy(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),xy(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Ml(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}},Tf=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ga=class{constructor(e,n){this.component=e,this.route=n}};function P$(t,e,n){let i=t._root,r=e?e._root:null;return pl(i,r,n,[i.value])}function N$(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function xa(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!UD(t)?t:e.get(t):i}function pl(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=ma(e);return t.children.forEach(s=>{F$(s,o[s.value.outlet],n,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>yl(a,n.getContext(s),r)),r}function F$(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=O$(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new Tf(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?pl(t,e,a?a.children:null,i,r):pl(t,e,n,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new ga(a.outlet.component,s))}else s&&yl(e,a,r),r.canActivateChecks.push(new Tf(i)),o.component?pl(t,null,a?a.children:null,i,r):pl(t,null,n,i,r);return r}function O$(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Lo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Lo(t.url,e.url)||!yi(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zy(t,e)||!yi(t.queryParams,e.queryParams);case"paramsChange":default:return!zy(t,e)}}function yl(t,e,n){let i=ma(t),r=t.value;Object.entries(i).forEach(([o,s])=>{r.component?e?yl(s,e.children.getContext(o),n):yl(s,null,n):yl(s,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ga(e.outlet.component,r)):n.canDeactivateChecks.push(new ga(null,r)):n.canDeactivateChecks.push(new ga(null,r))}function Rl(t){return typeof t=="function"}function L$(t){return typeof t=="boolean"}function V$(t){return t&&Rl(t.canLoad)}function j$(t){return t&&Rl(t.canActivate)}function B$(t){return t&&Rl(t.canActivateChild)}function U$(t){return t&&Rl(t.canDeactivate)}function z$(t){return t&&Rl(t.canMatch)}function tk(t){return t instanceof Li||t?.name==="EmptyError"}var gf=Symbol("INITIAL_VALUE");function wa(){return Me(t=>mo(t.map(e=>e.pipe(en(1),tn(gf)))).pipe(j(e=>{for(let n of e)if(n!==!0){if(n===gf)return gf;if(n===!1||n instanceof Sr)return n}return!0}),Fe(e=>e!==gf),en(1)))}function $$(t,e){return Ze(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?L(Ee(M({},n),{guardsResult:!0})):H$(s,i,r,t).pipe(Ze(a=>a&&L$(a)?q$(i,o,t,e):L(a)),j(a=>Ee(M({},n),{guardsResult:a})))})}function H$(t,e,n,i){return pe(t).pipe(Ze(r=>Y$(r.component,r.route,n,e,i)),fn(r=>r!==!0,!0))}function q$(t,e,n,i){return pe(e).pipe(Vi(r=>ar(W$(r.route.parent,i),G$(r.route,i),Q$(t,r.path,n),K$(t,r.route,n))),fn(r=>r!==!0,!0))}function G$(t,e){return t!==null&&e&&e(new Ly(t)),L(!0)}function W$(t,e){return t!==null&&e&&e(new Fy(t)),L(!0)}function K$(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return L(!0);let r=i.map(o=>zd(()=>{let s=Ml(e)??n,a=xa(o,s),c=j$(a)?a.canActivate(e,t):bi(s,()=>a(e,t));return Mr(c).pipe(fn())}));return L(r).pipe(wa())}function Q$(t,e,n){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>N$(s)).filter(s=>s!==null).map(s=>zd(()=>{let a=s.guards.map(c=>{let l=Ml(s.node)??n,u=xa(c,l),d=B$(u)?u.canActivateChild(i,t):bi(l,()=>u(i,t));return Mr(d).pipe(fn())});return L(a).pipe(wa())}));return L(o).pipe(wa())}function Y$(t,e,n,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return L(!0);let s=o.map(a=>{let c=Ml(e)??r,l=xa(a,c),u=U$(l)?l.canDeactivate(t,e,n,i):bi(c,()=>l(t,e,n,i));return Mr(u).pipe(fn())});return L(s).pipe(wa())}function Z$(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return L(!0);let o=r.map(s=>{let a=xa(s,t),c=V$(a)?a.canLoad(e,n):bi(t,()=>a(e,n));return Mr(c)});return L(o).pipe(wa(),nk(i))}function nk(t){return Ig(ze(e=>{if(_a(e))throw XA(t,e)}),j(e=>e===!0))}function X$(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return L(!0);let o=r.map(s=>{let a=xa(s,t),c=z$(a)?a.canMatch(e,n):bi(t,()=>a(e,n));return Mr(c)});return L(o).pipe(wa(),nk(i))}var Tl=class{constructor(e){this.segmentGroup=e||null}},Sf=class extends Error{constructor(e){super(),this.urlTree=e}};function fa(t){return Fs(new Tl(t))}function J$(t){return Fs(new S(4e3,!1))}function e4(t){return Fs(JA(!1,3))}var qy=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return L(i);if(r.numberOfChildren>1||!r.children[ce])return J$(e.redirectTo);r=r.children[ce]}}applyRedirectCommands(e,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n.startsWith("/"))throw new Sf(r);return r}applyRedirectCreateUrlTree(e,n,i,r){let o=this.createSegmentGroup(e,n.root,i,r);return new Sr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);i[r]=n[a]}else i[r]=o}),i}createSegmentGroup(e,n,i,r){let o=this.createSegments(e,n.segments,i,r),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,i,r)}),new Ce(o,s)}createSegments(e,n,i,r){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new S(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},Gy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function t4(t,e,n,i,r){let o=Jy(t,e,n);return o.matched?(i=k$(e,i),X$(i,e,n,r).pipe(j(s=>s===!0?o:M({},Gy)))):L(o)}function Jy(t,e,n){if(e.path==="**")return n4(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?M({},Gy):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||Zz)(n,t,e);if(!r)return M({},Gy);let o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=r.consumed.length>0?M(M({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function n4(t){return{matched:!0,parameters:t.length>0?FA(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function MA(t,e,n,i){return n.length>0&&o4(t,n,i)?{segmentGroup:new Ce(e,r4(i,new Ce(n,t.children))),slicedSegments:[]}:n.length===0&&s4(t,n,i)?{segmentGroup:new Ce(t.segments,i4(t,e,n,i,t.children)),slicedSegments:n}:{segmentGroup:new Ce(t.segments,t.children),slicedSegments:n}}function i4(t,e,n,i,r){let o={};for(let s of i)if(Rf(t,n,s)&&!r[vi(s)]){let a=new Ce([],{});o[vi(s)]=a}return M(M({},r),o)}function r4(t,e){let n={};n[ce]=e;for(let i of t)if(i.path===""&&vi(i)!==ce){let r=new Ce([],{});n[vi(i)]=r}return n}function o4(t,e,n){return n.some(i=>Rf(t,e,i)&&vi(i)!==ce)}function s4(t,e,n){return n.some(i=>Rf(t,e,i))}function Rf(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function a4(t,e,n,i){return vi(t)!==i&&(i===ce||!Rf(e,n,t))?!1:Jy(e,t,n).matched}function c4(t,e,n){return e.length===0&&!t.children[n]}var Wy=class{};function l4(t,e,n,i,r,o,s="emptyOnly"){return new Ky(t,e,n,i,r,s,o).recognize()}var u4=31,Ky=class{constructor(e,n,i,r,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new qy(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new S(4002,`'${e.segmentGroup}'`)}recognize(){let e=MA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(j(n=>{let i=new Dl([],Object.freeze({}),Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,{},ce,this.rootComponentType,null,{}),r=new _n(i,n),o=new Cf("",r),s=g$(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ce).pipe(lr(i=>{if(i instanceof Sf)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Tl?this.noMatchError(i):i}))}inheritParamsAndData(e,n){let i=e.value,r=Yy(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(e,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0).pipe(j(o=>o instanceof _n?[o]:[]))}processChildren(e,n,i){let r=[];for(let o of Object.keys(i.children))o==="primary"?r.unshift(o):r.push(o);return pe(r).pipe(Vi(o=>{let s=i.children[o],a=M$(n,o);return this.processSegmentGroup(e,a,s,o)}),bo((o,s)=>(o.push(...s),o)),ur(null),Ng(),Ze(o=>{if(o===null)return fa(i);let s=ik(o);return d4(s),L(s)}))}processSegment(e,n,i,r,o,s){return pe(n).pipe(Vi(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,i,r,o,s).pipe(lr(c=>{if(c instanceof Tl)return L(null);throw c}))),fn(a=>!!a),lr(a=>{if(tk(a))return c4(i,r,o)?L(new Wy):fa(i);throw a}))}processSegmentAgainstRoute(e,n,i,r,o,s,a){return a4(i,r,o,s)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,o,s):fa(r):fa(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=Jy(n,r,o);if(!a)return fa(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>u4&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,l);return this.applyRedirects.lineralizeSegments(r,d).pipe(Ze(h=>this.processSegment(e,i,n,h.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,i,r,o){let s=t4(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),s.pipe(Me(a=>a.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Me(({routes:c})=>{let l=i._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:h}=a,f=new Dl(u,h,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,f4(i),vi(i),i.component??i._loadedComponent??null,i,m4(i)),{segmentGroup:m,slicedSegments:p}=MA(n,u,d,c);if(p.length===0&&m.hasChildren())return this.processChildren(l,c,m).pipe(j(y=>y===null?null:new _n(f,y)));if(c.length===0&&p.length===0)return L(new _n(f,[]));let g=vi(i)===o;return this.processSegment(l,c,m,p,g?ce:o,!0).pipe(j(y=>new _n(f,y instanceof _n?[y]:[])))}))):fa(n)))}getChildConfig(e,n,i){return n.children?L({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?L({routes:n._loadedRoutes,injector:n._loadedInjector}):Z$(e,n,i,this.urlSerializer).pipe(Ze(r=>r?this.configLoader.loadChildren(e,n).pipe(ze(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):e4(n))):L({routes:[],injector:e})}};function d4(t){t.sort((e,n)=>e.value.outlet===ce?-1:n.value.outlet===ce?1:e.value.outlet.localeCompare(n.value.outlet))}function h4(t){let e=t.value.routeConfig;return e&&e.path===""}function ik(t){let e=[],n=new Set;for(let i of t){if(!h4(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=ik(i.children);e.push(new _n(i.value,r))}return e.filter(i=>!n.has(i))}function f4(t){return t.data||{}}function m4(t){return t.resolve||{}}function p4(t,e,n,i,r,o){return Ze(s=>l4(t,e,n,i,s.extractedUrl,r,o).pipe(j(({state:a,tree:c})=>Ee(M({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function g4(t,e){return Ze(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return L(n);let o=new Set(r.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of rk(c))s.add(l);let a=0;return pe(s).pipe(Vi(c=>o.has(c)?b4(c,i,t,e):(c.data=Yy(c,c.parent,t).resolve,L(void 0))),ze(()=>a++),Ls(1),Ze(c=>a===s.size?L(n):Mt))})}function rk(t){let e=t.children.map(n=>rk(n)).flat();return[t,...e]}function b4(t,e,n,i){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!YA(r)&&(o[Sl]=r.title),_4(o,t,e,i).pipe(j(s=>(t._resolvedData=s,t.data=Yy(t,t.parent,n).resolve,null)))}function _4(t,e,n,i){let r=Dy(t);if(r.length===0)return L({});let o={};return pe(r).pipe(Ze(s=>y4(t[s],e,n,i).pipe(fn(),ze(a=>{o[s]=a}))),Ls(1),Pg(o),lr(s=>tk(s)?Mt:Fs(s)))}function y4(t,e,n,i){let r=Ml(e)??i,o=xa(t,r),s=o.resolve?o.resolve(e,n):bi(r,()=>o(e,n));return Mr(s)}function Ey(t){return Me(e=>{let n=t(e);return n?pe(n).pipe(j(()=>e)):L(e)})}var ok=(()=>{let e=class e{buildTitle(i){let r,o=i.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===ce);return r}getResolvedTitleForRoute(i){return i.data[Sl]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:()=>(()=>I(v4))(),providedIn:"root"});let t=e;return t})(),v4=(()=>{let e=class e extends ok{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(v(yy))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Pl=new T("",{providedIn:"root",factory:()=>({})}),Af=new T("ROUTES"),ev=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=I(Zh)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return L(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=Mr(i.loadComponent()).pipe(j(sk),ze(s=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=s}),hr(()=>{this.componentLoaders.delete(i)})),o=new ks(r,()=>new fe).pipe(As());return this.componentLoaders.set(i,o),o}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return L({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=w4(r,this.compiler,i,this.onLoadEndListener).pipe(hr(()=>{this.childrenLoaders.delete(r)})),a=new ks(s,()=>new fe).pipe(As());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function w4(t,e,n,i){return Mr(t.loadChildren()).pipe(j(sk),Ze(r=>r instanceof Gc||Array.isArray(r)?L(r):pe(e.compileModuleAsync(r))),j(r=>{i&&i(t);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(n).injector,s=o.get(Af,[],{optional:!0,self:!0}).flat()),{routes:s.map(Xy),injector:o}}))}function x4(t){return t&&typeof t=="object"&&"default"in t}function sk(t){return x4(t)?t.default:t}var tv=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:()=>(()=>I(E4))(),providedIn:"root"});let t=e;return t})(),E4=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ak=new T(""),ck=new T("");function I4(t,e,n){let i=t.get(ck),r=t.get(ue);return t.get(U).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let o,s=new Promise(l=>{o=l}),a=r.startViewTransition(()=>(o(),D4(t))),{onViewTransitionCreated:c}=i;return c&&bi(t,()=>c({transition:a,from:e,to:n})),s})}function D4(t){return new Promise(e=>{L_(e,{injector:t})})}var nv=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new fe,this.transitionAbortSubject=new fe,this.configLoader=I(ev),this.environmentInjector=I(Ht),this.urlSerializer=I(Al),this.rootContexts=I(kl),this.location=I(la),this.inputBindingEnabled=I(Mf,{optional:!0})!==null,this.titleStrategy=I(ok),this.options=I(Pl,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=I(tv),this.createViewTransition=I(ak,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>L(void 0),this.rootComponentType=null;let i=o=>this.events.next(new Py(o)),r=o=>this.events.next(new Ny(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(Ee(M(M({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,o){return this.transitions=new st({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:_l,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Fe(s=>s.id!==0),j(s=>Ee(M({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Me(s=>{this.currentTransition=s;let a=!1,c=!1;return L(s).pipe(ze(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Ee(M({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Me(l=>{let u=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new kr(l.id,this.urlSerializer.serialize(l.rawUrl),h,0)),l.resolve(null),Mt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return L(l).pipe(Me(h=>{let f=this.transitions?.getValue();return this.events.next(new ya(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Mt:Promise.resolve(h)}),p4(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),ze(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=Ee(M({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new xf(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:h,extractedUrl:f,source:m,restoredState:p,extras:g}=l,y=new ya(h,this.urlSerializer.serialize(f),m,p);this.events.next(y);let A=KA(f,this.rootComponentType).snapshot;return this.currentTransition=s=Ee(M({},l),{targetSnapshot:A,urlAfterRedirects:f,extras:Ee(M({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,L(s)}else{let h="";return this.events.next(new kr(l.id,this.urlSerializer.serialize(l.extractedUrl),h,1)),l.resolve(null),Mt}}),ze(l=>{let u=new Ay(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),j(l=>(this.currentTransition=s=Ee(M({},l),{guards:P$(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),$$(this.environmentInjector,l=>this.events.next(l)),ze(l=>{if(s.guardsResult=l.guardsResult,_a(l.guardsResult))throw XA(this.urlSerializer,l.guardsResult);let u=new ky(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Fe(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",3),!1)),Ey(l=>{if(l.guards.canActivateChecks.length)return L(l).pipe(ze(u=>{let d=new My(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Me(u=>{let d=!1;return L(u).pipe(g4(this.paramsInheritanceStrategy,this.environmentInjector),ze({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",2)}}))}),ze(u=>{let d=new Ry(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),Ey(l=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(ze(f=>{d.component=f}),j(()=>{})));for(let f of d.children)h.push(...u(f));return h};return mo(u(l.targetSnapshot.root)).pipe(ur(null),en(1))}),Ey(()=>this.afterPreactivation()),Me(()=>{let{currentSnapshot:l,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?pe(d).pipe(j(()=>s)):L(s)}),j(l=>{let u=D$(i.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=Ee(M({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),ze(()=>{this.events.next(new El)}),R$(this.rootContexts,i.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),en(1),ze({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Hi(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),nn(this.transitionAbortSubject.pipe(ze(l=>{throw l}))),hr(()=>{if(!a&&!c){let l="";this.cancelNavigationTransition(s,l,1)}this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),lr(l=>{if(c=!0,ek(l))this.events.next(new Ar(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),S$(l)?this.events.next(new Il(l.url)):s.resolve(!1);else{this.events.next(new xl(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(i.errorHandler(l))}catch(u){s.reject(u)}}return Mt}))}))}cancelNavigationTransition(i,r,o){let s=new Ar(i.id,this.urlSerializer.serialize(i.extractedUrl),r,o);this.events.next(s),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function C4(t){return t!==_l}var T4=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:()=>(()=>I(S4))(),providedIn:"root"});let t=e;return t})(),Qy=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},S4=(()=>{let e=class e extends Qy{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Er(e)))(o||e)}})(),e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),lk=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:()=>(()=>I(A4))(),providedIn:"root"});let t=e;return t})(),A4=(()=>{let e=class e extends lk{constructor(){super(...arguments),this.location=I(la),this.urlSerializer=I(Al),this.options=I(Pl,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=I(tv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Sr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=KA(this.currentUrlTree,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof ya)this.stateMemento=this.createStateMemento();else if(i instanceof kr)this.rawUrlTree=r.initialUrl;else if(i instanceof xf){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else i instanceof El?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof Ar&&(i.code===3||i.code===2)?this.restoreHistory(r):i instanceof xl?this.restoreHistory(r,!0):i instanceof Hi&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let o=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let s=this.browserPageId,a=M(M({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(o,"",a)}else{let s=M(M({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===i.finalUrl&&s===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Er(e)))(o||e)}})(),e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gl=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(gl||{});function uk(t,e){t.events.pipe(Fe(n=>n instanceof Hi||n instanceof Ar||n instanceof xl||n instanceof kr),j(n=>n instanceof Hi||n instanceof kr?gl.COMPLETE:(n instanceof Ar?n.code===0||n.code===1:!1)?gl.REDIRECTING:gl.FAILED),Fe(n=>n!==gl.REDIRECTING),en(1)).subscribe(()=>{e()})}function k4(t){throw t}var M4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},R4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Vo=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=I(Yh),this.stateManager=I(lk),this.options=I(Pl,{optional:!0})||{},this.pendingTasks=I(Po),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=I(nv),this.urlSerializer=I(Al),this.location=I(la),this.urlHandlingStrategy=I(tv),this._events=new fe,this.errorHandler=this.options.errorHandler||k4,this.navigated=!1,this.routeReuseStrategy=I(T4),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=I(Af,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!I(Mf,{optional:!0}),this.eventsSubscription=new Ie,this.isNgZoneEnabled=I(U)instanceof U&&U.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Ar&&r.code!==0&&r.code!==1)this.navigated=!0;else if(r instanceof Hi)this.navigated=!0;else if(r instanceof Il){let a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c={skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||C4(o.source)};this.scheduleNavigation(a,_l,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}N4(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),_l,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)}))}navigateToSyncWithBrowser(i,r,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=M({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(i);this.scheduleNavigation(c,r,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(Xy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=M(M({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=o?o.snapshot:this.routerState.snapshot.root;h=HA(f)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),h=this.currentUrlTree.root}return qA(h,i,d,u??null)}navigateByUrl(i,r={skipLocationChange:!1}){let o=_a(i)?i:this.parseUrl(i),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,_l,null,r)}navigate(i,r={skipLocationChange:!1}){return P4(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let o;if(r===!0?o=M({},M4):r===!1?o=M({},R4):o=r,_a(i))return CA(this.currentUrlTree,i,o);let s=this.parseUrl(i);return CA(this.currentUrlTree,s,o)}removeEmptyProps(i){return Object.keys(i).reduce((r,o)=>{let s=i[o];return s!=null&&(r[o]=s),r},{})}scheduleNavigation(i,r,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((h,f)=>{c=h,l=f});let d=this.pendingTasks.add();return uk(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:s,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function P4(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new S(4008,!1)}function N4(t){return!(t instanceof El)&&!(t instanceof Il)}var kf=class{};var F4=(()=>{let e=class e{constructor(i,r,o,s,a){this.router=i,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Fe(i=>i instanceof Hi),Vi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){let o=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Qh(s.providers,i,`Route: ${s.path}`));let a=s._injector??i,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(c,s.children??s._loadedRoutes))}return pe(o).pipe(sr())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(i,r):o=L(null);let s=o.pipe(Ze(a=>a===null?L(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??i,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return pe([s,a]).pipe(sr())}else return s})}};e.\u0275fac=function(r){return new(r||e)(v(Vo),v(Zh),v(Ht),v(kf),v(ev))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),dk=new T(""),O4=(()=>{let e=class e{constructor(i,r,o,s,a={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof ya?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Hi?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof kr&&i.code===0&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Ef&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ef(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){jh()},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})();function L4(t){return t.routerState.root}function Nl(t,e){return{\u0275kind:t,\u0275providers:e}}function V4(){let t=I(sn);return e=>{let n=t.get(Qn);if(e!==n.components[0])return;let i=t.get(Vo),r=t.get(hk);t.get(iv)===1&&i.initialNavigation(),t.get(fk,null,de.Optional)?.setUpPreloading(),t.get(dk,null,de.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var hk=new T("",{factory:()=>new fe}),iv=new T("",{providedIn:"root",factory:()=>1});function j4(){return Nl(2,[{provide:iv,useValue:0},{provide:ef,multi:!0,deps:[sn],useFactory:e=>{let n=e.get(qS,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let r=e.get(Vo),o=e.get(hk);uk(r,()=>{i(!0)}),e.get(nv).afterPreactivation=()=>(i(!0),o.closed?L(void 0):o),r.initialNavigation()}))}}])}function B4(){return Nl(3,[{provide:ef,multi:!0,useFactory:()=>{let e=I(Vo);return()=>{e.setUpLocationChangeListener()}}},{provide:iv,useValue:2}])}var fk=new T("");function U4(t){return Nl(0,[{provide:fk,useExisting:F4},{provide:kf,useExisting:t}])}function z4(){return Nl(8,[kA,{provide:Mf,useExisting:kA}])}function $4(t){let e=[{provide:ak,useValue:I4},{provide:ck,useValue:M({skipNextTransition:!!t?.skipInitialTransition},t)}];return Nl(9,e)}var RA=new T("ROUTER_FORROOT_GUARD"),H4=[la,{provide:Al,useClass:vl},Vo,kl,{provide:va,useFactory:L4,deps:[Vo]},ev,[]],rv=(()=>{let e=class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[H4,[],{provide:Af,multi:!0,useValue:i},{provide:RA,useFactory:K4,deps:[[Vo,new Ao,new Rh]]},{provide:Pl,useValue:r||{}},r?.useHash?G4():W4(),q4(),r?.preloadingStrategy?U4(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Q4(r):[],r?.bindToComponentInputs?z4().\u0275providers:[],r?.enableViewTransitions?$4().\u0275providers:[],Y4()]}}static forChild(i){return{ngModule:e,providers:[{provide:Af,multi:!0,useValue:i}]}}};e.\u0275fac=function(r){return new(r||e)(v(RA,8))},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({});let t=e;return t})();function q4(){return{provide:dk,useFactory:()=>{let t=I(ZS),e=I(U),n=I(Pl),i=I(nv),r=I(Al);return n.scrollOffset&&t.setOffset(n.scrollOffset),new O4(r,i,t,e,n)}}}function G4(){return{provide:No,useClass:WS}}function W4(){return{provide:No,useClass:iy}}function K4(t){return"guarded"}function Q4(t){return[t.initialNavigation==="disabled"?B4().\u0275providers:[],t.initialNavigation==="enabledBlocking"?j4().\u0275providers:[]]}var PA=new T("");function Y4(){return[{provide:PA,useFactory:V4},{provide:aa,multi:!0,useExisting:PA}]}var Z4=[],mk=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({imports:[rv.forRoot(Z4),rv]});let t=e;return t})();var sv;try{sv=typeof Intl<"u"&&Intl.v8BreakIterator}catch{sv=!1}var ht=(()=>{let e=class e{constructor(i){this._platformId=i,this.isBrowser=this._platformId?YS(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||sv)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(r){return new(r||e)(v(gt))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Fl;function X4(){if(Fl==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Fl=!0}))}finally{Fl=Fl||!1}return Fl}function Rr(t){return X4()?t:!!t.capture}var ov;function J4(){if(ov==null){let t=typeof document<"u"?document.head:null;ov=!!(t&&(t.createShadowRoot||t.attachShadow))}return ov}function pk(t){if(J4()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Pr(t){return t.composedPath?t.composedPath()[0]:t.target}function gk(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Pf(t,...e){return e.length?e.some(n=>t[n]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function Rn(t){return t!=null&&`${t}`!="false"}function Bo(t,e=0){return eH(t)?Number(t):e}function eH(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function av(t){return Array.isArray(t)?t:[t]}function qi(t){return t instanceof he?t.nativeElement:t}var bk=(()=>{let e=class e{create(i){return typeof MutationObserver>"u"?null:new MutationObserver(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),tH=(()=>{let e=class e{constructor(i){this._mutationObserverFactory=i,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((i,r)=>this._cleanupObserver(r))}observe(i){let r=qi(i);return new W(o=>{let a=this._observeElement(r).subscribe(o);return()=>{a.unsubscribe(),this._unobserveElement(r)}})}_observeElement(i){if(this._observedElements.has(i))this._observedElements.get(i).count++;else{let r=new fe,o=this._mutationObserverFactory.create(s=>r.next(s));o&&o.observe(i,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(i,{observer:o,stream:r,count:1})}return this._observedElements.get(i).stream}_unobserveElement(i){this._observedElements.has(i)&&(this._observedElements.get(i).count--,this._observedElements.get(i).count||this._cleanupObserver(i))}_cleanupObserver(i){if(this._observedElements.has(i)){let{observer:r,stream:o}=this._observedElements.get(i);r&&r.disconnect(),o.complete(),this._observedElements.delete(i)}}};e.\u0275fac=function(r){return new(r||e)(v(bk))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_k=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(i){this._disabled=i,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(i){this._debounce=Bo(i),this._subscribe()}constructor(i,r,o){this._contentObserver=i,this._elementRef=r,this._ngZone=o,this.event=new ne,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let i=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?i.pipe(go(this.debounce)):i).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(D(tH),D(he),D(U))},e.\u0275dir=be({type:e,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled",Dt],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],features:[Wn]});let t=e;return t})(),Ea=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({providers:[bk]});let t=e;return t})();var yk=new Set,Uo,iH=(()=>{let e=class e{constructor(i,r){this._platform=i,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):oH}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&rH(i,this._nonce),this._matchMedia(i)}};e.\u0275fac=function(r){return new(r||e)(v(ht),v(el,8))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function rH(t,e){if(!yk.has(t))try{Uo||(Uo=document.createElement("style"),e&&(Uo.nonce=e),Uo.setAttribute("type","text/css"),document.head.appendChild(Uo)),Uo.sheet&&(Uo.sheet.insertRule(`@media ${t} {body{ }}`,0),yk.add(t))}catch(n){console.error(n)}}function oH(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var wk=(()=>{let e=class e{constructor(i,r){this._mediaMatcher=i,this._zone=r,this._queries=new Map,this._destroySubject=new fe}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return vk(av(i)).some(o=>this._registerQuery(o).mql.matches)}observe(i){let o=vk(av(i)).map(a=>this._registerQuery(a).observable),s=mo(o);return s=ar(s.pipe(en(1)),s.pipe(_o(1),go(0))),s.pipe(j(a=>{let c={matches:!1,breakpoints:{}};return a.forEach(({matches:l,query:u})=>{c.matches=c.matches||l,c.breakpoints[u]=l}),c}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);let r=this._mediaMatcher.matchMedia(i),s={observable:new W(a=>{let c=l=>this._zone.run(()=>a.next(l));return r.addListener(c),()=>{r.removeListener(c)}}).pipe(tn(r),j(({matches:a})=>({query:i,matches:a})),nn(this._destroySubject)),mql:r};return this._queries.set(i,s),s}};e.\u0275fac=function(r){return new(r||e)(v(iH),v(U))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function vk(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}var lv=class{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new fe,this._typeaheadSubscription=Ie.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=n=>n.disabled,this._pressedLetters=[],this.tabOut=new fe,this.change=new fe,e instanceof yr&&(this._itemChangesSubscription=e.changes.subscribe(n=>{if(this._activeItem){let r=n.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(ze(n=>this._pressedLetters.push(n)),go(e),Fe(()=>this._pressedLetters.length>0),j(()=>this._pressedLetters.join(""))).subscribe(n=>{let i=this._getItemsArray();for(let r=1;r<i.length+1;r++){let o=(this._activeItemIndex+r)%i.length,s=i[o];if(!this._skipPredicateFn(s)&&s.getLabel().toUpperCase().trim().indexOf(n)===0){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,n=10){return this._pageUpAndDown={enabled:e,delta:n},this}setActiveItem(e){let n=this._activeItem;this.updateActiveItem(e),this._activeItem!==n&&this.change.next(this._activeItemIndex)}onKeydown(e){let n=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(n){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}else return;default:(r||Pf(e,"shiftKey"))&&(e.key&&e.key.length===1?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(n>=65&&n<=90||n>=48&&n<=57)&&this._letterKeyStream.next(String.fromCharCode(n)));return}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){let n=this._getItemsArray(),i=typeof e=="number"?e:n.indexOf(e),r=n[i];this._activeItem=r??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){let n=this._getItemsArray();for(let i=1;i<=n.length;i++){let r=(this._activeItemIndex+e*i+n.length)%n.length,o=n[r];if(!this._skipPredicateFn(o)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,n){let i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(e+=n,!i[e])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof yr?this._items.toArray():this._items}};var Ff=class extends lv{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}};function uv(t){return t.buttons===0||t.detail===0}function dv(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var IH=new T("cdk-input-modality-detector-options"),DH={ignoreKeys:[18,17,224,91,16]},Ik=650,Ia=Rr({passive:!0,capture:!0}),CH=(()=>{let e=class e{get mostRecentModality(){return this._modality.value}constructor(i,r,o,s){this._platform=i,this._mostRecentTarget=null,this._modality=new st(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(c=>c===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Pr(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<Ik||(this._modality.next(uv(a)?"keyboard":"mouse"),this._mostRecentTarget=Pr(a))},this._onTouchstart=a=>{if(dv(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Pr(a)},this._options=M(M({},DH),s),this.modalityDetected=this._modality.pipe(_o(1)),this.modalityChanged=this.modalityDetected.pipe(dr()),i.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,Ia),o.addEventListener("mousedown",this._onMousedown,Ia),o.addEventListener("touchstart",this._onTouchstart,Ia)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ia),document.removeEventListener("mousedown",this._onMousedown,Ia),document.removeEventListener("touchstart",this._onTouchstart,Ia))}};e.\u0275fac=function(r){return new(r||e)(v(ht),v(U),v(ue),v(IH,8))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var TH=new T("cdk-focus-monitor-default-options"),Nf=Rr({passive:!0,capture:!0}),Of=(()=>{let e=class e{constructor(i,r,o,s,a){this._ngZone=i,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new fe,this._rootNodeFocusAndBlurListener=c=>{let l=Pr(c);for(let u=l;u;u=u.parentElement)c.type==="focus"?this._onFocus(c,u):this._onBlur(c,u)},this._document=s,this._detectionMode=a?.detectionMode||0}monitor(i,r=!1){let o=qi(i);if(!this._platform.isBrowser||o.nodeType!==1)return L();let s=pk(o)||this._getDocument(),a=this._elementInfo.get(o);if(a)return r&&(a.checkChildren=!0),a.subject;let c={checkChildren:r,subject:new fe,rootNode:s};return this._elementInfo.set(o,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(i){let r=qi(i),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(i,r,o){let s=qi(i),a=this._getDocument().activeElement;s===a?this._getClosestElementsInfo(s).forEach(([c,l])=>this._originChanged(c,r,l)):(this._setOrigin(r),typeof s.focus=="function"&&s.focus(o))}ngOnDestroy(){this._elementInfo.forEach((i,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:i&&this._isLastInteractionFromInputLabel(i)?"mouse":"program"}_shouldBeAttributedToTouch(i){return this._detectionMode===1||!!i?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(i,r){i.classList.toggle("cdk-focused",!!r),i.classList.toggle("cdk-touch-focused",r==="touch"),i.classList.toggle("cdk-keyboard-focused",r==="keyboard"),i.classList.toggle("cdk-mouse-focused",r==="mouse"),i.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(i,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=i,this._originFromTouchInteraction=i==="touch"&&r,this._detectionMode===0){clearTimeout(this._originTimeoutId);let o=this._originFromTouchInteraction?Ik:1;this._originTimeoutId=setTimeout(()=>this._origin=null,o)}})}_onFocus(i,r){let o=this._elementInfo.get(r),s=Pr(i);!o||!o.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),o)}_onBlur(i,r){let o=this._elementInfo.get(r);!o||o.checkChildren&&i.relatedTarget instanceof Node&&r.contains(i.relatedTarget)||(this._setClasses(r),this._emitOrigin(o,null))}_emitOrigin(i,r){i.subject.observers.length&&this._ngZone.run(()=>i.subject.next(r))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;let r=i.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Nf),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Nf)}),this._rootNodeFocusListenerCount.set(r,o+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(nn(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(i){let r=i.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Nf),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Nf),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,r,o){this._setClasses(i,r),this._emitOrigin(o,r),this._lastFocusOrigin=r}_getClosestElementsInfo(i){let r=[];return this._elementInfo.forEach((o,s)=>{(s===i||o.checkChildren&&s.contains(i))&&r.push([s,o])}),r}_isLastInteractionFromInputLabel(i){let{_mostRecentTarget:r,mostRecentModality:o}=this._inputModalityDetector;if(o!=="mouse"||!r||r===i||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA"||i.disabled)return!1;let s=i.labels;if(s){for(let a=0;a<s.length;a++)if(s[a].contains(r))return!0}return!1}};e.\u0275fac=function(r){return new(r||e)(v(U),v(ht),v(CH),v(ue,8),v(TH,8))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Dk=(()=>{let e=class e{constructor(i,r){this._elementRef=i,this._focusMonitor=r,this._focusOrigin=null,this.cdkFocusChange=new ne}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let i=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(i,i.nodeType===1&&i.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(r=>{this._focusOrigin=r,this.cdkFocusChange.emit(r)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(D(he),D(Of))},e.\u0275dir=be({type:e,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]});let t=e;return t})(),xk="cdk-high-contrast-black-on-white",Ek="cdk-high-contrast-white-on-black",cv="cdk-high-contrast-active",hv=(()=>{let e=class e{constructor(i,r){this._platform=i,this._document=r,this._breakpointSubscription=I(wk).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;let i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);let r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(i):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(i.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let i=this._document.body.classList;i.remove(cv,xk,Ek),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===1?i.add(cv,xk):r===2&&i.add(cv,Ek)}}};e.\u0275fac=function(r){return new(r||e)(v(ht),v(ue))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ck=(()=>{let e=class e{constructor(i){i._applyBodyHighContrastModeCssClasses()}};e.\u0275fac=function(r){return new(r||e)(v(hv))},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({imports:[Ea]});let t=e;return t})();var SH=new T("cdk-dir-doc",{providedIn:"root",factory:AH});function AH(){return I(ue)}var kH=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function MH(t){let e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?kH.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Lf=(()=>{let e=class e{constructor(i){if(this.value="ltr",this.change=new ne,i){let r=i.body?i.body.dir:null,o=i.documentElement?i.documentElement.dir:null;this.value=MH(r||o||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(r){return new(r||e)(v(SH,8))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var fv=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({});let t=e;return t})();var wi="*";function Sk(t,e){return{type:7,name:t,definitions:e,options:{}}}function Vf(t,e=null){return{type:4,styles:e,timings:t}}function Ak(t,e=null){return{type:2,steps:t,options:e}}function Gi(t){return{type:6,styles:t,offset:null}}function jf(t,e,n){return{type:0,name:t,styles:e,options:n}}function Bf(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}var Nr=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},Ol=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,i=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++n==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((n,i)=>n===null||i.totalTime>n.totalTime?i:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},Uf="!";function kk(t){return new S(3e3,!1)}function PH(){return new S(3100,!1)}function NH(){return new S(3101,!1)}function FH(t){return new S(3001,!1)}function OH(t){return new S(3003,!1)}function LH(t){return new S(3004,!1)}function VH(t,e){return new S(3005,!1)}function jH(){return new S(3006,!1)}function BH(){return new S(3007,!1)}function UH(t,e){return new S(3008,!1)}function zH(t){return new S(3002,!1)}function $H(t,e,n,i,r){return new S(3010,!1)}function HH(){return new S(3011,!1)}function qH(){return new S(3012,!1)}function GH(){return new S(3200,!1)}function WH(){return new S(3202,!1)}function KH(){return new S(3013,!1)}function QH(t){return new S(3014,!1)}function YH(t){return new S(3015,!1)}function ZH(t){return new S(3016,!1)}function XH(t,e){return new S(3404,!1)}function JH(t){return new S(3502,!1)}function e5(t){return new S(3503,!1)}function t5(){return new S(3300,!1)}function n5(t){return new S(3504,!1)}function i5(t){return new S(3301,!1)}function r5(t,e){return new S(3302,!1)}function o5(t){return new S(3303,!1)}function s5(t,e){return new S(3400,!1)}function a5(t){return new S(3401,!1)}function c5(t){return new S(3402,!1)}function l5(t,e){return new S(3505,!1)}function Fr(t){switch(t.length){case 0:return new Nr;case 1:return t[0];default:return new Ol(t)}}function Hk(t,e,n=new Map,i=new Map){let r=[],o=[],s=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),u=l==s,d=u&&a||new Map;c.forEach((h,f)=>{let m=f,p=h;if(f!=="offset")switch(m=t.normalizePropertyName(m,r),p){case Uf:p=n.get(f);break;case wi:p=i.get(f);break;default:p=t.normalizeStyleValue(f,m,p,r);break}d.set(m,p)}),u||o.push(d),a=d,s=l}),r.length)throw JH(r);return o}function Fv(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&mv(n,"start",t)));break;case"done":t.onDone(()=>i(n&&mv(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&mv(n,"destroy",t)));break}}function mv(t,e,n){let i=n.totalTime,r=!!n.disabled,o=Ov(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,i??t.totalTime,r),s=t._data;return s!=null&&(o._data=s),o}function Ov(t,e,n,i,r="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function vn(t,e,n){let i=t.get(e);return i||t.set(e,i=n),i}function Mk(t){let e=t.indexOf(":"),n=t.substring(1,e),i=t.slice(e+1);return[n,i]}var u5=(()=>typeof document>"u"?null:document.documentElement)();function Lv(t){let e=t.parentNode||t.host||null;return e===u5?null:e}function d5(t){return t.substring(1,6)=="ebkit"}var zo=null,Rk=!1;function h5(t){zo||(zo=f5()||{},Rk=zo.style?"WebkitAppearance"in zo.style:!1);let e=!0;return zo.style&&!d5(t)&&(e=t in zo.style,!e&&Rk&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in zo.style)),e}function f5(){return typeof document<"u"?document.body:null}function qk(t,e){for(;e;){if(e===t)return!0;e=Lv(e)}return!1}function Gk(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let i=t.querySelector(e);return i?[i]:[]}var Vv=(()=>{let e=class e{validateStyleProperty(i){return h5(i)}matchesElement(i,r){return!1}containsElement(i,r){return qk(i,r)}getParentElement(i){return Lv(i)}query(i,r,o){return Gk(i,r,o)}computeStyle(i,r,o){return o||""}animate(i,r,o,s,a,c=[],l){return new Nr(o,s)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})(),$l=(()=>{let e=class e{};e.NOOP=new Vv;let t=e;return t})(),qo=class{};var m5=1e3,Wk="{{",p5="}}",Kk="ng-enter",vv="ng-leave",zf="ng-trigger",Wf=".ng-trigger",Pk="ng-animating",wv=".ng-animating";function Wi(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:xv(parseFloat(e[1]),e[2])}function xv(t,e){switch(e){case"s":return t*m5;default:return t}}function Kf(t,e,n){return t.hasOwnProperty("duration")?t:g5(t,e,n)}function g5(t,e,n){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,s="";if(typeof t=="string"){let a=t.match(i);if(a===null)return e.push(kk(t)),{duration:0,delay:0,easing:""};r=xv(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=xv(parseFloat(c),a[4]));let l=a[5];l&&(s=l)}else r=t;if(!n){let a=!1,c=e.length;r<0&&(e.push(PH()),a=!0),o<0&&(e.push(NH()),a=!0),a&&e.splice(c,0,kk(t))}return{duration:r,delay:o,easing:s}}function Hl(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Qk(t){let e=new Map;return Object.keys(t).forEach(n=>{let i=t[n];e.set(n,i)}),e}function b5(t){return t.length?t[0]instanceof Map?t:t.map(e=>Qk(e)):[]}function Ca(t,e=new Map,n){if(n)for(let[i,r]of n)e.set(i,r);for(let[i,r]of t)e.set(i,r);return e}function xi(t,e,n){e.forEach((i,r)=>{let o=jv(r);n&&!n.has(r)&&n.set(r,t.style[o]),t.style[o]=i})}function Ho(t,e){e.forEach((n,i)=>{let r=jv(i);t.style[r]=""})}function Ll(t){return Array.isArray(t)?t.length==1?t[0]:Ak(t):t}function _5(t,e,n){let i=e.params||{},r=Yk(t);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||n.push(FH(o))})}var Ev=new RegExp(`${Wk}\\s*(.+?)\\s*${p5}`,"g");function Yk(t){let e=[];if(typeof t=="string"){let n;for(;n=Ev.exec(t);)e.push(n[1]);Ev.lastIndex=0}return e}function jl(t,e,n){let i=t.toString(),r=i.replace(Ev,(o,s)=>{let a=e[s];return a==null&&(n.push(OH(s)),a=""),a.toString()});return r==i?t:r}function Qf(t){let e=[],n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}var y5=/-+([a-z0-9])/g;function jv(t){return t.replace(y5,(...e)=>e[1].toUpperCase())}function v5(t,e){return t===0||e===0}function w5(t,e,n){if(n.size&&e.length){let i=e[0],r=[];if(n.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,Zk(t,a)))}}return e}function yn(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw LH(e.type)}}function Zk(t,e){return window.getComputedStyle(t)[e]}var x5=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Yf=class extends qo{normalizePropertyName(e,n){return jv(e)}normalizeStyleValue(e,n,i,r){let o="",s=i.toString().trim();if(x5.has(n)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(VH(e,i))}return s+o}};var Zf="*";function E5(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(i=>I5(i,n,e)):n.push(t),n}function I5(t,e,n){if(t[0]==":"){let c=D5(t,n);if(typeof c=="function"){e.push(c);return}t=c}let i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return n.push(YH(t)),e;let r=i[1],o=i[2],s=i[3];e.push(Nk(r,s));let a=r==Zf&&s==Zf;o[0]=="<"&&!a&&e.push(Nk(s,r))}function D5(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,i)=>parseFloat(i)>parseFloat(n);case":decrement":return(n,i)=>parseFloat(i)<parseFloat(n);default:return e.push(ZH(t)),"* => *"}}var $f=new Set(["true","1"]),Hf=new Set(["false","0"]);function Nk(t,e){let n=$f.has(t)||Hf.has(t),i=$f.has(e)||Hf.has(e);return(r,o)=>{let s=t==Zf||t==r,a=e==Zf||e==o;return!s&&n&&typeof r=="boolean"&&(s=r?$f.has(t):Hf.has(t)),!a&&i&&typeof o=="boolean"&&(a=o?$f.has(e):Hf.has(e)),s&&a}}var Xk=":self",C5=new RegExp(`s*${Xk}s*,?`,"g");function Jk(t,e,n,i){return new Iv(t).build(e,n,i)}var Fk="",Iv=class{constructor(e){this._driver=e}build(e,n,i){let r=new Dv(n);return this._resetContextStyleTimingState(r),yn(this,Ll(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=Fk,e.collectedStyles=new Map,e.collectedStyles.set(Fk,new Map),e.currentTime=0}visitTrigger(e,n){let i=n.queryCount=0,r=n.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&n.errors.push(jH()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==0){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,n))}),c.name=l}else if(a.type==1){let c=this.visitTransition(a,n);i+=c.queryCount,r+=c.depCount,s.push(c)}else n.errors.push(BH())}),{type:7,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,n){let i=this.visitStyle(e.styles,n),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let o=new Set,s=r||{};if(i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{Yk(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size){let a=Qf(o.values());n.errors.push(UH(e.name,a))}}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let i=yn(this,Ll(e.animation),n);return{type:1,matchers:E5(e.expr,n.errors),animation:i,queryCount:n.queryCount,depCount:n.depCount,options:$o(e.options)}}visitSequence(e,n){return{type:2,steps:e.steps.map(i=>yn(this,i,n)),options:$o(e.options)}}visitGroup(e,n){let i=n.currentTime,r=0,o=e.steps.map(s=>{n.currentTime=i;let a=yn(this,s,n);return r=Math.max(r,n.currentTime),a});return n.currentTime=r,{type:3,steps:o,options:$o(e.options)}}visitAnimate(e,n){let i=k5(e.timings,n.errors);n.currentAnimateTimings=i;let r,o=e.styles?e.styles:Gi({});if(o.type==5)r=this.visitKeyframes(o,n);else{let s=e.styles,a=!1;if(!s){a=!0;let l={};i.easing&&(l.easing=i.easing),s=Gi(l)}n.currentTime+=i.duration+i.delay;let c=this.visitStyle(s,n);c.isEmptyStep=a,r=c}return n.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,n){let i=this._makeStyleAst(e,n);return this._validateStyleAst(i,n),i}_makeStyleAst(e,n){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===wi?i.push(a):n.errors.push(zH(a)):i.push(Qk(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(Wk)>=0){o=!0;break}}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,n){let i=n.currentAnimateTimings,r=n.currentTime,o=n.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let l=n.collectedStyles.get(n.currentQuerySelector),u=l.get(c),d=!0;u&&(o!=r&&o>=u.startTime&&r<=u.endTime&&(n.errors.push($H(c,u.startTime,u.endTime,o,r)),d=!1),o=u.startTime),d&&l.set(c,{startTime:o,endTime:r}),n.options&&_5(a,n.options,n.errors)})})}visitKeyframes(e,n){let i={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(HH()),i;let r=1,o=0,s=[],a=!1,c=!1,l=0,u=e.steps.map(y=>{let A=this._makeStyleAst(y,n),C=A.offset!=null?A.offset:A5(A.styles),R=0;return C!=null&&(o++,R=A.offset=C),c=c||R<0||R>1,a=a||R<l,l=R,s.push(R),A});c&&n.errors.push(qH()),a&&n.errors.push(GH());let d=e.steps.length,h=0;o>0&&o<d?n.errors.push(WH()):o==0&&(h=r/(d-1));let f=d-1,m=n.currentTime,p=n.currentAnimateTimings,g=p.duration;return u.forEach((y,A)=>{let C=h>0?A==f?1:h*A:s[A],R=C*g;n.currentTime=m+p.delay+R,p.duration=R,this._validateStyleAst(y,n),y.offset=C,i.styles.push(y)}),i}visitReference(e,n){return{type:8,animation:yn(this,Ll(e.animation),n),options:$o(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:9,options:$o(e.options)}}visitAnimateRef(e,n){return{type:10,animation:this.visitReference(e.animation,n),options:$o(e.options)}}visitQuery(e,n){let i=n.currentQuerySelector,r=e.options||{};n.queryCount++,n.currentQuery=e;let[o,s]=T5(e.selector);n.currentQuerySelector=i.length?i+" "+o:o,vn(n.collectedStyles,n.currentQuerySelector,new Map);let a=yn(this,Ll(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:$o(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(KH());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Kf(e.timings,n.errors,!0);return{type:12,animation:yn(this,Ll(e.animation),n),timings:i,options:null}}};function T5(t){let e=!!t.split(/\s*,\s*/).find(n=>n==Xk);return e&&(t=t.replace(C5,"")),t=t.replace(/@\*/g,Wf).replace(/@\w+/g,n=>Wf+"-"+n.slice(1)).replace(/:animating/g,wv),[t,e]}function S5(t){return t?Hl(t):null}var Dv=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function A5(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let i=n;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function k5(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=Kf(t,e).duration;return pv(o,0,"")}let n=t;if(n.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=pv(0,0,"");return o.dynamic=!0,o.strValue=n,o}let r=Kf(n,e);return pv(r.duration,r.delay,r.easing)}function $o(t){return t?(t=Hl(t),t.params&&(t.params=S5(t.params))):t={},t}function pv(t,e,n){return{duration:t,delay:e,easing:n}}function Bv(t,e,n,i,r,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}var Bl=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},M5=1,R5=":enter",P5=new RegExp(R5,"g"),N5=":leave",F5=new RegExp(N5,"g");function eM(t,e,n,i,r,o=new Map,s=new Map,a,c,l=[]){return new Cv().buildKeyframes(t,e,n,i,r,o,s,a,c,l)}var Cv=class{buildKeyframes(e,n,i,r,o,s,a,c,l,u=[]){l=l||new Bl;let d=new Tv(e,n,l,r,o,u,[]);d.options=c;let h=c.delay?Wi(c.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,c),yn(this,i,d);let f=d.timelines.filter(m=>m.containsAnimation());if(f.length&&a.size){let m;for(let p=f.length-1;p>=0;p--){let g=f[p];if(g.element===n){m=g;break}}m&&!m.allowOnlyTimelineStyles()&&m.setStyles([a],null,d.errors,c)}return f.length?f.map(m=>m.buildKeyframes()):[Bv(n,[],[],[],0,h,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let i=n.subInstructions.get(n.element);if(i){let r=n.createSubContext(e.options),o=n.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&n.transformIntoNewTimeline(s)}n.previousNode=e}visitAnimateRef(e,n){let i=n.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,i),this.visitReference(e.animation,i),n.transformIntoNewTimeline(i.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,i){for(let r of e){let o=r?.delay;if(o){let s=typeof o=="number"?o:Wi(jl(o,r?.params??{},n.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,n,i){let o=n.currentTimeline.currentTime,s=i.duration!=null?Wi(i.duration):null,a=i.delay!=null?Wi(i.delay):null;return s!==0&&e.forEach(c=>{let l=n.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,n){n.updateOptions(e.options,!0),yn(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let i=n.subContextCount,r=n,o=e.options;if(o&&(o.params||o.delay)&&(r=n.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==6&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Xf);let s=Wi(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>yn(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let i=[],r=n.currentTimeline.currentTime,o=e.options&&e.options.delay?Wi(e.options.delay):0;e.steps.forEach(s=>{let a=n.createSubContext(e.options);o&&a.delayNextStep(o),yn(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>n.currentTimeline.mergeTimelineCollectedStyles(s)),n.transformIntoNewTimeline(r),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let i=e.strValue,r=n.params?jl(i,n.params,n.errors):i;return Kf(r,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let i=n.currentAnimateTimings=this._visitTiming(e.timings,n),r=n.currentTimeline;i.delay&&(n.incrementTime(i.delay),r.snapshotCurrentStyles());let o=e.style;o.type==5?this.visitKeyframes(o,n):(n.incrementTime(i.duration),this.visitStyle(o,n),r.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let i=n.currentTimeline,r=n.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let i=n.currentAnimateTimings,r=n.currentTimeline.duration,o=i.duration,a=n.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*o),a.setStyles(c.styles,c.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(r+o),n.previousNode=e}visitQuery(e,n){let i=n.currentTimeline.currentTime,r=e.options||{},o=r.delay?Wi(r.delay):0;o&&(n.previousNode.type===6||i==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Xf);let s=i,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,n.errors);n.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{n.currentQueryIndex=u;let d=n.createSubContext(e.options,l);o&&d.delayNextStep(o),l===n.element&&(c=d.currentTimeline),yn(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let h=d.currentTimeline.currentTime;s=Math.max(s,h)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(s),c&&(n.currentTimeline.mergeTimelineCollectedStyles(c),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let i=n.parentContext,r=n.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(n.currentQueryTotal-1),c=s*n.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime;break}let u=n.currentTimeline;c&&u.delayNextStep(c);let d=u.currentTime;yn(this,e.animation,n),n.previousNode=e,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}},Xf={},Tv=class t{constructor(e,n,i,r,o,s,a,c){this._driver=e,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Xf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new Jf(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=Wi(i.duration)),i.delay!=null&&(r.delay=Wi(i.delay));let o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!n||!s.hasOwnProperty(a))&&(s[a]=jl(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let i=e.params={};Object.keys(n).forEach(r=>{i[r]=n[r]})}}return e}createSubContext(e=null,n,i){let r=n||this.element,o=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Xf,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,i){let r={duration:n??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new Sv(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(P5,"."+this._enterClassName),e=e.replace(F5,"."+this._leaveClassName);let c=i!=1,l=this._driver.query(this.element,e,c);i!==0&&(l=i<0?l.slice(l.length+i,l.length):l.slice(0,i)),a.push(...l)}return!o&&a.length==0&&s.push(QH(n)),a}},Jf=class t{constructor(e,n,i,r){this._driver=e,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=M5,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,i]of this._globalTimelineStyles)this._backFill.set(n,i||wi),this._currentKeyframe.set(n,wi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,i,r){n&&this._previousKeyframe.set("easing",n);let o=r&&r.params||{},s=O5(e,this._globalTimelineStyles);for(let[a,c]of s){let l=jl(c,o,i);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??wi),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,i)=>{let r=this._styleSummary.get(i);(!r||n.time>r.time)&&this._updateStyle(i,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,c)=>{let l=Ca(a,new Map,this._backFill);l.forEach((u,d)=>{u===Uf?e.add(d):u===wi&&n.add(d)}),i||l.set("offset",c/this.duration),r.push(l)});let o=e.size?Qf(e.values()):[],s=n.size?Qf(n.values()):[];if(i){let a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return Bv(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}},Sv=class extends Jf{constructor(e,n,i,r,o,s,a=!1){super(e,n,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&n){let o=[],s=i+n,a=n/s,c=Ca(e[0]);c.set("offset",0),o.push(c);let l=Ca(e[0]);l.set("offset",Ok(a)),o.push(l);let u=e.length-1;for(let d=1;d<=u;d++){let h=Ca(e[d]),f=h.get("offset"),m=n+f*i;h.set("offset",Ok(m/s)),o.push(h)}i=s,n=0,r="",e=o}return Bv(this.element,e,this.preStyleProps,this.postStyleProps,i,n,r,!0)}};function Ok(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function O5(t,e){let n=new Map,i;return t.forEach(r=>{if(r==="*"){i=i||e.keys();for(let o of i)n.set(o,wi)}else Ca(r,n)}),n}function Lk(t,e,n,i,r,o,s,a,c,l,u,d,h){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:h}}var gv={},em=class{constructor(e,n,i){this._triggerName=e,this.ast=n,this._stateStyles=i}match(e,n,i,r){return L5(this.ast.matchers,e,n,i,r)}buildStyles(e,n,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(n,i):new Map}build(e,n,i,r,o,s,a,c,l,u){let d=[],h=this.ast.options&&this.ast.options.params||gv,f=a&&a.params||gv,m=this.buildStyles(i,f,d),p=c&&c.params||gv,g=this.buildStyles(r,p,d),y=new Set,A=new Map,C=new Map,R=r==="void",B={params:V5(p,h),delay:this.ast.options?.delay},H=u?[]:eM(e,n,this.ast.animation,o,s,m,g,B,l,d),oe=0;if(H.forEach(un=>{oe=Math.max(un.duration+un.delay,oe)}),d.length)return Lk(n,this._triggerName,i,r,R,m,g,[],[],A,C,oe,d);H.forEach(un=>{let In=un.element,dI=vn(A,In,new Set);un.preStyleProps.forEach(ao=>dI.add(ao));let Dc=vn(C,In,new Set);un.postStyleProps.forEach(ao=>Dc.add(ao)),In!==n&&y.add(In)});let Ye=Qf(y.values());return Lk(n,this._triggerName,i,r,R,m,g,H,Ye,A,C,oe)}};function L5(t,e,n,i,r){return t.some(o=>o(e,n,i,r))}function V5(t,e){let n=Hl(e);for(let i in t)t.hasOwnProperty(i)&&t[i]!=null&&(n[i]=t[i]);return n}var Av=class{constructor(e,n,i){this.styles=e,this.defaultParams=n,this.normalizer=i}buildStyles(e,n){let i=new Map,r=Hl(this.defaultParams);return Object.keys(e).forEach(o=>{let s=e[o];s!==null&&(r[o]=s)}),this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=jl(s,r,n));let c=this.normalizer.normalizePropertyName(a,n);s=this.normalizer.normalizeStyleValue(a,c,s,n),i.set(a,s)})}),i}};function j5(t,e,n){return new kv(t,e,n)}var kv=class{constructor(e,n,i){this.name=e,this.ast=n,this._normalizer=i,this.transitionFactories=[],this.states=new Map,n.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new Av(r.style,o,i))}),Vk(this.states,"true","1"),Vk(this.states,"false","0"),n.transitions.forEach(r=>{this.transitionFactories.push(new em(e,r,this.states))}),this.fallbackTransition=B5(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,i,r){return this.transitionFactories.find(s=>s.match(e,n,i,r))||null}matchStyles(e,n,i){return this.fallbackTransition.buildStyles(e,n,i)}};function B5(t,e,n){let o={type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0};return new em(t,o,e)}function Vk(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var U5=new Bl,Mv=class{constructor(e,n,i){this.bodyNode=e,this._driver=n,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let i=[],r=[],o=Jk(this._driver,n,i,r);if(i.length)throw e5(i);r.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,n,i){let r=e.element,o=Hk(this._normalizer,e.keyframes,n,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,n,i={}){let r=[],o=this._animations.get(e),s,a=new Map;if(o?(s=eM(this._driver,n,o,Kk,vv,new Map,new Map,i,U5,r),s.forEach(u=>{let d=vn(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(t5()),s=[]),r.length)throw n5(r);a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,wi))})});let c=s.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),l=Fr(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let i=this.players.indexOf(n);i>=0&&this.players.splice(i,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw i5(e);return n}listen(e,n,i,r){let o=Ov(n,"","","");return Fv(this._getPlayer(e),i,o,r),()=>{}}command(e,n,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let s=r[0]||{};this.create(e,n,s);return}let o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},jk="ng-animate-queued",z5=".ng-animate-queued",bv="ng-animate-disabled",$5=".ng-animate-disabled",H5="ng-star-inserted",q5=".ng-star-inserted",G5=[],tM={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},W5={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Yn="__ng_removed",Ul=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=Q5(r),i){let o=Hl(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let i=this.options.params;Object.keys(n).forEach(r=>{i[r]==null&&(i[r]=n[r])})}}},Vl="void",_v=new Ul(Vl),Rv=class{constructor(e,n,i){this.id=e,this.hostElement=n,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Pn(n,this._hostClassName)}listen(e,n,i,r){if(!this._triggers.has(n))throw r5(i,n);if(i==null||i.length==0)throw o5(n);if(!Y5(i))throw s5(i,n);let o=vn(this._elementListeners,e,[]),s={name:n,phase:i,callback:r};o.push(s);let a=vn(this._engine.statesByElement,e,new Map);return a.has(n)||(Pn(e,zf),Pn(e,zf+"-"+n),a.set(n,_v)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw a5(e);return n}trigger(e,n,i,r=!0){let o=this._getTrigger(n),s=new zl(this.id,n,e),a=this._engine.statesByElement.get(e);a||(Pn(e,zf),Pn(e,zf+"-"+n),this._engine.statesByElement.set(e,a=new Map));let c=a.get(n),l=new Ul(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(n,l),c||(c=_v),!(l.value===Vl)&&c.value===l.value){if(!J5(c.params,l.params)){let p=[],g=o.matchStyles(c.value,c.params,p),y=o.matchStyles(l.value,l.params,p);p.length?this._engine.reportError(p):this._engine.afterFlush(()=>{Ho(e,g),xi(e,y)})}return}let h=vn(this._engine.playersByElement,e,[]);h.forEach(p=>{p.namespaceId==this.id&&p.triggerName==n&&p.queued&&p.destroy()});let f=o.matchTransition(c.value,l.value,e,l.params),m=!1;if(!f){if(!r)return;f=o.fallbackTransition,m=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:f,fromState:c,toState:l,player:s,isFallbackTransition:m}),m||(Pn(e,jk),s.onStart(()=>{Da(e,jk)})),s.onDone(()=>{let p=this.players.indexOf(s);p>=0&&this.players.splice(p,1);let g=this._engine.playersByElement.get(e);if(g){let y=g.indexOf(s);y>=0&&g.splice(y,1)}}),this.players.push(s),h.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,i)=>{this._elementListeners.set(i,n.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let i=this._engine.driver.query(e,Wf,!0);i.forEach(r=>{if(r[Yn])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,n,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,n,i,r){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){let u=this.trigger(e,l,Vl,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,s),i&&Fr(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(n&&i){let r=new Set;n.forEach(o=>{let s=o.name;if(r.has(s))return;r.add(s);let c=this._triggers.get(s).fallbackTransition,l=i.get(s)||_v,u=new Ul(Vl),d=new zl(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,n){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let r=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,n);else{let o=e[Yn];(!o||o===tM)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,n))}}insertNode(e,n){Pn(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){let c=Ov(o,i.triggerName,i.fromState.value,i.toState.value);c._data=e,Fv(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):n.push(i)}),this._queue=[],n.sort((i,r)=>{let o=i.transition.ast.depCount,s=r.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},Pv=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,i){this.bodyNode=e,this.driver=n,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,n){let i=new Rv(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(i,n):(this.newHostElements.set(n,i),this.collectEnterElement(n)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,n){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(n);for(;a;){let c=r.get(a);if(c){let l=i.indexOf(c);i.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(n,e),e}register(e,n){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,n)),i}registerTrigger(e,n,i){let r=this._namespaceLookup[e];r&&r.register(n,i)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&n.add(o)}}return n}trigger(e,n,i,r){if(qf(n)){let o=this._fetchNamespace(e);if(o)return o.trigger(n,i,r),!0}return!1}insertNode(e,n,i,r){if(!qf(n))return;let o=n[Yn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(n);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(n,i)}r&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Pn(e,bv)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Da(e,bv))}removeNode(e,n,i){if(qf(n)){let r=e?this._fetchNamespace(e):null;r?r.removeNode(n,i):this.markElementAsRemoved(e,n,!1,i);let o=this.namespacesByHostElement.get(n);o&&o.id!==e&&o.removeNode(n,i)}else this._onRemovalComplete(n,i)}markElementAsRemoved(e,n,i,r,o){this.collectedLeaveElements.push(n),n[Yn]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,n,i,r,o){return qf(n)?this._fetchNamespace(e).listen(n,i,r,o):()=>{}}_buildInstruction(e,n,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,n,o)}destroyInnerAnimations(e){let n=this.driver.query(e,Wf,!0);n.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,wv,!0),n.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Fr(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[Yn];if(n&&n.setForRemoval){if(e[Yn]=tM,n.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(bv)&&this.markElementAsDisabled(e,!1),this.driver.query(e,$5,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];Pn(r,H5)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{n=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],n.length?Fr(n).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw c5(e)}_flushAnimations(e,n){let i=new Bl,r=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(V=>{u.add(V);let q=this.driver.query(V,z5,!0);for(let K=0;K<q.length;K++)u.add(q[K])});let d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=zk(h,this.collectedEnterElements),m=new Map,p=0;f.forEach((V,q)=>{let K=Kk+p++;m.set(q,K),V.forEach(ve=>Pn(ve,K))});let g=[],y=new Set,A=new Set;for(let V=0;V<this.collectedLeaveElements.length;V++){let q=this.collectedLeaveElements[V],K=q[Yn];K&&K.setForRemoval&&(g.push(q),y.add(q),K.hasAnimation?this.driver.query(q,q5,!0).forEach(ve=>y.add(ve)):A.add(q))}let C=new Map,R=zk(h,Array.from(y));R.forEach((V,q)=>{let K=vv+p++;C.set(q,K),V.forEach(ve=>Pn(ve,K))}),e.push(()=>{f.forEach((V,q)=>{let K=m.get(q);V.forEach(ve=>Da(ve,K))}),R.forEach((V,q)=>{let K=C.get(q);V.forEach(ve=>Da(ve,K))}),g.forEach(V=>{this.processLeaveNode(V)})});let B=[],H=[];for(let V=this._namespaceList.length-1;V>=0;V--)this._namespaceList[V].drainQueuedTransitions(n).forEach(K=>{let ve=K.player,mt=K.element;if(B.push(ve),this.collectedEnterElements.length){let kt=mt[Yn];if(kt&&kt.setForMove){if(kt.previousTriggersValues&&kt.previousTriggersValues.has(K.triggerName)){let co=kt.previousTriggersValues.get(K.triggerName),Dn=this.statesByElement.get(K.element);if(Dn&&Dn.has(K.triggerName)){let fd=Dn.get(K.triggerName);fd.value=co,Dn.set(K.triggerName,fd)}}ve.destroy();return}}let ri=!d||!this.driver.containsElement(d,mt),dn=C.get(mt),rr=m.get(mt),Ge=this._buildInstruction(K,i,rr,dn,ri);if(Ge.errors&&Ge.errors.length){H.push(Ge);return}if(ri){ve.onStart(()=>Ho(mt,Ge.fromStyles)),ve.onDestroy(()=>xi(mt,Ge.toStyles)),r.push(ve);return}if(K.isFallbackTransition){ve.onStart(()=>Ho(mt,Ge.fromStyles)),ve.onDestroy(()=>xi(mt,Ge.toStyles)),r.push(ve);return}let mI=[];Ge.timelines.forEach(kt=>{kt.stretchStartingKeyframe=!0,this.disabledNodes.has(kt.element)||mI.push(kt)}),Ge.timelines=mI,i.append(mt,Ge.timelines);let wO={instruction:Ge,player:ve,element:mt};s.push(wO),Ge.queriedElements.forEach(kt=>vn(a,kt,[]).push(ve)),Ge.preStyleProps.forEach((kt,co)=>{if(kt.size){let Dn=c.get(co);Dn||c.set(co,Dn=new Set),kt.forEach((fd,hg)=>Dn.add(hg))}}),Ge.postStyleProps.forEach((kt,co)=>{let Dn=l.get(co);Dn||l.set(co,Dn=new Set),kt.forEach((fd,hg)=>Dn.add(hg))})});if(H.length){let V=[];H.forEach(q=>{V.push(l5(q.triggerName,q.errors))}),B.forEach(q=>q.destroy()),this.reportError(V)}let oe=new Map,Ye=new Map;s.forEach(V=>{let q=V.element;i.has(q)&&(Ye.set(q,q),this._beforeAnimationBuild(V.player.namespaceId,V.instruction,oe))}),r.forEach(V=>{let q=V.element;this._getPreviousPlayers(q,!1,V.namespaceId,V.triggerName,null).forEach(ve=>{vn(oe,q,[]).push(ve),ve.destroy()})});let un=g.filter(V=>$k(V,c,l)),In=new Map;Uk(In,this.driver,A,l,wi).forEach(V=>{$k(V,c,l)&&un.push(V)});let Dc=new Map;f.forEach((V,q)=>{Uk(Dc,this.driver,new Set(V),c,Uf)}),un.forEach(V=>{let q=In.get(V),K=Dc.get(V);In.set(V,new Map([...q?.entries()??[],...K?.entries()??[]]))});let ao=[],hI=[],fI={};s.forEach(V=>{let{element:q,player:K,instruction:ve}=V;if(i.has(q)){if(u.has(q)){K.onDestroy(()=>xi(q,ve.toStyles)),K.disabled=!0,K.overrideTotalTime(ve.totalTime),r.push(K);return}let mt=fI;if(Ye.size>1){let dn=q,rr=[];for(;dn=dn.parentNode;){let Ge=Ye.get(dn);if(Ge){mt=Ge;break}rr.push(dn)}rr.forEach(Ge=>Ye.set(Ge,mt))}let ri=this._buildAnimation(K.namespaceId,ve,oe,o,Dc,In);if(K.setRealPlayer(ri),mt===fI)ao.push(K);else{let dn=this.playersByElement.get(mt);dn&&dn.length&&(K.parentPlayer=Fr(dn)),r.push(K)}}else Ho(q,ve.fromStyles),K.onDestroy(()=>xi(q,ve.toStyles)),hI.push(K),u.has(q)&&r.push(K)}),hI.forEach(V=>{let q=o.get(V.element);if(q&&q.length){let K=Fr(q);V.setRealPlayer(K)}}),r.forEach(V=>{V.parentPlayer?V.syncPlayerEvents(V.parentPlayer):V.destroy()});for(let V=0;V<g.length;V++){let q=g[V],K=q[Yn];if(Da(q,vv),K&&K.hasAnimation)continue;let ve=[];if(a.size){let ri=a.get(q);ri&&ri.length&&ve.push(...ri);let dn=this.driver.query(q,wv,!0);for(let rr=0;rr<dn.length;rr++){let Ge=a.get(dn[rr]);Ge&&Ge.length&&ve.push(...Ge)}}let mt=ve.filter(ri=>!ri.destroyed);mt.length?Z5(this,q,mt):this.processLeaveNode(q)}return g.length=0,ao.forEach(V=>{this.players.push(V),V.onDone(()=>{V.destroy();let q=this.players.indexOf(V);this.players.splice(q,1)}),V.play()}),ao}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,i,r,o){let s=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==Vl;a.forEach(l=>{l.queued||!c&&l.triggerName!=r||s.push(l)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,n,i){let r=n.triggerName,o=n.element,s=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:r;for(let c of n.timelines){let l=c.element,u=l!==o,d=vn(i,l,[]);this._getPreviousPlayers(l,u,s,a,n.toState).forEach(f=>{let m=f.getRealPlayer();m.beforeDestroy&&m.beforeDestroy(),f.destroy(),d.push(f)})}Ho(o,n.fromStyles)}_buildAnimation(e,n,i,r,o,s){let a=n.triggerName,c=n.element,l=[],u=new Set,d=new Set,h=n.timelines.map(m=>{let p=m.element;u.add(p);let g=p[Yn];if(g&&g.removedBeforeQueried)return new Nr(m.duration,m.delay);let y=p!==c,A=X5((i.get(p)||G5).map(oe=>oe.getRealPlayer())).filter(oe=>{let Ye=oe;return Ye.element?Ye.element===p:!1}),C=o.get(p),R=s.get(p),B=Hk(this._normalizer,m.keyframes,C,R),H=this._buildPlayer(m,B,A);if(m.subTimeline&&r&&d.add(p),y){let oe=new zl(e,a,p);oe.setRealPlayer(H),l.push(oe)}return H});l.forEach(m=>{vn(this.playersByQueriedElement,m.element,[]).push(m),m.onDone(()=>K5(this.playersByQueriedElement,m.element,m))}),u.forEach(m=>Pn(m,Pk));let f=Fr(h);return f.onDestroy(()=>{u.forEach(m=>Da(m,Pk)),xi(c,n.toStyles)}),d.forEach(m=>{vn(r,m,[]).push(f)}),f}_buildPlayer(e,n,i){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,i):new Nr(e.duration,e.delay)}},zl=class{constructor(e,n,i){this.namespaceId=e,this.triggerName=n,this.element=i,this._player=new Nr,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,i)=>{n.forEach(r=>Fv(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){vn(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function K5(t,e,n){let i=t.get(e);if(i){if(i.length){let r=i.indexOf(n);i.splice(r,1)}i.length==0&&t.delete(e)}return i}function Q5(t){return t??null}function qf(t){return t&&t.nodeType===1}function Y5(t){return t=="start"||t=="done"}function Bk(t,e){let n=t.style.display;return t.style.display=e??"none",n}function Uk(t,e,n,i,r){let o=[];n.forEach(c=>o.push(Bk(c)));let s=[];i.forEach((c,l)=>{let u=new Map;c.forEach(d=>{let h=e.computeStyle(l,d,r);u.set(d,h),(!h||h.length==0)&&(l[Yn]=W5,s.push(l))}),t.set(l,u)});let a=0;return n.forEach(c=>Bk(c,o[a++])),s}function zk(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let i=1,r=new Set(e),o=new Map;function s(a){if(!a)return i;let c=o.get(a);if(c)return c;let l=a.parentNode;return n.has(l)?c=l:r.has(l)?c=i:c=s(l),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==i&&n.get(c).push(a)}),n}function Pn(t,e){t.classList?.add(e)}function Da(t,e){t.classList?.remove(e)}function Z5(t,e,n){Fr(n).onDone(()=>t.processLeaveNode(e))}function X5(t){let e=[];return nM(t,e),e}function nM(t,e){for(let n=0;n<t.length;n++){let i=t[n];i instanceof Ol?nM(i.players,e):e.push(i)}}function J5(t,e){let n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){let o=n[r];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}function $k(t,e,n){let i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(o=>r.add(o)):e.set(t,i),n.delete(t),!0}var Ta=class{constructor(e,n,i){this._driver=n,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new Pv(e.body,n,i),this._timelineEngine=new Mv(e.body,n,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,n,i,r,o){let s=e+"-"+r,a=this._triggerCache[s];if(!a){let c=[],l=[],u=Jk(this._driver,o,c,l);if(c.length)throw XH(r,c);l.length&&void 0,a=j5(r,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(n,r,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,i,r){this._transitionEngine.insertNode(e,n,i,r)}onRemove(e,n,i){this._transitionEngine.removeNode(e,n,i)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,i,r){if(i.charAt(0)=="@"){let[o,s]=Mk(i),a=r;this._timelineEngine.command(o,n,s,a)}else this._transitionEngine.trigger(e,n,i,r)}listen(e,n,i,r,o){if(i.charAt(0)=="@"){let[s,a]=Mk(i);return this._timelineEngine.listen(s,n,a,o)}return this._transitionEngine.listen(e,n,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function e3(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=yv(e[0]),e.length>1&&(i=yv(e[e.length-1]))):e instanceof Map&&(n=yv(e)),n||i?new t3(t,n,i):null}var t3=(()=>{let e=class e{constructor(i,r,o){this._element=i,this._startStyles=r,this._endStyles=o,this._state=0;let s=e.initialStylesByElement.get(i);s||e.initialStylesByElement.set(i,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&xi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(xi(this._element,this._initialStyles),this._endStyles&&(xi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Ho(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ho(this._element,this._endStyles),this._endStyles=null),xi(this._element,this._initialStyles),this._state=3)}};e.initialStylesByElement=new WeakMap;let t=e;return t})();function yv(t){let e=null;return t.forEach((n,i)=>{n3(i)&&(e=e||new Map,e.set(i,n))}),e}function n3(t){return t==="display"||t==="position"}var tm=class{constructor(e,n,i,r){this.element=e,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(i=>{n.push(Object.fromEntries(i))}),n}_triggerWebAnimation(e,n,i){return e.animate(this._convertKeyframesToObject(n),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:Zk(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},nm=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return qk(e,n)}getParentElement(e){return Lv(e)}query(e,n,i){return Gk(e,n,i)}computeStyle(e,n,i){return window.getComputedStyle(e)[n]}animate(e,n,i,r,o,s=[]){let a=r==0?"both":"forwards",c={duration:i,delay:r,fill:a};o&&(c.easing=o);let l=new Map,u=s.filter(f=>f instanceof tm);v5(i,r)&&u.forEach(f=>{f.currentSnapshot.forEach((m,p)=>l.set(p,m))});let d=b5(n).map(f=>Ca(f));d=w5(e,d,l);let h=e3(e,d);return new tm(e,d,c,h)}};var Gf="@",iM="@.disabled",im=class{constructor(e,n,i,r){this.namespaceId=e,this.delegate=n,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,i,r=!0){this.delegate.insertBefore(e,n,i),this.engine.onInsert(this.namespaceId,n,e,r)}removeChild(e,n,i){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,i,r){this.delegate.setAttribute(e,n,i,r)}removeAttribute(e,n,i){this.delegate.removeAttribute(e,n,i)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,i,r){this.delegate.setStyle(e,n,i,r)}removeStyle(e,n,i){this.delegate.removeStyle(e,n,i)}setProperty(e,n,i){n.charAt(0)==Gf&&n==iM?this.disableAnimations(e,!!i):this.delegate.setProperty(e,n,i)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,i){return this.delegate.listen(e,n,i)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},Nv=class extends im{constructor(e,n,i,r,o){super(n,i,r,o),this.factory=e,this.namespaceId=n}setProperty(e,n,i){n.charAt(0)==Gf?n.charAt(1)=="."&&n==iM?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,n.slice(1),i):this.delegate.setProperty(e,n,i)}listen(e,n,i){if(n.charAt(0)==Gf){let r=i3(e),o=n.slice(1),s="";return o.charAt(0)!=Gf&&([o,s]=r3(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,i,a)})}return this.delegate.listen(e,n,i)}};function i3(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function r3(t){let e=t.indexOf("."),n=t.substring(0,e),i=t.slice(e+1);return[n,i]}var rm=class{constructor(e,n,i){this.delegate=e,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(r,o)=>{let s=o?.parentNode(r);s&&o.removeChild(s,r)}}createRenderer(e,n){let i="",r=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let l=this._rendererCache,u=l.get(r);if(!u){let d=()=>l.delete(r);u=new im(i,r,this.engine,d),l.set(r,u)}return u}let o=n.id,s=n.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return n.data.animation.forEach(a),new Nv(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([n,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var s3=(()=>{let e=class e extends Ta{constructor(i,r,o,s){super(i,r,o)}ngOnDestroy(){this.flush()}};e.\u0275fac=function(r){return new(r||e)(v(ue),v($l),v(qo),v(Qn))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})();function a3(){return new Yf}function c3(t,e,n){return new rm(t,e,n)}var oM=[{provide:qo,useFactory:a3},{provide:Ta,useClass:s3},{provide:Co,useFactory:c3,deps:[hf,Ta,U]}],rM=[{provide:$l,useFactory:()=>new nm},{provide:Pt,useValue:"BrowserAnimations"},...oM],l3=[{provide:$l,useClass:Vv},{provide:Pt,useValue:"NoopAnimations"},...oM],sM=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:i.disableAnimations?l3:rM}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({providers:rM,imports:[mf]});let t=e;return t})();function u3(){return!0}var d3=new T("mat-sanity-checks",{providedIn:"root",factory:u3}),Ct=(()=>{let e=class e{constructor(i,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return gk()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[i]}};e.\u0275fac=function(r){return new(r||e)(v(hv),v(d3,8),v(ue))},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({imports:[fv,fv]});let t=e;return t})();function Gv(t){return class extends t{get disabled(){return this._disabled}set disabled(e){this._disabled=Rn(e)}constructor(...e){super(...e),this._disabled=!1}}}function sm(t,e){return class extends t{get color(){return this._color}set color(n){let i=n||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...n){super(...n),this.defaultColor=e,this.color=e}}}function pM(t){return class extends t{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Rn(e)}constructor(...e){super(...e),this._disableRipple=!1}}}var $v=class{constructor(e,n,i,r=!1){this._renderer=e,this.element=n,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}},aM=Rr({passive:!0,capture:!0}),Hv=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let n=Pr(e);n&&this._events.get(e.type)?.forEach((i,r)=>{(r===n||r.contains(n))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,n,i,r){let o=this._events.get(n);if(o){let s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(n,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,aM)})}removeHandler(e,n,i){let r=this._events.get(e);if(!r)return;let o=r.get(n);o&&(o.delete(i),o.size===0&&r.delete(n),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,aM)))}},cM={enterDuration:225,exitDuration:150},h3=800,lM=Rr({passive:!0,capture:!0}),uM=["mousedown","touchstart"],dM=["mouseup","mouseleave","touchend","touchcancel"],ql=class ql{constructor(e,n,i,r){this._target=e,this._ngZone=n,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=qi(i))}fadeInRipple(e,n,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=M(M({},cM),i.animation);i.centered&&(e=r.left+r.width/2,n=r.top+r.height/2);let s=i.radius||f3(e,n,r),a=e-r.left,c=n-r.top,l=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${a-s}px`,u.style.top=`${c-s}px`,u.style.height=`${s*2}px`,u.style.width=`${s*2}px`,i.color!=null&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u);let d=window.getComputedStyle(u),h=d.transitionProperty,f=d.transitionDuration,m=h==="none"||f==="0s"||f==="0s, 0s"||r.width===0&&r.height===0,p=new $v(this,u,i,m);u.style.transform="scale3d(1, 1, 1)",p.state=0,i.persistent||(this._mostRecentTransientRipple=p);let g=null;return!m&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let y=()=>this._finishRippleTransition(p),A=()=>this._destroyRipple(p);u.addEventListener("transitionend",y),u.addEventListener("transitioncancel",A),g={onTransitionEnd:y,onTransitionCancel:A}}),this._activeRipples.set(p,g),(m||!l)&&this._finishRippleTransition(p),p}fadeOutRipple(e){if(e.state===2||e.state===3)return;let n=e.element,i=M(M({},cM),e.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let n=qi(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,uM.forEach(i=>{ql._eventManager.addHandler(this._ngZone,i,n,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{dM.forEach(n=>{this._triggerElement.addEventListener(n,this,lM)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===0?this._startFadeOutTransition(e):e.state===2&&this._destroyRipple(e)}_startFadeOutTransition(e){let n=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,n!==null&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel)),e.element.remove()}_onMousedown(e){let n=uv(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+h3;!this._target.rippleDisabled&&!n&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!dv(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=e.changedTouches;if(n)for(let i=0;i<n.length;i++)this.fadeInRipple(n[i].clientX,n[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let n=e.state===1||e.config.terminateOnPointerUp&&e.state===0;!e.config.persistent&&n&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(uM.forEach(n=>ql._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&dM.forEach(n=>e.removeEventListener(n,this,lM)))}};ql._eventManager=new Hv;var qv=ql;function f3(t,e,n){let i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}var Wv=new T("mat-ripple-global-options"),Or=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}constructor(i,r,o,s,a){this._elementRef=i,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new qv(this,r,i,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:M(M(M({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,r=0,o){return typeof i=="number"?this._rippleRenderer.fadeInRipple(i,r,M(M({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,M(M({},this.rippleConfig),i))}};e.\u0275fac=function(r){return new(r||e)(D(he),D(U),D(ht),D(Wv,8),D(Pt,8))},e.\u0275dir=be({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,o){r&2&&Le("mat-ripple-unbounded",o.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]});let t=e;return t})(),Sa=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({imports:[Ct,Ct]});let t=e;return t})();var hM={capture:!0},fM=["focus","click","mouseenter","touchstart"],Uv="mat-ripple-loader-uninitialized",zv="mat-ripple-loader-class-name",mM="mat-ripple-loader-centered",om="mat-ripple-loader-disabled",gM=(()=>{let e=class e{constructor(){this._document=I(ue,{optional:!0}),this._animationMode=I(Pt,{optional:!0}),this._globalRippleOptions=I(Wv,{optional:!0}),this._platform=I(ht),this._ngZone=I(U),this._hosts=new Map,this._onInteraction=i=>{if(!(i.target instanceof HTMLElement))return;let o=i.target.closest(`[${Uv}]`);o&&this._createRipple(o)},this._ngZone.runOutsideAngular(()=>{for(let i of fM)this._document?.addEventListener(i,this._onInteraction,hM)})}ngOnDestroy(){let i=this._hosts.keys();for(let r of i)this.destroyRipple(r);for(let r of fM)this._document?.removeEventListener(r,this._onInteraction,hM)}configureRipple(i,r){i.setAttribute(Uv,""),(r.className||!i.hasAttribute(zv))&&i.setAttribute(zv,r.className||""),r.centered&&i.setAttribute(mM,""),r.disabled&&i.setAttribute(om,"")}getRipple(i){return this._hosts.get(i)||this._createRipple(i)}setDisabled(i,r){let o=this._hosts.get(i);if(o){o.disabled=r;return}r?i.setAttribute(om,""):i.removeAttribute(om)}_createRipple(i){if(!this._document)return;let r=this._hosts.get(i);if(r)return r;i.querySelector(".mat-ripple")?.remove();let o=this._document.createElement("span");o.classList.add("mat-ripple",i.getAttribute(zv)),i.append(o);let s=new Or(new he(o),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=i,s.centered=i.hasAttribute(mM),s.disabled=i.hasAttribute(om),this.attachRipple(i,s),s}attachRipple(i,r){i.removeAttribute(Uv),this._hosts.set(i,r)}destroyRipple(i){let r=this._hosts.get(i);r&&(r.ngOnDestroy(),this._hosts.delete(i))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var m3=["*",[["mat-toolbar-row"]]],p3=["*","mat-toolbar-row"],g3=sm(class{constructor(t){this._elementRef=t}}),b3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=be({type:e,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]});let t=e;return t})(),_M=(()=>{let e=class e extends g3{constructor(i,r,o){super(i),this._platform=r,this._document=o}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}};e.\u0275fac=function(r){return new(r||e)(D(he),D(ht),D(ue))},e.\u0275cmp=Xe({type:e,selectors:[["mat-toolbar"]],contentQueries:function(r,o,s){if(r&1&&zi(s,b3,5),r&2){let a;$e(a=He())&&(o._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(r,o){r&2&&Le("mat-toolbar-multiple-rows",o._toolbarRows.length>0)("mat-toolbar-single-row",o._toolbarRows.length===0)},inputs:{color:"color"},exportAs:["matToolbar"],features:[Ke],ngContentSelectors:p3,decls:2,vars:0,template:function(r,o){r&1&&(kn(m3),Kt(0),Kt(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0});let t=e;return t})();var yM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({imports:[Ct,Ct]});let t=e;return t})();var TM=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(D(Mo),D(he))},e.\u0275dir=be({type:e});let t=e;return t})(),SM=(()=>{let e=class e extends TM{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Er(e)))(o||e)}})(),e.\u0275dir=be({type:e,features:[Ke]});let t=e;return t})(),Ql=new T("NgValueAccessor");var y3={provide:Ql,useExisting:pi(()=>Lr),multi:!0};function v3(){let t=_i()?_i().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var w3=new T("CompositionEventMode"),Lr=(()=>{let e=class e extends TM{constructor(i,r,o){super(i,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!v3())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(D(Mo),D(he),D(w3,8))},e.\u0275dir=be({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&xe("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Ft([y3]),Ke]});let t=e;return t})();var AM=new T("NgValidators"),x3=new T("NgAsyncValidators");function kM(t){return t!=null}function MM(t){return Ro(t)?pe(t):t}function RM(t){let e={};return t.forEach(n=>{e=n!=null?M(M({},e),n):e}),Object.keys(e).length===0?null:e}function PM(t,e){return e.map(n=>n(t))}function E3(t){return!t.validate}function NM(t){return t.map(e=>E3(e)?e:n=>e.validate(n))}function I3(t){if(!t)return null;let e=t.filter(kM);return e.length==0?null:function(n){return RM(PM(n,e))}}function FM(t){return t!=null?I3(NM(t)):null}function D3(t){if(!t)return null;let e=t.filter(kM);return e.length==0?null:function(n){let i=PM(n,e).map(MM);return Mg(i).pipe(j(RM))}}function OM(t){return t!=null?D3(NM(t)):null}function vM(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function C3(t){return t._rawValidators}function T3(t){return t._rawAsyncValidators}function Kv(t){return t?Array.isArray(t)?t:[t]:[]}function cm(t,e){return Array.isArray(t)?t.includes(e):t===e}function wM(t,e){let n=Kv(e);return Kv(t).forEach(r=>{cm(n,r)||n.push(r)}),n}function xM(t,e){return Kv(e).filter(n=>!cm(t,n))}var lm=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=FM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=OM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Qv=class extends lm{get formDirective(){return null}get path(){return null}},Kl=class extends lm{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Yv=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},S3={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Vne=Ee(M({},S3),{"[class.ng-submitted]":"isSubmitted"}),ka=(()=>{let e=class e extends Yv{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(D(Kl,2))},e.\u0275dir=be({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Le("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Ke]});let t=e;return t})();var Gl="VALID",am="INVALID",Aa="PENDING",Wl="DISABLED";function A3(t){return(um(t)?t.validators:t)||null}function k3(t){return Array.isArray(t)?FM(t):t||null}function M3(t,e){return(um(e)?e.asyncValidators:t)||null}function R3(t){return Array.isArray(t)?OM(t):t||null}function um(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var Zv=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Gl}get invalid(){return this.status===am}get pending(){return this.status==Aa}get disabled(){return this.status===Wl}get enabled(){return this.status!==Wl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(wM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(wM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(xM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(xM(e,this._rawAsyncValidators))}hasValidator(e){return cm(this._rawValidators,e)}hasAsyncValidator(e){return cm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Aa,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Wl,this.errors=null,this._forEachChild(i=>{i.disable(Ee(M({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ee(M({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Gl,this._forEachChild(i=>{i.enable(Ee(M({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ee(M({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gl||this.status===Aa)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wl:Gl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Aa,this._hasOwnPendingAsyncValidator=!0;let n=MM(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ne,this.statusChanges=new ne}_calculateStatus(){return this._allControlsDisabled()?Wl:this.errors?am:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Aa)?Aa:this._anyControlsHaveStatus(am)?am:Gl}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){um(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=k3(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=R3(this._rawAsyncValidators)}};var LM=new T("CallSetDisabledState",{providedIn:"root",factory:()=>Xv}),Xv="always";function P3(t,e){return[...e.path,t]}function N3(t,e,n=Xv){O3(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),L3(t,e),j3(t,e),V3(t,e),F3(t,e)}function EM(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function F3(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function O3(t,e){let n=C3(t);e.validator!==null?t.setValidators(vM(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=T3(t);e.asyncValidator!==null?t.setAsyncValidators(vM(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();EM(e._rawValidators,r),EM(e._rawAsyncValidators,r)}function L3(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&VM(t,e)})}function V3(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&VM(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function VM(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function j3(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function B3(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function U3(t){return Object.getPrototypeOf(t.constructor)===SM}function z3(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(o=>{o.constructor===Lr?n=o:U3(o)?i=o:r=o}),r||i||n||null}function IM(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function DM(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var $3=class extends Zv{constructor(e=null,n,i){super(A3(n),M3(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),um(n)&&(n.nonNullable||n.initialValueIsDefault)&&(DM(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){IM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){IM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){DM(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var H3={provide:Kl,useExisting:pi(()=>Go)},CM=(()=>Promise.resolve())(),Go=(()=>{let e=class e extends Kl{constructor(i,r,o,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new $3,this._registered=!1,this.name="",this.update=new ne,this._parent=i,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=z3(this,s)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),B3(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){N3(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){CM.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,o=r!==0&&Dt(r);CM.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?P3(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(D(Qv,9),D(AM,10),D(x3,10),D(Ql,10),D(Nt,8),D(LM,8))},e.\u0275dir=be({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ft([H3]),Ke,gi]});let t=e;return t})();var q3={provide:Ql,useExisting:pi(()=>Jv),multi:!0},Jv=(()=>{let e=class e extends SM{writeValue(i){let r=i??"";this.setProperty("value",r)}registerOnChange(i){this.onChange=r=>{i(r==""?null:parseFloat(r))}}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Er(e)))(o||e)}})(),e.\u0275dir=be({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,o){r&1&&xe("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[Ft([q3]),Ke]});let t=e;return t})();var G3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({});let t=e;return t})();var W3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({imports:[G3]});let t=e;return t})();var jM=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:LM,useValue:i.callSetDisabledState??Xv}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({imports:[W3]});let t=e;return t})();var Yl=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},t0=class extends Yl{constructor(e,n,i,r,o){super(),this.component=e,this.viewContainerRef=n,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}},Ma=class extends Yl{constructor(e,n,i,r){super(),this.templateRef=e,this.viewContainerRef=n,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,n=this.context){return this.context=n,super.attach(e)}detach(){return this.context=void 0,super.detach()}},n0=class extends Yl{constructor(e){super(),this.element=e instanceof he?e.nativeElement:e}},i0=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof t0)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof Ma)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof n0)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var BM=(()=>{let e=class e extends Ma{constructor(i,r){super(i,r)}};e.\u0275fac=function(r){return new(r||e)(D(qt),D(Wt))},e.\u0275dir=be({type:e,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[Ke]});let t=e;return t})();var Zl=(()=>{let e=class e extends i0{constructor(i,r,o){super(),this._componentFactoryResolver=i,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new ne,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let c=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(c,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}get portal(){return this._attachedPortal}set portal(i){this.hasAttached()&&!i&&!this._isInitialized||(this.hasAttached()&&super.detach(),i&&super.attach(i),this._attachedPortal=i||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(i){i.setAttachedHost(this);let r=i.viewContainerRef!=null?i.viewContainerRef:this._viewContainerRef,s=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component),a=r.createComponent(s,r.length,i.injector||r.injector,i.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=i,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(i){i.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=i,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){let i=this._viewContainerRef.element.nativeElement;return i.nodeType===i.ELEMENT_NODE?i:i.parentNode}};e.\u0275fac=function(r){return new(r||e)(D(Ir),D(Wt),D(ue))},e.\u0275dir=be({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Ke]});let t=e;return t})();var UM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({});let t=e;return t})();var Q3=20,r0=(()=>{let e=class e{constructor(i,r,o){this._platform=i,this._change=new fe,this._changeListener=s=>{this._change.next(s)},this._document=o,r.runOutsideAngular(()=>{if(i.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let i=this._getWindow();i.removeEventListener("resize",this._changeListener),i.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let i={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),i}getViewportRect(){let i=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:i.top,left:i.left,bottom:i.top+o,right:i.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let i=this._document,r=this._getWindow(),o=i.documentElement,s=o.getBoundingClientRect(),a=-s.top||i.body.scrollTop||r.scrollY||o.scrollTop||0,c=-s.left||i.body.scrollLeft||r.scrollX||o.scrollLeft||0;return{top:a,left:c}}change(i=Q3){return i>0?this._change.pipe(Rg(i)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let i=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:i.innerWidth,height:i.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(r){return new(r||e)(v(ht),v(U),v(ue,8))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function J3(t,e){}var eq=t=>({animationDuration:t}),tq=(t,e)=>({value:t,params:e});function nq(t,e){t&1&&Kt(0)}var HM=["*"],iq=["tabListContainer"],rq=["tabList"],oq=["tabListInner"],sq=["nextPaginator"],aq=["previousPaginator"],cq=["tabBodyWrapper"],lq=["tabHeader"];function uq(t,e){}function dq(t,e){if(t&1&&An(0,uq,0,0,"ng-template",10),t&2){let n=Kn().$implicit;Pe("cdkPortalOutlet",n.templateLabel)}}function hq(t,e){if(t&1&&an(0),t&2){let n=Kn().$implicit;Kh(n.textLabel)}}function fq(t,e){if(t&1){let n=$_();ie(0,"div",4,5),xe("click",function(){let r=Yc(n),o=r.$implicit,s=r.$index,a=Kn(),c=sa(1);return Zc(a._handleClick(o,c,s))})("cdkFocusChange",function(r){let s=Yc(n).$index,a=Kn();return Zc(a._tabFocusChanged(r,s))}),ke(2,"span",6)(3,"div",7),ie(4,"span",8)(5,"span",9),An(6,dq,1,1,null,10)(7,hq,1,1),le()()()}if(t&2){let n=e.$implicit,i=e.$index,r=sa(1),o=Kn();Le("mdc-tab--active",o.selectedIndex===i),Pe("id",o._getTabLabelId(i))("ngClass",n.labelClass)("disabled",n.disabled)("fitInkBarToContent",o.fitInkBarToContent),Gt("tabIndex",o._getTabIndex(i))("aria-posinset",i+1)("aria-setsize",o._tabs.length)("aria-controls",o._getTabContentId(i))("aria-selected",o.selectedIndex===i)("aria-label",n.ariaLabel||null)("aria-labelledby",!n.ariaLabel&&n.ariaLabelledby?n.ariaLabelledby:null),Oe(3),Pe("matRippleTrigger",r)("matRippleDisabled",n.disabled||o.disableRipple),Oe(3),Wh(6,n.templateLabel?6:7)}}function mq(t,e){if(t&1){let n=$_();ie(0,"mat-tab-body",11),xe("_onCentered",function(){Yc(n);let r=Kn();return Zc(r._removeTabBodyWrapperHeight())})("_onCentering",function(r){Yc(n);let o=Kn();return Zc(o._setTabBodyWrapperHeight(r))}),le()}if(t&2){let n=e.$implicit,i=e.$index,r=Kn();Le("mat-mdc-tab-body-active",r.selectedIndex===i),Pe("id",r._getTabContentId(i))("ngClass",n.bodyClass)("content",n.content)("position",n.position)("origin",n.origin)("animationDuration",r.animationDuration)("preserveContent",r.preserveContent),Gt("tabindex",r.contentTabIndex!=null&&r.selectedIndex===i?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(i))("aria-hidden",r.selectedIndex!==i)}}var pq={translateTab:Sk("translateTab",[jf("center, void, left-origin-center, right-origin-center",Gi({transform:"none"})),jf("left",Gi({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),jf("right",Gi({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Bf("* => left, * => right, left => center, right => center",Vf("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Bf("void => left-origin-center",[Gi({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),Vf("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Bf("void => right-origin-center",[Gi({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),Vf("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])},gq=(()=>{let e=class e extends Zl{constructor(i,r,o,s){super(i,r,s),this._host=o,this._centeringSub=Ie.EMPTY,this._leavingSub=Ie.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(tn(this._host._isCenterPosition(this._host._position))).subscribe(i=>{i&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(D(Ir),D(Wt),D(pi(()=>qM)),D(ue))},e.\u0275dir=be({type:e,selectors:[["","matTabBodyHost",""]],features:[Ke]});let t=e;return t})(),qM=(()=>{let e=class e{set position(i){this._positionIndex=i,this._computePositionAnimationState()}constructor(i,r,o){this._elementRef=i,this._dir=r,this._dirChangeSubscription=Ie.EMPTY,this._translateTabComplete=new fe,this._onCentering=new ne,this._beforeCentering=new ne,this._afterLeavingCenter=new ne,this._onCentered=new ne(!0),this.animationDuration="500ms",this.preserveContent=!1,r&&(this._dirChangeSubscription=r.change.subscribe(s=>{this._computePositionAnimationState(s),o.markForCheck()})),this._translateTabComplete.pipe(dr((s,a)=>s.fromState===a.fromState&&s.toState===a.toState)).subscribe(s=>{this._isCenterPosition(s.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(s.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){this._position=="center"&&this.origin!=null&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(i){let r=this._isCenterPosition(i.toState);this._beforeCentering.emit(r),r&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_isCenterPosition(i){return i=="center"||i=="left-origin-center"||i=="right-origin-center"}_computePositionAnimationState(i=this._getLayoutDirection()){this._positionIndex<0?this._position=i=="ltr"?"left":"right":this._positionIndex>0?this._position=i=="ltr"?"right":"left":this._position="center"}_computePositionFromOrigin(i){let r=this._getLayoutDirection();return r=="ltr"&&i<=0||r=="rtl"&&i>0?"left-origin-center":"right-origin-center"}};e.\u0275fac=function(r){return new(r||e)(D(he),D(Lf,8),D(Nt))},e.\u0275cmp=Xe({type:e,selectors:[["mat-tab-body"]],viewQuery:function(r,o){if(r&1&&It(Zl,5),r&2){let s;$e(s=He())&&(o._portalHost=s.first)}},hostAttrs:[1,"mat-mdc-tab-body"],inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"},decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-mdc-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(r,o){r&1&&(ie(0,"div",0,1),xe("@translateTab.start",function(a){return o._onTranslateTabStarted(a)})("@translateTab.done",function(a){return o._translateTabComplete.next(a)}),An(2,J3,0,0,"ng-template",2),le()),r&2&&Pe("@translateTab",ES(3,tq,o._position,xS(1,eq,o.animationDuration)))},dependencies:[gq],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[pq.translateTab]}});let t=e;return t})(),bq=new T("MatTabContent"),_q=(()=>{let e=class e{constructor(i){this.template=i}};e.\u0275fac=function(r){return new(r||e)(D(qt))},e.\u0275dir=be({type:e,selectors:[["","matTabContent",""]],features:[Ft([{provide:bq,useExisting:e}])]});let t=e;return t})(),yq=new T("MatTabLabel"),GM=new T("MAT_TAB"),vq=(()=>{let e=class e extends BM{constructor(i,r,o){super(i,r),this._closestTab=o}};e.\u0275fac=function(r){return new(r||e)(D(qt),D(Wt),D(GM,8))},e.\u0275dir=be({type:e,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[Ft([{provide:yq,useExisting:e}]),Ke]});let t=e;return t})(),o0="mdc-tab-indicator--active",zM="mdc-tab-indicator--no-transition",s0=class{constructor(e){this._items=e}hide(){this._items.forEach(e=>e.deactivateInkBar())}alignToElement(e){let n=this._items.find(r=>r.elementRef.nativeElement===e),i=this._currentItem;if(n!==i&&(i?.deactivateInkBar(),n)){let r=i?.elementRef.nativeElement.getBoundingClientRect?.();n.activateInkBar(r),this._currentItem=n}}};function wq(t){return class extends t{constructor(...e){super(...e),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(e){let n=Rn(e);this._fitToContent!==n&&(this._fitToContent=n,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(e){let n=this.elementRef.nativeElement;if(!e||!n.getBoundingClientRect||!this._inkBarContentElement){n.classList.add(o0);return}let i=n.getBoundingClientRect(),r=e.width/i.width,o=e.left-i.left;n.classList.add(zM),this._inkBarContentElement.style.setProperty("transform",`translateX(${o}px) scaleX(${r})`),n.getBoundingClientRect(),n.classList.remove(zM),n.classList.add(o0),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this.elementRef.nativeElement.classList.remove(o0)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){let e=this.elementRef.nativeElement.ownerDocument||document;this._inkBarElement=e.createElement("span"),this._inkBarContentElement=e.createElement("span"),this._inkBarElement.className="mdc-tab-indicator",this._inkBarContentElement.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",this._inkBarElement.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){this._inkBarElement;let e=this._fitToContent?this.elementRef.nativeElement.querySelector(".mdc-tab__content"):this.elementRef.nativeElement;e.appendChild(this._inkBarElement)}}}var xq=wq(Gv(class{})),WM=(()=>{let e=class e extends xq{constructor(i){super(),this.elementRef=i}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}};e.\u0275fac=function(r){return new(r||e)(D(he))},e.\u0275dir=be({type:e,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(r,o){r&2&&(Gt("aria-disabled",!!o.disabled),Le("mat-mdc-tab-disabled",o.disabled))},inputs:{disabled:"disabled",fitInkBarToContent:"fitInkBarToContent"},features:[Ke]});let t=e;return t})(),Eq=Gv(class{}),KM=new T("MAT_TAB_GROUP"),c0=(()=>{let e=class e extends Eq{get templateLabel(){return this._templateLabel}set templateLabel(i){this._setTemplateLabelInput(i)}get content(){return this._contentPortal}constructor(i,r){super(),this._viewContainerRef=i,this._closestTabGroup=r,this._explicitContent=void 0,this.textLabel="",this._contentPortal=null,this._stateChanges=new fe,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(i){(i.hasOwnProperty("textLabel")||i.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Ma(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(i){i&&i._closestTab===this&&(this._templateLabel=i)}};e.\u0275fac=function(r){return new(r||e)(D(Wt),D(KM,8))},e.\u0275cmp=Xe({type:e,selectors:[["mat-tab"]],contentQueries:function(r,o,s){if(r&1&&(zi(s,vq,5),zi(s,_q,7,qt)),r&2){let a;$e(a=He())&&(o.templateLabel=a.first),$e(a=He())&&(o._explicitContent=a.first)}},viewQuery:function(r,o){if(r&1&&It(qt,7),r&2){let s;$e(s=He())&&(o._implicitContent=s.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],features:[Ft([{provide:GM,useExisting:e}]),Ke,gi],ngContentSelectors:HM,decls:1,vars:0,template:function(r,o){r&1&&(kn(),An(0,nq,1,0,"ng-template"))},encapsulation:2});let t=e;return t})(),$M=Rr({passive:!0}),Iq=650,Dq=100,Cq=(()=>{let e=class e{get disablePagination(){return this._disablePagination}set disablePagination(i){this._disablePagination=Rn(i)}get selectedIndex(){return this._selectedIndex}set selectedIndex(i){i=Bo(i),this._selectedIndex!=i&&(this._selectedIndexChanged=!0,this._selectedIndex=i,this._keyManager&&this._keyManager.updateActiveItem(i))}constructor(i,r,o,s,a,c,l){this._elementRef=i,this._changeDetectorRef=r,this._viewportRuler=o,this._dir=s,this._ngZone=a,this._platform=c,this._animationMode=l,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new fe,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new fe,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new ne,this.indexFocused=new ne,a.runOutsideAngular(()=>{cr(i.nativeElement,"mouseleave").pipe(nn(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){cr(this._previousPaginator.nativeElement,"touchstart",$M).pipe(nn(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),cr(this._nextPaginator.nativeElement,"touchstart",$M).pipe(nn(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){let i=this._dir?this._dir.change:L("ltr"),r=this._viewportRuler.change(150),o=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new Ff(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(en(1)).subscribe(o),po(i,r,this._items.changes,this._itemsResized()).pipe(nn(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),o()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(s=>{this.indexFocused.emit(s),this._setTabFocus(s)})}_itemsResized(){return typeof ResizeObserver!="function"?Mt:this._items.changes.pipe(tn(this._items),Me(i=>new W(r=>this._ngZone.runOutsideAngular(()=>{let o=new ResizeObserver(s=>r.next(s));return i.forEach(s=>o.observe(s.elementRef.nativeElement)),()=>{o.disconnect()}}))),_o(1),Fe(i=>i.some(r=>r.contentRect.width>0&&r.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(i){if(!Pf(i))switch(i.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){let r=this._items.get(this.focusIndex);r&&!r.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(i))}break;default:this._keyManager.onKeydown(i)}}_onContentChanges(){let i=this._elementRef.nativeElement.textContent;i!==this._currentTextContent&&(this._currentTextContent=i||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(i){!this._isValidIndex(i)||this.focusIndex===i||!this._keyManager||this._keyManager.setActiveItem(i)}_isValidIndex(i){return this._items?!!this._items.toArray()[i]:!0}_setTabFocus(i){if(this._showPaginationControls&&this._scrollToLabel(i),this._items&&this._items.length){this._items.toArray()[i].focus();let r=this._tabListContainer.nativeElement;this._getLayoutDirection()=="ltr"?r.scrollLeft=0:r.scrollLeft=r.scrollWidth-r.offsetWidth}}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;let i=this.scrollDistance,r=this._getLayoutDirection()==="ltr"?-i:i;this._tabList.nativeElement.style.transform=`translateX(${Math.round(r)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(i){this._scrollTo(i)}_scrollHeader(i){let r=this._tabListContainer.nativeElement.offsetWidth,o=(i=="before"?-1:1)*r/3;return this._scrollTo(this._scrollDistance+o)}_handlePaginatorClick(i){this._stopInterval(),this._scrollHeader(i)}_scrollToLabel(i){if(this.disablePagination)return;let r=this._items?this._items.toArray()[i]:null;if(!r)return;let o=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:s,offsetWidth:a}=r.elementRef.nativeElement,c,l;this._getLayoutDirection()=="ltr"?(c=s,l=c+a):(l=this._tabListInner.nativeElement.offsetWidth-s,c=l-a);let u=this.scrollDistance,d=this.scrollDistance+o;c<u?this.scrollDistance-=u-c:l>d&&(this.scrollDistance+=Math.min(l-d,c-u))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{let i=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;i||(this.scrollDistance=0),i!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=i}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=this.scrollDistance==0,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){let i=this._tabListInner.nativeElement.scrollWidth,r=this._tabListContainer.nativeElement.offsetWidth;return i-r||0}_alignInkBarToSelectedTab(){let i=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,r=i?i.elementRef.nativeElement:null;r?this._inkBar.alignToElement(r):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(i,r){r&&r.button!=null&&r.button!==0||(this._stopInterval(),kc(Iq,Dq).pipe(nn(po(this._stopScrolling,this._destroyed))).subscribe(()=>{let{maxScrollDistance:o,distance:s}=this._scrollHeader(i);(s===0||s>=o)&&this._stopInterval()}))}_scrollTo(i){if(this.disablePagination)return{maxScrollDistance:0,distance:0};let r=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(r,i)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:r,distance:this._scrollDistance}}};e.\u0275fac=function(r){return new(r||e)(D(he),D(Nt),D(r0),D(Lf,8),D(U),D(ht),D(Pt,8))},e.\u0275dir=be({type:e,inputs:{disablePagination:"disablePagination"}});let t=e;return t})(),Tq=(()=>{let e=class e extends Cq{get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=Rn(i)}constructor(i,r,o,s,a,c,l){super(i,r,o,s,a,c,l),this._disableRipple=!1}ngAfterContentInit(){this._inkBar=new s0(this._items),super.ngAfterContentInit()}_itemSelected(i){i.preventDefault()}};e.\u0275fac=function(r){return new(r||e)(D(he),D(Nt),D(r0),D(Lf,8),D(U),D(ht),D(Pt,8))},e.\u0275cmp=Xe({type:e,selectors:[["mat-tab-header"]],contentQueries:function(r,o,s){if(r&1&&zi(s,WM,4),r&2){let a;$e(a=He())&&(o._items=a)}},viewQuery:function(r,o){if(r&1&&(It(iq,7),It(rq,7),It(oq,7),It(sq,5),It(aq,5)),r&2){let s;$e(s=He())&&(o._tabListContainer=s.first),$e(s=He())&&(o._tabList=s.first),$e(s=He())&&(o._tabListInner=s.first),$e(s=He())&&(o._nextPaginator=s.first),$e(s=He())&&(o._previousPaginator=s.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(r,o){r&2&&Le("mat-mdc-tab-header-pagination-controls-enabled",o._showPaginationControls)("mat-mdc-tab-header-rtl",o._getLayoutDirection()=="rtl")},inputs:{selectedIndex:"selectedIndex",disableRipple:"disableRipple"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[Ke],ngContentSelectors:HM,decls:13,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-mdc-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(r,o){r&1&&(kn(),ie(0,"button",0,1),xe("click",function(){return o._handlePaginatorClick("before")})("mousedown",function(a){return o._handlePaginatorPress("before",a)})("touchend",function(){return o._stopInterval()}),ke(2,"div",2),le(),ie(3,"div",3,4),xe("keydown",function(a){return o._handleKeydown(a)}),ie(5,"div",5,6),xe("cdkObserveContent",function(){return o._onContentChanges()}),ie(7,"div",7,8),Kt(9),le()()(),ie(10,"button",9,10),xe("mousedown",function(a){return o._handlePaginatorPress("after",a)})("click",function(){return o._handlePaginatorClick("after")})("touchend",function(){return o._stopInterval()}),ke(12,"div",2),le()),r&2&&(Le("mat-mdc-tab-header-pagination-disabled",o._disableScrollBefore),Pe("matRippleDisabled",o._disableScrollBefore||o.disableRipple)("disabled",o._disableScrollBefore||null),Oe(3),Le("_mat-animation-noopable",o._animationMode==="NoopAnimations"),Oe(7),Le("mat-mdc-tab-header-pagination-disabled",o._disableScrollAfter),Pe("matRippleDisabled",o._disableScrollAfter||o.disableRipple)("disabled",o._disableScrollAfter||null))},dependencies:[Or,_k],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height);border-bottom-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height);border-top-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2});let t=e;return t})(),Sq=new T("MAT_TABS_CONFIG"),Aq=0,kq=sm(pM(class{constructor(t){this._elementRef=t}}),"primary"),Mq=!0,QM=(()=>{let e=class e extends kq{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(i){this._fitInkBarToContent=Rn(i),this._changeDetectorRef.markForCheck()}get stretchTabs(){return this._stretchTabs}set stretchTabs(i){this._stretchTabs=Rn(i)}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(i){this._dynamicHeight=Rn(i)}get selectedIndex(){return this._selectedIndex}set selectedIndex(i){this._indexToSelect=Bo(i,null)}get animationDuration(){return this._animationDuration}set animationDuration(i){this._animationDuration=/^\d+$/.test(i+"")?i+"ms":i}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(i){this._contentTabIndex=Bo(i,null)}get disablePagination(){return this._disablePagination}set disablePagination(i){this._disablePagination=Rn(i)}get preserveContent(){return this._preserveContent}set preserveContent(i){this._preserveContent=Rn(i)}get backgroundColor(){return this._backgroundColor}set backgroundColor(i){if(!Mq)throw new Error("mat-tab-group background color must be set through the Sass theming API");let r=this._elementRef.nativeElement.classList;r.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),i&&r.add("mat-tabs-with-background",`mat-background-${i}`),this._backgroundColor=i}constructor(i,r,o,s){super(i),this._changeDetectorRef=r,this._animationMode=s,this._tabs=new yr,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=Ie.EMPTY,this._tabLabelSubscription=Ie.EMPTY,this._fitInkBarToContent=!1,this._stretchTabs=!0,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this._disablePagination=!1,this._preserveContent=!1,this.selectedIndexChange=new ne,this.focusChange=new ne,this.animationDone=new ne,this.selectedTabChange=new ne(!0),this._groupId=Aq++,this.animationDuration=o&&o.animationDuration?o.animationDuration:"500ms",this.disablePagination=o&&o.disablePagination!=null?o.disablePagination:!1,this.dynamicHeight=o&&o.dynamicHeight!=null?o.dynamicHeight:!1,this.contentTabIndex=o?.contentTabIndex??null,this.preserveContent=!!o?.preserveContent,this.fitInkBarToContent=o&&o.fitInkBarToContent!=null?o.fitInkBarToContent:!1,this.stretchTabs=o&&o.stretchTabs!=null?o.stretchTabs:!0}ngAfterContentChecked(){let i=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=i){let r=this._selectedIndex==null;if(!r){this.selectedTabChange.emit(this._createChangeEvent(i));let o=this._tabBodyWrapper.nativeElement;o.style.minHeight=o.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((o,s)=>o.isActive=s===i),r||(this.selectedIndexChange.emit(i),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((r,o)=>{r.position=o-i,this._selectedIndex!=null&&r.position==0&&!r.origin&&(r.origin=i-this._selectedIndex)}),this._selectedIndex!==i&&(this._selectedIndex=i,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{let i=this._clampTabIndex(this._indexToSelect);if(i===this._selectedIndex){let r=this._tabs.toArray(),o;for(let s=0;s<r.length;s++)if(r[s].isActive){this._indexToSelect=this._selectedIndex=s,this._lastFocusedTabIndex=null,o=r[s];break}!o&&r[i]&&Promise.resolve().then(()=>{r[i].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(i))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(tn(this._allTabs)).subscribe(i=>{this._tabs.reset(i.filter(r=>r._closestTabGroup===this||!r._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(i){let r=this._tabHeader;r&&(r.focusIndex=i)}_focusChanged(i){this._lastFocusedTabIndex=i,this.focusChange.emit(this._createChangeEvent(i))}_createChangeEvent(i){let r=new a0;return r.index=i,this._tabs&&this._tabs.length&&(r.tab=this._tabs.toArray()[i]),r}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=po(...this._tabs.map(i=>i._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(i){return Math.min(this._tabs.length-1,Math.max(i||0,0))}_getTabLabelId(i){return`mat-tab-label-${this._groupId}-${i}`}_getTabContentId(i){return`mat-tab-content-${this._groupId}-${i}`}_setTabBodyWrapperHeight(i){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;let r=this._tabBodyWrapper.nativeElement;r.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(r.style.height=i+"px")}_removeTabBodyWrapperHeight(){let i=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=i.clientHeight,i.style.height="",this.animationDone.emit()}_handleClick(i,r,o){r.focusIndex=o,i.disabled||(this.selectedIndex=o)}_getTabIndex(i){let r=this._lastFocusedTabIndex??this.selectedIndex;return i===r?0:-1}_tabFocusChanged(i,r){i&&i!=="mouse"&&i!=="touch"&&(this._tabHeader.focusIndex=r)}};e.\u0275fac=function(r){return new(r||e)(D(he),D(Nt),D(Sq,8),D(Pt,8))},e.\u0275cmp=Xe({type:e,selectors:[["mat-tab-group"]],contentQueries:function(r,o,s){if(r&1&&zi(s,c0,5),r&2){let a;$e(a=He())&&(o._allTabs=a)}},viewQuery:function(r,o){if(r&1&&(It(cq,5),It(lq,5)),r&2){let s;$e(s=He())&&(o._tabBodyWrapper=s.first),$e(s=He())&&(o._tabHeader=s.first)}},hostAttrs:["ngSkipHydration","",1,"mat-mdc-tab-group"],hostVars:8,hostBindings:function(r,o){r&2&&(rl("--mat-tab-animation-duration",o.animationDuration),Le("mat-mdc-tab-group-dynamic-height",o.dynamicHeight)("mat-mdc-tab-group-inverted-header",o.headerPosition==="below")("mat-mdc-tab-group-stretch-tabs",o.stretchTabs))},inputs:{color:"color",disableRipple:"disableRipple",fitInkBarToContent:"fitInkBarToContent",stretchTabs:["mat-stretch-tabs","stretchTabs"],dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",preserveContent:"preserveContent",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],features:[Ft([{provide:KM,useExisting:e}]),Ke],decls:8,vars:5,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],[1,"mat-mdc-tab-body-wrapper"],["tabBodyWrapper",""],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange"],["tabNode",""],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"],["class","mdc-tab mat-mdc-tab mat-mdc-focus-indicator","role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",3,"id","mdc-tab--active","ngClass","disabled","fitInkBarToContent"],["role","tabpanel",3,"id","mat-mdc-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent"]],template:function(r,o){r&1&&(ie(0,"mat-tab-header",0,1),xe("indexFocused",function(a){return o._focusChanged(a)})("selectFocusedIndex",function(a){return o.selectedIndex=a}),U_(2,fq,8,16,"div",12,B_),le(),ie(4,"div",2,3),U_(6,mq,1,12,"mat-tab-body",13,B_),le()),r&2&&(Pe("selectedIndex",o.selectedIndex||0)("disableRipple",o.disableRipple)("disablePagination",o.disablePagination),Oe(2),z_(o._tabs),Oe(2),Le("_mat-animation-noopable",o._animationMode==="NoopAnimations"),Oe(2),z_(o._tabs))},dependencies:[KS,Zl,Or,Dk,qM,WM,Tq],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-tracking);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2});let t=e;return t})(),a0=class{};var YM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({imports:[ua,Ct,UM,Sa,Ea,Ck,Ct]});let t=e;return t})();var Pq=["mat-button",""],Nq=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Fq=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var Oq=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Lq=(()=>{let e=class e{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(i){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,i)}get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=i,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(i){this._disabled=i,this._updateRippleDisabled()}constructor(i,r,o,s){this._elementRef=i,this._platform=r,this._ngZone=o,this._animationMode=s,this._focusMonitor=I(Of),this._rippleLoader=I(gM),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});let a=this._elementRef.nativeElement,c=a.classList;for(let{attribute:l,mdcClasses:u}of Oq)a.hasAttribute(l)&&c.add(...u)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(i="program",r){i?this._focusMonitor.focusVia(this._elementRef.nativeElement,i,r):this._elementRef.nativeElement.focus(r)}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};e.\u0275fac=function(r){jh()},e.\u0275dir=be({type:e,inputs:{color:"color",disableRipple:["disableRipple","disableRipple",Dt],disabled:["disabled","disabled",Dt]},features:[Wn]});let t=e;return t})();var dm=(()=>{let e=class e extends Lq{constructor(i,r,o,s){super(i,r,o,s)}};e.\u0275fac=function(r){return new(r||e)(D(he),D(ht),D(U),D(Pt,8))},e.\u0275cmp=Xe({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:9,hostBindings:function(r,o){r&2&&(Gt("disabled",o.disabled||null),zh(o.color?"mat-"+o.color:""),Le("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[Ke],attrs:Pq,ngContentSelectors:Fq,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){r&1&&(kn(Nq),ke(0,"span",0),Kt(1),ie(2,"span",1),Kt(3,1),le(),Kt(4,2),ke(5,"span",2)(6,"span",3)),r&2&&Le("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);--mdc-text-button-container-shape:4px;--mdc-text-button-container-height:36px;--mdc-text-button-keep-touch-target:false}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);--mdc-filled-button-container-shape:4px;--mdc-filled-button-container-elevation:0;--mdc-filled-button-disabled-container-elevation:0;--mdc-filled-button-focus-container-elevation:0;--mdc-filled-button-hover-container-elevation:0;--mdc-filled-button-keep-touch-target:false;--mdc-filled-button-pressed-container-elevation:0}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);--mdc-protected-button-container-shape:4px;--mdc-protected-button-keep-touch-target:false}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled][disabled]{box-shadow:none}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);--mdc-outlined-button-keep-touch-target:false;--mdc-outlined-button-outline-width:1px;--mdc-outlined-button-container-shape:4px}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let t=e;return t})();var ZM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({imports:[Ct,Sa,Ct]});let t=e;return t})();var Vq=["input"],jq=["label"],Bq=["*"],Uq=new T("mat-checkbox-default-options",{providedIn:"root",factory:tR});function tR(){return{color:"accent",clickAction:"check-indeterminate"}}var zq={provide:Ql,useExisting:pi(()=>u0),multi:!0},l0=class{},$q=0,JM=tR(),u0=(()=>{let e=class e{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(i){let r=new l0;return r.source=this,r.checked=i,r}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(i,r,o,s,a,c){this._elementRef=i,this._changeDetectorRef=r,this._ngZone=o,this._animationMode=a,this._options=c,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new ne,this.indeterminateChange=new ne,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||JM,this.color=this._options.color||JM.color,this.tabIndex=parseInt(s)||0,this.id=this._uniqueId=`mat-mdc-checkbox-${++$q}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(i){i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(i){i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(i){let r=i!=this._indeterminate;this._indeterminate=i,r&&(this._indeterminate?this._transitionCheckState(3):this._transitionCheckState(this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(i){this.checked=!!i}registerOnChange(i){this._controlValueAccessorChangeFn=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this.disabled=i}_transitionCheckState(i){let r=this._currentCheckState,o=this._getAnimationTargetElement();if(!(r===i||!o)&&(this._currentAnimationClass&&o.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(r,i),this._currentCheckState=i,this._currentAnimationClass.length>0)){o.classList.add(this._currentAnimationClass);let s=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{o.classList.remove(s)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let i=this._options?.clickAction;!this.disabled&&i!=="noop"?(this.indeterminate&&i!=="check"&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent()):!this.disabled&&i==="noop"&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(i){i.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(i,r){if(this._animationMode==="NoopAnimations")return"";switch(i){case 0:if(r===1)return this._animationClasses.uncheckedToChecked;if(r==3)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return r===1?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return r===2?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return r===1?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(i){let r=this._inputElement;r&&(r.nativeElement.indeterminate=i)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(i){i.target&&this._labelElement.nativeElement.contains(i.target)&&i.stopPropagation()}};e.\u0275fac=function(r){return new(r||e)(D(he),D(Nt),D(U),na("tabindex"),D(Pt,8),D(Uq,8))},e.\u0275cmp=Xe({type:e,selectors:[["mat-checkbox"]],viewQuery:function(r,o){if(r&1&&(It(Vq,5),It(jq,5),It(Or,5)),r&2){let s;$e(s=He())&&(o._inputElement=s.first),$e(s=He())&&(o._labelElement=s.first),$e(s=He())&&(o.ripple=s.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:14,hostBindings:function(r,o){r&2&&(ol("id",o.id),Gt("tabindex",null)("aria-label",null)("aria-labelledby",null),zh(o.color?"mat-"+o.color:"mat-accent"),Le("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mdc-checkbox--disabled",o.disabled)("mat-mdc-checkbox-disabled",o.disabled)("mat-mdc-checkbox-checked",o.checked))},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:["required","required",Dt],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:["disableRipple","disableRipple",Dt],tabIndex:["tabIndex","tabIndex",i=>i==null?void 0:nf(i)],color:"color",checked:["checked","checked",Dt],disabled:["disabled","disabled",Dt],indeterminate:["indeterminate","indeterminate",Dt]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[Ft([zq]),Wn],ngContentSelectors:Bq,decls:15,vars:20,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"],["label",""]],template:function(r,o){if(r&1&&(kn(),ie(0,"div",0),xe("click",function(a){return o._preventBubblingFromLabel(a)}),ie(1,"div",1,2)(3,"div",3),xe("click",function(){return o._onTouchTargetClick()}),le(),ie(4,"input",4,5),xe("blur",function(){return o._onBlur()})("click",function(){return o._onInputClick()})("change",function(a){return o._onInteractionEvent(a)}),le(),ke(6,"div",6),ie(7,"div",7),AC(),ie(8,"svg",8),ke(9,"path",9),le(),kC(),ke(10,"div",10),le(),ke(11,"div",11),le(),ie(12,"label",12,13),Kt(14),le()()),r&2){let s=sa(2);Le("mdc-form-field--align-end",o.labelPosition=="before"),Oe(4),Le("mdc-checkbox--selected",o.checked),Pe("checked",o.checked)("indeterminate",o.indeterminate)("disabled",o.disabled)("id",o.inputId)("required",o.required)("tabIndex",o.disabled?-1:o.tabIndex),Gt("aria-label",o.ariaLabel||null)("aria-labelledby",o.ariaLabelledby)("aria-describedby",o.ariaDescribedby)("aria-checked",o.indeterminate?"mixed":null)("name",o.name)("value",o.value),Oe(7),Pe("matRippleTrigger",s)("matRippleDisabled",o.disableRipple||o.disabled)("matRippleCentered",!0),Oe(1),Pe("for",o.inputId)}},dependencies:[Or],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let t=e;return t})();var eR=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({});let t=e;return t})(),nR=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({imports:[Ct,Sa,eR,Ct,eR]});let t=e;return t})();function qq(t,e){if(t&1&&(ie(0,"li",7),an(1),le()),t&2){let n=e.$implicit;Oe(1),sl(" ",n," ")}}var iR=(()=>{let e=class e{constructor(){this.result=["Nessun risultato."],this.value="d20+5",this.reroll="1",this.expl=!1}getReroll(){let i=parseInt(this.reroll);return isNaN(i)?1:i}rollAll(){let i=[];for(let r=0;r<this.getReroll();r++)i[r]=this.roll();this.result=i}roll(){let i="",r=0;this.value.startsWith("+")&&(this.value=this.value.substring(1));let o=this.value.split(/([+-])/);for(let s=0;s<o.length;s+=2){let a=s==0||o[s-1]==="+"?"+":"-",c=this.rollDice(o[s]);r=a==="+"?r+c:r-c,i+=`${a}${c}`}return`${i.substring(1)}= ${r}
`}rollDice(i){let r=0,o=i.split(/(d)/),s=o[0]?parseInt(o[0]):1,a=o[2]?parseInt(o[2]):1;for(let c=0;c<s;c++)r+=this.explosion(a);return r}explosion(i){let r=Math.floor(Math.random()*i)+1;return this.expl&&i!==1&&r===i?r+this.explosion(i):r}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Xe({type:e,selectors:[["app-roll"]],decls:15,vars:4,consts:[[1,"roll"],[2,"display","inline","margin-right","10px"],["id","reroll","type","number","matInput","",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["matInput","","placeholder","cosa vuoi tirare?","type","text","name","value",3,"ngModel","ngModelChange"],["mat-raised-button","",3,"click"],["style","list-style-type: none;",4,"ngFor","ngForOf"],[2,"list-style-type","none"]],template:function(r,o){r&1&&(ke(0,"br"),ie(1,"div",0)(2,"p",1),an(3,"Ritirare x"),le(),ie(4,"input",2),xe("ngModelChange",function(a){return o.reroll=a}),le(),ke(5,"br"),ie(6,"mat-checkbox",3),xe("ngModelChange",function(a){return o.expl=a}),an(7,"Esplosivo"),le(),ke(8,"br"),ie(9,"input",4),xe("ngModelChange",function(a){return o.value=a}),le(),ie(10,"button",5),xe("click",function(){return o.rollAll()}),an(11,"ROLL"),le(),ke(12,"br")(13,"br"),An(14,qq,2,1,"li",6),le()),r&2&&(Oe(4),Pe("ngModel",o.reroll),Oe(2),Pe("ngModel",o.expl),Oe(3),Pe("ngModel",o.value),Oe(5),Pe("ngForOf",o.result))},dependencies:[QS,dm,Lr,Jv,ka,Go,u0],styles:["p[_ngcontent-%COMP%]{margin-top:1%;margin-left:1%}button[_ngcontent-%COMP%]{margin-left:1%;font-size:small;transition:transform .1s}button[_ngcontent-%COMP%]:active{transform:rotate(360deg)}input[_ngcontent-%COMP%]{color:#fff;background:none}mat-checkbox[_ngcontent-%COMP%]{margin:0 10px}#reroll[_ngcontent-%COMP%]{width:15px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none}"]});let t=e;return t})();var Wq="firebase",Kq="10.7.1";or(Wq,Kq,"app");var Xl=new mi("ANGULARFIRE2_VERSION");var Qq=(t,e)=>{let n=e?[e]:DI(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},Wo=class{constructor(){return Qq(Yq)}},Yq="app-check";function d0(){}var hm=class{zone;delegate;constructor(e,n=Ag){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,o=function(s){r.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,i)}},h0=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",d0,{},d0,d0)),n.pipe(ze({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},fm=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new hm(Zone.current)),this.insideAngular=n.run(()=>new hm(Zone.current,si)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(v(U))};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Zq(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function cn(t){return Xq(Zq())(t)}function Xq(t){return function(n){return n=n.lift(new h0(t.ngZone)),n.pipe(Bn(t.outsideAngular),Cn(t.insideAngular))}}var t8=new Map,n8={activated:!1,tokenObservers:[]},i8={initialized:!1,enabled:!1};function Zn(t){return t8.get(t)||Object.assign({},n8)}function lR(){return i8}var r8="https://content-firebaseappcheck.googleapis.com/v1";var o8="exchangeDebugToken",oR={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},yre=24*60*60*1e3;var m0=class{constructor(e,n,i,r,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return w(this,null,function*(){this.stop();try{this.pending=new mg,this.pending.promise.catch(n=>{}),yield s8(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new mg,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function s8(t){return new Promise(e=>{setTimeout(e,t)})}var a8={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Vr=new EI("appCheck","AppCheck",a8);function uR(t){if(!Zn(t).activated)throw Vr.create("use-before-activation",{appName:t.name})}function dR(i,r){return w(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let f=yield s.getHeartbeatsHeader();f&&(o["X-Firebase-Client"]=f)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(t,a)}catch(f){throw Vr.create("fetch-network-error",{originalErrorMessage:f?.message})}if(c.status!==200)throw Vr.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(f){throw Vr.create("fetch-parse-error",{originalErrorMessage:f?.message})}let u=l.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Vr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let d=Number(u[1])*1e3,h=Date.now();return{token:l.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}})}function hR(t,e){let{projectId:n,appId:i,apiKey:r}=t.options;return{url:`${r8}/projects/${n}/apps/${i}:${o8}?key=${r}`,body:{debug_token:e}}}var c8="firebase-app-check-database",l8=1,p0="firebase-app-check-store";var mm=null;function u8(){return mm||(mm=new Promise((t,e)=>{try{let n=indexedDB.open(c8,l8);n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{var r;e(Vr.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},n.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(p0,{keyPath:"compositeKey"})}}}catch(n){e(Vr.create("storage-open",{originalErrorMessage:n?.message}))}}),mm)}function d8(t,e){return h8(f8(t),e)}function h8(t,e){return w(this,null,function*(){let i=(yield u8()).transaction(p0,"readwrite"),o=i.objectStore(p0).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},i.onerror=c=>{var l;a(Vr.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function f8(t){return`${t.options.appId}-${t.name}`}var g0=new bd("@firebase/app-check");function f0(t,e){return gd()?d8(t,e).catch(n=>{g0.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function fR(){return lR().enabled}function mR(){return w(this,null,function*(){let t=lR();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var m8={error:"UNKNOWN_ERROR"};function p8(t){return yI.encodeString(JSON.stringify(t),!1)}function b0(t,e=!1){return w(this,null,function*(){let n=t.app;uR(n);let i=Zn(n),r=i.token,o;if(r&&!Jl(r)&&(i.token=void 0,r=void 0),!r){let c=yield i.cachedTokenPromise;c&&(Jl(c)?r=c:yield f0(n,void 0))}if(!e&&r&&Jl(r))return{token:r.token};let s=!1;if(fR()){i.exchangeTokenPromise||(i.exchangeTokenPromise=dR(hR(n,yield mR()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),s=!0);let c=yield i.exchangeTokenPromise;return yield f0(n,c),i.token=c,{token:c.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),s=!0),r=yield Zn(n).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"?g0.warn(c.message):g0.error(c),o=c}let a;return r?o?Jl(r)?a={token:r.token,internalError:o}:a=aR(o):(a={token:r.token},i.token=r,yield f0(n,r)):a=aR(o),s&&y8(n,a),a})}function g8(t){return w(this,null,function*(){let e=t.app;uR(e);let{provider:n}=Zn(e);if(fR()){let i=yield mR(),{token:r}=yield dR(hR(e,i),t.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield n.getToken();return{token:i}}})}function b8(t,e,n,i){let{app:r}=t,o=Zn(r),s={next:n,error:i,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Jl(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),sR(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>sR(t))}function pR(t,e){let n=Zn(t),i=n.tokenObservers.filter(r=>r.next!==e);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function sR(t){let{app:e}=t,n=Zn(e),i=n.tokenRefresher;i||(i=_8(t),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function _8(t){let{app:e}=t;return new m0(()=>w(this,null,function*(){let n=Zn(e),i;if(n.token?i=yield b0(t,!0):i=yield b0(t),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let n=Zn(e);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,r=n.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},oR.RETRIAL_MIN_WAIT,oR.RETRIAL_MAX_WAIT)}function y8(t,e){let n=Zn(t).tokenObservers;for(let i of n)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function Jl(t){return t.expireTimeMillis-Date.now()>0}function aR(t){return{token:p8(m8),error:t}}var _0=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=Zn(this.app);for(let n of e)pR(this.app,n.next);return Promise.resolve()}};function v8(t,e){return new _0(t,e)}function w8(t){return{getToken:e=>b0(t,e),getLimitedUseToken:()=>g8(t),addTokenListener:e=>b8(t,"INTERNAL",e),removeTokenListener:e=>pR(t.app,e)}}var x8="@firebase/app-check",E8="0.8.1";var I8="app-check",cR="app-check-internal";function D8(){Cc(new lo(I8,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return v8(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(cR).initialize()})),Cc(new lo(cR,t=>{let e=t.getProvider("app-check").getImmediate();return w8(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),or(x8,E8)}D8();var C8=["localhost","0.0.0.0","127.0.0.1"],Mre=typeof window<"u"&&C8.includes(window.location.hostname);var T8="firebase",S8="10.7.1";hn.registerVersion(T8,S8,"app-compat");var A8=["ngOnDestroy"],_R=(t,e,n,i={})=>new Proxy(t,{get:(r,o)=>n.runOutsideAngular(()=>{if(t[o])return i?.spy?.get&&i.spy.get(o,t[o]),t[o];if(A8.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(a=>{let c=a?.[o];return typeof c=="function"?c.bind(a):c?.then?c.then(l=>n.run(()=>l)):n.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,l)=>s.then(u=>{let d=u?.(...l);return i?.spy?.apply&&i.spy.apply(o,l,d),d})})})});var pm=class{constructor(e){return e}},Ra=new T("angularfire2.app.options"),Pa=new T("angularfire2.app.name");function eu(t,e,n){let i=typeof n=="string"&&n||"[DEFAULT]",r=typeof n=="object"&&n||{};r.name=r.name||i;let s=hn.apps.filter(a=>a&&a.name===r.name)[0]||e.runOutsideAngular(()=>hn.initializeApp(t,r));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){let a=!!module.hot;k8("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new pm(s)}var k8=(t,...e)=>{Y_()&&typeof console<"u"&&console[t](...e)},M8={provide:pm,useFactory:eu,deps:[Ra,U,[new Ao,Pa]]},yR=(()=>{class t{static initializeApp(n,i){return{ngModule:t,providers:[{provide:Ra,useValue:n},{provide:Pa,useValue:i}]}}constructor(n){hn.registerVersion("angularfire",Xl.full,"core"),hn.registerVersion("angularfire",Xl.full,"app-compat"),hn.registerVersion("angular",AS.full,n.toString())}static \u0275fac=function(i){return new(i||t)(v(gt))};static \u0275mod=Z({type:t});static \u0275inj=Y({providers:[M8]})}return t})();function gm(t,e,n,i,r){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return R8(r,s)||(bR("error",`${e} was already initialized on the ${n} Firebase App with different settings.${P8?" You may need to reload as Firebase is not HMR aware.":""}`),bR("warn",{is:r,was:s})),o;{let a=i();return globalThis.\u0275AngularfireInstanceCache.push([t,a,r]),a}}function R8(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var P8=typeof module<"u"&&!!module.hot,bR=(t,...e)=>{Y_()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var y0=new T("angularfire2.auth.use-emulator"),v0=new T("angularfire2.auth.settings"),w0=new T("angularfire2.auth.tenant-id"),x0=new T("angularfire2.auth.langugage-code"),E0=new T("angularfire2.auth.use-device-language"),I0=new T("angularfire.auth.persistence"),D0=(t,e,n,i,r,o,s,a)=>gm(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let c=e.runOutsideAngular(()=>t.auth());if(n&&c.useEmulator(...n),i&&(c.tenantId=i),c.languageCode=r,o&&c.useDeviceLanguage(),s)for(let[l,u]of Object.entries(s))c.settings[l]=u;return a&&c.setPersistence(a),c},[n,i,r,o,s,a]),vR=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,i,r,o,s,a,c,l,u,d,h,f){let m=new fe,p=L(void 0).pipe(Cn(s.outsideAngular),Me(()=>o.runOutsideAngular(()=>import("./chunk-KTRENSU5.js"))),j(()=>eu(n,o,i)),j(g=>D0(g,o,a,l,u,d,c,h)),Mc({bufferSize:1,refCount:!1}));if(Fo(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=L(null);else{p.pipe(fn()).subscribe();let g=p.pipe(Me(C=>C.getRedirectResult().then(R=>R,()=>null)),cn,Mc({bufferSize:1,refCount:!1})),y=p.pipe(Me(C=>new W(R=>({unsubscribe:o.runOutsideAngular(()=>C.onAuthStateChanged(B=>R.next(B),B=>R.error(B),()=>R.complete()))})))),A=p.pipe(Me(C=>new W(R=>({unsubscribe:o.runOutsideAngular(()=>C.onIdTokenChanged(B=>R.next(B),B=>R.error(B),()=>R.complete()))}))));this.authState=g.pipe(Hd(y),Bn(s.outsideAngular),Cn(s.insideAngular)),this.user=g.pipe(Hd(A),Bn(s.outsideAngular),Cn(s.insideAngular)),this.idToken=this.user.pipe(Me(C=>C?pe(C.getIdToken()):L(null))),this.idTokenResult=this.user.pipe(Me(C=>C?pe(C.getIdTokenResult()):L(null))),this.credential=po(g,m,this.authState.pipe(Fe(C=>!C))).pipe(j(C=>C?.user?C:null),Bn(s.outsideAngular),Cn(s.insideAngular))}return _R(this,p,o,{spy:{apply:(g,y,A)=>{(g.startsWith("signIn")||g.startsWith("createUser"))&&A.then(C=>m.next(C))}}})}static \u0275fac=function(i){return new(i||t)(v(Ra),v(Pa,8),v(gt),v(U),v(fm),v(y0,8),v(v0,8),v(w0,8),v(x0,8),v(E0,8),v(I0,8),v(Wo,8))};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var F8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Jn={},N,W0=W0||{},J=F8||self;function km(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function mu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function O8(t){return Object.prototype.hasOwnProperty.call(t,C0)&&t[C0]||(t[C0]=++L8)}var C0="closure_uid_"+(1e9*Math.random()>>>0),L8=0;function V8(t,e,n){return t.call.apply(t.bind,arguments)}function j8(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function Ot(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ot=V8:Ot=j8,Ot.apply(null,arguments)}function bm(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function _t(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(i,s)}}function jr(){this.s=this.s,this.o=this.o}var B8=0;jr.prototype.s=!1;jr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),B8!=0)&&O8(this)};jr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var PR=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function K0(t){let e=t.length;if(0<e){let n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function wR(t,e){for(let n=1;n<arguments.length;n++){let i=arguments[n];if(km(i)){let r=t.length||0,o=i.length||0;t.length=r+o;for(let s=0;s<o;s++)t[r+s]=i[s]}else t.push(i)}}function Lt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Lt.prototype.h=function(){this.defaultPrevented=!0};var U8=function(){if(!J.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};J.addEventListener("test",n,e),J.removeEventListener("test",n,e)}catch{}return t}();function su(t){return/^[\s\xa0]*$/.test(t)}function Mm(){var t=J.navigator;return t&&(t=t.userAgent)?t:""}function Ei(t){return Mm().indexOf(t)!=-1}function Q0(t){return Q0[" "](t),t}Q0[" "]=function(){};function z8(t,e){var n=k9;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var $8=Ei("Opera"),La=Ei("Trident")||Ei("MSIE"),NR=Ei("Edge"),M0=NR||La,FR=Ei("Gecko")&&!(Mm().toLowerCase().indexOf("webkit")!=-1&&!Ei("Edge"))&&!(Ei("Trident")||Ei("MSIE"))&&!Ei("Edge"),H8=Mm().toLowerCase().indexOf("webkit")!=-1&&!Ei("Edge");function OR(){var t=J.document;return t?t.documentMode:void 0}var R0;e:{if(_m="",ym=function(){var t=Mm();if(FR)return/rv:([^\);]+)(\)|;)/.exec(t);if(NR)return/Edge\/([\d\.]+)/.exec(t);if(La)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(H8)return/WebKit\/(\S+)/.exec(t);if($8)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),ym&&(_m=ym?ym[1]:""),La&&(vm=OR(),vm!=null&&vm>parseFloat(_m))){R0=String(vm);break e}R0=_m}var _m,ym,vm,P0;J.document&&La?(T0=OR(),P0=T0||parseInt(R0,10)||void 0):P0=void 0;var T0,q8=P0;function au(t,e){if(Lt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(FR){e:{try{Q0(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:G8[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&au.$.h.call(this)}}_t(au,Lt);var G8={2:"touch",3:"pen",4:"mouse"};au.prototype.h=function(){au.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var pu="closure_listenable_"+(1e6*Math.random()|0),W8=0;function K8(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++W8,this.fa=this.ia=!1}function Rm(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Y0(t,e,n){for(let i in t)e.call(n,t[i],i,t)}function Q8(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function LR(t){let e={};for(let n in t)e[n]=t[n];return e}var xR="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function VR(t,e){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(let o=0;o<xR.length;o++)n=xR[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Pm(t){this.src=t,this.g={},this.h=0}Pm.prototype.add=function(t,e,n,i,r){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=F0(t,e,i,r);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new K8(e,this.src,o,!!i,r),e.ia=n,t.push(e)),e};function N0(t,e){var n=e.type;if(n in t.g){var i=t.g[n],r=PR(i,e),o;(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Rm(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function F0(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==i)return r}return-1}var Z0="closure_lm_"+(1e6*Math.random()|0),S0={};function jR(t,e,n,i,r){if(i&&i.once)return UR(t,e,n,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)jR(t,e[o],n,i,r);return null}return n=ew(n),t&&t[pu]?t.O(e,n,mu(i)?!!i.capture:!!i,r):BR(t,e,n,!1,i,r)}function BR(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var s=mu(r)?!!r.capture:!!r,a=J0(t);if(a||(t[Z0]=a=new Pm(t)),n=a.add(e,n,i,s,o),n.proxy)return n;if(i=Y8(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)U8||(r=s),r===void 0&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent($R(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Y8(){function t(n){return e.call(t.src,t.listener,n)}let e=Z8;return t}function UR(t,e,n,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)UR(t,e[o],n,i,r);return null}return n=ew(n),t&&t[pu]?t.P(e,n,mu(i)?!!i.capture:!!i,r):BR(t,e,n,!0,i,r)}function zR(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)zR(t,e[o],n,i,r);else i=mu(i)?!!i.capture:!!i,n=ew(n),t&&t[pu]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=F0(o,n,i,r),-1<n&&(Rm(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=J0(t))&&(e=t.g[e.toString()],t=-1,e&&(t=F0(e,n,i,r)),(n=-1<t?e[t]:null)&&X0(n))}function X0(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[pu])N0(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent($R(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=J0(e))?(N0(n,t),n.h==0&&(n.src=null,e[Z0]=null)):Rm(t)}}}function $R(t){return t in S0?S0[t]:S0[t]="on"+t}function Z8(t,e){if(t.fa)t=!0;else{e=new au(e,this);var n=t.listener,i=t.la||t.src;t.ia&&X0(t),t=n.call(i,e)}return t}function J0(t){return t=t[Z0],t instanceof Pm?t:null}var A0="__closure_events_fn_"+(1e9*Math.random()>>>0);function ew(t){return typeof t=="function"?t:(t[A0]||(t[A0]=function(e){return t.handleEvent(e)}),t[A0])}function bt(){jr.call(this),this.i=new Pm(this),this.S=this,this.J=null}_t(bt,jr);bt.prototype[pu]=!0;bt.prototype.removeEventListener=function(t,e,n,i){zR(this,t,e,n,i)};function St(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new Lt(e,t);else if(e instanceof Lt)e.target=e.target||t;else{var r=e;e=new Lt(i,t),VR(e,r)}if(r=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];r=wm(s,i,!0,e)&&r}if(s=e.g=t,r=wm(s,i,!0,e)&&r,r=wm(s,i,!1,e)&&r,n)for(o=0;o<n.length;o++)s=e.g=n[o],r=wm(s,i,!1,e)&&r}bt.prototype.N=function(){if(bt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)Rm(n[i]);delete t.g[e],t.h--}}this.J=null};bt.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};bt.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function wm(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,c=s.la||s.src;s.ia&&N0(t.i,s),r=a.call(c,i)!==!1&&r}}return r&&!i.defaultPrevented}var tw=J.JSON.stringify,O0=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function X8(){var t=nw;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var L0=class{constructor(){this.h=this.g=null}add(e,n){let i=HR.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}},HR=new O0(()=>new V0,t=>t.reset()),V0=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function J8(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function e9(t){J.setTimeout(()=>{throw t},0)}var cu,lu=!1,nw=new L0,qR=()=>{let t=J.Promise.resolve(void 0);cu=()=>{t.then(t9)}},t9=()=>{for(var t;t=X8();){try{t.h.call(t.g)}catch(n){e9(n)}var e=HR;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}lu=!1};function Nm(t,e){bt.call(this),this.h=t||1,this.g=e||J,this.j=Ot(this.qb,this),this.l=Date.now()}_t(Nm,bt);N=Nm.prototype;N.ga=!1;N.T=null;N.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),St(this,"tick"),this.ga&&(iw(this),this.start()))}};N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function iw(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}N.N=function(){Nm.$.N.call(this),iw(this),delete this.g};function rw(t,e,n){if(typeof t=="function")n&&(t=Ot(t,n));else if(t&&typeof t.handleEvent=="function")t=Ot(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:J.setTimeout(t,e||0)}function GR(t){t.g=rw(()=>{t.g=null,t.i&&(t.i=!1,GR(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var j0=class extends jr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:GR(this)}N(){super.N(),this.g&&(J.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function uu(t){jr.call(this),this.h=t,this.g={}}_t(uu,jr);var ER=[];function WR(t,e,n,i){Array.isArray(n)||(n&&(ER[0]=n.toString()),n=ER);for(var r=0;r<n.length;r++){var o=jR(e,n[r],i||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function KR(t){Y0(t.g,function(e,n){this.g.hasOwnProperty(n)&&X0(e)},t),t.g={}}uu.prototype.N=function(){uu.$.N.call(this),KR(this)};uu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Fm(){this.g=!0}Fm.prototype.Ea=function(){this.g=!1};function n9(t,e,n,i,r,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");s=2<=d.length&&d[1]=="type"?s+(u+"="+l+"&"):s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+`
`+n+`
`+s})}function i9(t,e,n,i,r,o,s){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+`
`+n+`
`+o+" "+s})}function Fa(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+o9(t,n)+(i?" "+i:"")})}function r9(t,e){t.info(function(){return"TIMEOUT: "+e})}Fm.prototype.info=function(){};function o9(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<r.length;s++)r[s]=""}}}}return tw(n)}catch{return e}}var Zo={},IR=null;function Om(){return IR=IR||new bt}Zo.Ta="serverreachability";function QR(t){Lt.call(this,Zo.Ta,t)}_t(QR,Lt);function du(t){let e=Om();St(e,new QR(e))}Zo.STAT_EVENT="statevent";function YR(t,e){Lt.call(this,Zo.STAT_EVENT,t),this.stat=e}_t(YR,Lt);function Qt(t){let e=Om();St(e,new YR(e,t))}Zo.Ua="timingevent";function ZR(t,e){Lt.call(this,Zo.Ua,t),this.size=e}_t(ZR,Lt);function gu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return J.setTimeout(function(){t()},e)}var Lm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},XR={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ow(){}ow.prototype.h=null;function DR(t){return t.h||(t.h=t.i())}function JR(){}var bu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function sw(){Lt.call(this,"d")}_t(sw,Lt);function aw(){Lt.call(this,"c")}_t(aw,Lt);var B0;function Vm(){}_t(Vm,ow);Vm.prototype.g=function(){return new XMLHttpRequest};Vm.prototype.i=function(){return{}};B0=new Vm;function _u(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new uu(this),this.P=s9,t=M0?125:void 0,this.V=new Nm(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new e1}function e1(){this.i=null,this.g="",this.h=!1}var s9=45e3,t1={},U0={};N=_u.prototype;N.setTimeout=function(t){this.P=t};function z0(t,e,n){t.L=1,t.A=Bm(Qi(e)),t.u=n,t.S=!0,n1(t,null)}function n1(t,e){t.G=Date.now(),yu(t),t.B=Qi(t.A);var n=t.B,i=t.W;Array.isArray(i)||(i=[String(i)]),u1(n.i,"t",i),t.o=0,n=t.l.J,t.h=new e1,t.g=M1(t.l,n?e:null,!t.u),0<t.O&&(t.M=new j0(Ot(t.Pa,t,t.g),t.O)),WR(t.U,t.g,"readystatechange",t.nb),e=t.I?LR(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),du(),n9(t.j,t.v,t.B,t.m,t.W,t.u)}N.nb=function(t){t=t.target;let e=this.M;e&&Ii(t)==3?e.l():this.Pa(t)};N.Pa=function(t){try{if(t==this.g)e:{let u=Ii(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>u)&&(u!=3||M0||this.g&&(this.h.h||this.g.ja()||AR(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?du(3):du(2)),jm(this);var n=this.g.da();this.ca=n;t:if(i1(this)){var i=AR(this.g);t="";var r=i.length,o=Ii(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ko(this),ou(this);var s="";break t}this.h.i=new J.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,i9(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!su(a)){var l=a;break t}}l=null}if(n=l)Fa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$0(this,n);else{this.i=!1,this.s=3,Qt(12),Ko(this),ou(this);break e}}this.S?(r1(this,u,s),M0&&this.i&&u==3&&(WR(this.U,this.V,"tick",this.mb),this.V.start())):(Fa(this.j,this.m,s,null),$0(this,s)),u==4&&Ko(this),this.i&&!this.J&&(u==4?T1(this.l,this):(this.i=!1,yu(this)))}else T9(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,Qt(12)):(this.s=0,Qt(13)),Ko(this),ou(this)}}}catch{}finally{}};function i1(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function r1(t,e,n){let i=!0,r;for(;!t.J&&t.o<n.length;)if(r=a9(t,n),r==U0){e==4&&(t.s=4,Qt(14),i=!1),Fa(t.j,t.m,null,"[Incomplete Response]");break}else if(r==t1){t.s=4,Qt(15),Fa(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else Fa(t.j,t.m,r,null),$0(t,r);i1(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Qt(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),fw(e),e.M=!0,Qt(11))):(Fa(t.j,t.m,n,"[Invalid Chunked Response]"),Ko(t),ou(t))}N.mb=function(){if(this.g){var t=Ii(this.g),e=this.g.ja();this.o<e.length&&(jm(this),r1(this,t,e),this.i&&t!=4&&yu(this))}};function a9(t,e){var n=t.o,i=e.indexOf(`
`,n);return i==-1?U0:(n=Number(e.substring(n,i)),isNaN(n)?t1:(i+=1,i+n>e.length?U0:(e=e.slice(i,i+n),t.o=i+n,e)))}N.cancel=function(){this.J=!0,Ko(this)};function yu(t){t.Y=Date.now()+t.P,o1(t,t.P)}function o1(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=gu(Ot(t.lb,t),e)}function jm(t){t.C&&(J.clearTimeout(t.C),t.C=null)}N.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(r9(this.j,this.B),this.L!=2&&(du(),Qt(17)),Ko(this),this.s=2,ou(this)):o1(this,this.Y-t)};function ou(t){t.l.H==0||t.J||T1(t.l,t)}function Ko(t){jm(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,iw(t.V),KR(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function $0(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||H0(n.i,t))){if(!t.K&&H0(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Cm(n),$m(n);else break e;hw(n),Qt(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=gu(Ot(n.ib,n),6e3));if(1>=f1(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Qo(n,11)}else if((t.K||n.g==t)&&Cm(n),!su(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let l=r[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];let u=l[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));let d=l[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=l[5];h!=null&&typeof h=="number"&&0<h&&(i=1.5*h,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;let f=t.g;if(f){let m=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var o=i.i;o.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(cw(o,o.h),o.h=null))}if(i.F){let p=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;p&&(i.Da=p,Be(i.I,i.F,p))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var s=t;if(i.wa=k1(i,i.J?i.pa:null,i.Y),s.K){m1(i.i,s);var a=s,c=i.L;c&&a.setTimeout(c),a.C&&(jm(a),yu(a)),i.g=s}else D1(i);0<n.j.length&&Hm(n)}else l[0]!="stop"&&l[0]!="close"||Qo(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Qo(n,7):dw(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}du(4)}catch{}}function c9(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(km(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function l9(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(km(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let i in t)e[n++]=i;return e}}}function s1(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(km(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=l9(t),i=c9(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}var a1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function u9(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Yo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Yo){this.h=t.h,Im(this,t.j),this.s=t.s,this.g=t.g,Dm(this,t.m),this.l=t.l;var e=t.i,n=new hu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),CR(this,n),this.o=t.o}else t&&(e=String(t).match(a1))?(this.h=!1,Im(this,e[1]||"",!0),this.s=iu(e[2]||""),this.g=iu(e[3]||"",!0),Dm(this,e[4]),this.l=iu(e[5]||"",!0),CR(this,e[6]||"",!0),this.o=iu(e[7]||"")):(this.h=!1,this.i=new hu(null,this.h))}Yo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ru(e,TR,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ru(e,TR,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ru(n,n.charAt(0)=="/"?f9:h9,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ru(n,p9)),t.join("")};function Qi(t){return new Yo(t)}function Im(t,e,n){t.j=n?iu(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Dm(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function CR(t,e,n){e instanceof hu?(t.i=e,g9(t.i,t.h)):(n||(e=ru(e,m9)),t.i=new hu(e,t.h))}function Be(t,e,n){t.i.set(e,n)}function Bm(t){return Be(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function iu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ru(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,d9),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function d9(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var TR=/[#\/\?@]/g,h9=/[#\?:]/g,f9=/[#\?]/g,m9=/[#\?@]/g,p9=/#/g;function hu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Br(t){t.g||(t.g=new Map,t.h=0,t.i&&u9(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}N=hu.prototype;N.add=function(t,e){Br(this),this.i=null,t=Va(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function c1(t,e){Br(t),e=Va(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function l1(t,e){return Br(t),e=Va(t,e),t.g.has(e)}N.forEach=function(t,e){Br(this),this.g.forEach(function(n,i){n.forEach(function(r){t.call(e,r,i,this)},this)},this)};N.ta=function(){Br(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){let r=t[i];for(let o=0;o<r.length;o++)n.push(e[i])}return n};N.Z=function(t){Br(this);let e=[];if(typeof t=="string")l1(this,t)&&(e=e.concat(this.g.get(Va(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};N.set=function(t,e){return Br(this),this.i=null,t=Va(this,t),l1(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};N.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function u1(t,e,n){c1(t,e),0<n.length&&(t.i=null,t.g.set(Va(t,e),K0(n)),t.h+=n.length)}N.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];let o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;s[i]!==""&&(r+="="+encodeURIComponent(String(s[i]))),t.push(r)}}return this.i=t.join("&")};function Va(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function g9(t,e){e&&!t.j&&(Br(t),t.i=null,t.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(c1(this,i),u1(this,r,n))},t)),t.j=e}var b9=class{constructor(t,e){this.g=t,this.map=e}};function d1(t){this.l=t||_9,J.PerformanceNavigationTiming?(t=J.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(J.g&&J.g.Ka&&J.g.Ka()&&J.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var _9=10;function h1(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function f1(t){return t.h?1:t.g?t.g.size:0}function H0(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function cw(t,e){t.g?t.g.add(e):t.h=e}function m1(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}d1.prototype.cancel=function(){if(this.i=p1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function p1(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return K0(t.i)}var y9=class{stringify(t){return J.JSON.stringify(t,void 0)}parse(t){return J.JSON.parse(t,void 0)}};function v9(){this.g=new y9}function w9(t,e,n){let i=n||"";try{s1(t,function(r,o){let s=r;mu(r)&&(s=tw(r)),e.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function x9(t,e){let n=new Fm;if(J.Image){let i=new Image;i.onload=bm(xm,n,i,"TestLoadImage: loaded",!0,e),i.onerror=bm(xm,n,i,"TestLoadImage: error",!1,e),i.onabort=bm(xm,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=bm(xm,n,i,"TestLoadImage: timeout",!1,e),J.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function xm(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function vu(t){this.l=t.ec||null,this.j=t.ob||!1}_t(vu,ow);vu.prototype.g=function(){return new Um(this.l,this.j)};vu.prototype.i=function(t){return function(){return t}}({});function Um(t,e){bt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=lw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_t(Um,bt);var lw=0;N=Um.prototype;N.open=function(t,e){if(this.readyState!=lw)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,fu(this)};N.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||J).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wu(this)),this.readyState=lw};N.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,fu(this)),this.g&&(this.readyState=3,fu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof J.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;g1(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function g1(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}N.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?wu(this):fu(this),this.readyState==3&&g1(this)}};N.Za=function(t){this.g&&(this.response=this.responseText=t,wu(this))};N.Ya=function(t){this.g&&(this.response=t,wu(this))};N.ka=function(){this.g&&wu(this)};function wu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,fu(t)}N.setRequestHeader=function(t,e){this.v.append(t,e)};N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};N.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function fu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Um.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var E9=J.JSON.parse;function Je(t){bt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=b1,this.L=this.M=!1}_t(Je,bt);var b1="",I9=/^https?$/i,D9=["POST","PUT"];N=Je.prototype;N.Oa=function(t){this.M=t};N.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():B0.g(),this.C=this.u?DR(this.u):DR(B0),this.g.onreadystatechange=Ot(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){SR(this,o);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(let o of i.keys())n.set(o,i.get(o));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),r=J.FormData&&t instanceof J.FormData,!(0<=PR(D9,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{v1(this),0<this.B&&((this.L=C9(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ot(this.ua,this)):this.A=rw(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){SR(this,o)}};function C9(t){return La&&typeof t.timeout=="number"&&t.ontimeout!==void 0}N.ua=function(){typeof W0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,St(this,"timeout"),this.abort(8))};function SR(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,_1(t),zm(t)}function _1(t){t.F||(t.F=!0,St(t,"complete"),St(t,"error"))}N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,St(this,"complete"),St(this,"abort"),zm(this))};N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zm(this,!0)),Je.$.N.call(this)};N.La=function(){this.s||(this.G||this.v||this.l?y1(this):this.kb())};N.kb=function(){y1(this)};function y1(t){if(t.h&&typeof W0<"u"&&(!t.C[1]||Ii(t)!=4||t.da()!=2)){if(t.v&&Ii(t)==4)rw(t.La,0,t);else if(St(t,"readystatechange"),Ii(t)==4){t.h=!1;try{let s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=s===0){var r=String(t.I).match(a1)[1]||null;!r&&J.self&&J.self.location&&(r=J.self.location.protocol.slice(0,-1)),i=!I9.test(r?r.toLowerCase():"")}n=i}if(n)St(t,"complete"),St(t,"success");else{t.m=6;try{var o=2<Ii(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",_1(t)}}finally{zm(t)}}}}function zm(t,e){if(t.g){v1(t);let n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||St(t,"ready");try{n.onreadystatechange=i}catch{}}}function v1(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(J.clearTimeout(t.A),t.A=null)}N.isActive=function(){return!!this.g};function Ii(t){return t.g?t.g.readyState:0}N.da=function(){try{return 2<Ii(this)?this.g.status:-1}catch{return-1}};N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};N.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),E9(e)}};function AR(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case b1:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function T9(t){let e={};t=(t.g&&2<=Ii(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(su(t[i]))continue;var n=J8(t[i]);let r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let o=e[r]||[];e[r]=o,o.push(n)}Q8(e,function(i){return i.join(", ")})}N.Ia=function(){return this.m};N.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function w1(t){let e="";return Y0(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function uw(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=w1(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Be(t,e,n))}function tu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function x1(t){this.Ga=0,this.j=[],this.l=new Fm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=tu("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=tu("baseRetryDelayMs",5e3,t),this.hb=tu("retryDelaySeedMs",1e4,t),this.eb=tu("forwardChannelMaxRetries",2,t),this.xa=tu("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new d1(t&&t.concurrentRequestLimit),this.Ja=new v9,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}N=x1.prototype;N.ra=8;N.H=1;function dw(t){if(E1(t),t.H==3){var e=t.W++,n=Qi(t.I);if(Be(n,"SID",t.K),Be(n,"RID",e),Be(n,"TYPE","terminate"),xu(t,n),e=new _u(t,t.l,e),e.L=2,e.A=Bm(Qi(n)),n=!1,J.navigator&&J.navigator.sendBeacon)try{n=J.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&J.Image&&(new Image().src=e.A,n=!0),n||(e.g=M1(e.l,null),e.g.ha(e.A)),e.G=Date.now(),yu(e)}A1(t)}function $m(t){t.g&&(fw(t),t.g.cancel(),t.g=null)}function E1(t){$m(t),t.u&&(J.clearTimeout(t.u),t.u=null),Cm(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&J.clearTimeout(t.m),t.m=null)}function Hm(t){if(!h1(t.i)&&!t.m){t.m=!0;var e=t.Na;cu||qR(),lu||(cu(),lu=!0),nw.add(e,t),t.C=0}}function S9(t,e){return f1(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=gu(Ot(t.Na,t,e),S1(t,t.C)),t.C++,!0)}N.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let r=new _u(this,this.l,t),o=this.s;if(this.U&&(o?(o=LR(o),VR(o,this.U)):o=this.U),this.o!==null||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=I1(this,r,e),n=Qi(this.I),Be(n,"RID",t),Be(n,"CVER",22),this.F&&Be(n,"X-HTTP-Session-Id",this.F),xu(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(w1(o)))+"&"+e:this.o&&uw(n,this.o,o)),cw(this.i,r),this.bb&&Be(n,"TYPE","init"),this.P?(Be(n,"$req",e),Be(n,"SID","null"),r.aa=!0,z0(r,n,null)):z0(r,n,e),this.H=2}}else this.H==3&&(t?kR(this,t):this.j.length==0||h1(this.i)||kR(this))};function kR(t,e){var n;e?n=e.m:n=t.W++;let i=Qi(t.I);Be(i,"SID",t.K),Be(i,"RID",n),Be(i,"AID",t.V),xu(t,i),t.o&&t.s&&uw(i,t.o,t.s),n=new _u(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=I1(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),cw(t.i,n),z0(n,i,e)}function xu(t,e){t.na&&Y0(t.na,function(n,i){Be(e,i,n)}),t.h&&s1({},function(n,i){Be(e,i,n)})}function I1(t,e,n){n=Math.min(t.j.length,n);var i=t.h?Ot(t.h.Va,t.h,t):null;e:{var r=t.j;let o=-1;for(;;){let s=["count="+n];o==-1?0<n?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<n;c++){let l=r[c].g,u=r[c].map;if(l-=o,0>l)o=Math.max(0,r[c].g-100),a=!1;else try{w9(u,s,"req"+l+"_")}catch{i&&i(u)}}if(a){i=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function D1(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;cu||qR(),lu||(cu(),lu=!0),nw.add(e,t),t.A=0}}function hw(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=gu(Ot(t.Ma,t),S1(t,t.A)),t.A++,!0)}N.Ma=function(){if(this.u=null,C1(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=gu(Ot(this.jb,this),t)}};N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Qt(10),$m(this),C1(this))};function fw(t){t.B!=null&&(J.clearTimeout(t.B),t.B=null)}function C1(t){t.g=new _u(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Qi(t.wa);Be(e,"RID","rpc"),Be(e,"SID",t.K),Be(e,"AID",t.V),Be(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Be(e,"TO",t.qa),Be(e,"TYPE","xmlhttp"),xu(t,e),t.o&&t.s&&uw(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Bm(Qi(e)),n.u=null,n.S=!0,n1(n,t)}N.ib=function(){this.v!=null&&(this.v=null,$m(this),hw(this),Qt(19))};function Cm(t){t.v!=null&&(J.clearTimeout(t.v),t.v=null)}function T1(t,e){var n=null;if(t.g==e){Cm(t),fw(t),t.g=null;var i=2}else if(H0(t.i,e))n=e.F,m1(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var r=t.C;i=Om(),St(i,new ZR(i,n)),Hm(t)}else D1(t);else if(r=e.s,r==3||r==0&&0<e.ca||!(i==1&&S9(t,e)||i==2&&hw(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:Qo(t,5);break;case 4:Qo(t,10);break;case 3:Qo(t,6);break;default:Qo(t,2)}}}function S1(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Qo(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=Ot(t.pb,t);n||(n=new Yo("//www.google.com/images/cleardot.gif"),J.location&&J.location.protocol=="http"||Im(n,"https"),Bm(n)),x9(n.toString(),i)}else Qt(2);t.H=0,t.h&&t.h.za(e),A1(t),E1(t)}N.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Qt(2)):(this.l.info("Failed to ping google.com"),Qt(1))};function A1(t){if(t.H=0,t.ma=[],t.h){let e=p1(t.i);(e.length!=0||t.j.length!=0)&&(wR(t.ma,e),wR(t.ma,t.j),t.i.i.length=0,K0(t.j),t.j.length=0),t.h.ya()}}function k1(t,e,n){var i=n instanceof Yo?Qi(n):new Yo(n);if(i.g!="")e&&(i.g=e+"."+i.g),Dm(i,i.m);else{var r=J.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new Yo(null);i&&Im(o,i),e&&(o.g=e),r&&Dm(o,r),n&&(o.l=n),i=o}return n=t.F,e=t.Da,n&&e&&Be(i,n,e),Be(i,"VER",t.ra),xu(t,i),i}function M1(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Je(new vu({ob:n})):new Je(t.va),e.Oa(t.J),e}N.isActive=function(){return!!this.h&&this.h.isActive(this)};function R1(){}N=R1.prototype;N.Ba=function(){};N.Aa=function(){};N.za=function(){};N.ya=function(){};N.isActive=function(){return!0};N.Va=function(){};function Tm(){if(La&&!(10<=Number(q8)))throw Error("Environmental error: no available transport.")}Tm.prototype.g=function(t,e){return new wn(t,e)};function wn(t,e){bt.call(this),this.g=new x1(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!su(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!su(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ja(this)}_t(wn,bt);wn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Qt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=k1(t,null,t.Y),Hm(t)};wn.prototype.close=function(){dw(this.g)};wn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=tw(t),t=n);e.j.push(new b9(e.fb++,t)),e.H==3&&Hm(e)};wn.prototype.N=function(){this.g.h=null,delete this.j,dw(this.g),delete this.g,wn.$.N.call(this)};function P1(t){sw.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}_t(P1,sw);function N1(){aw.call(this),this.status=1}_t(N1,aw);function ja(t){this.g=t}_t(ja,R1);ja.prototype.Ba=function(){St(this.g,"a")};ja.prototype.Aa=function(t){St(this.g,new P1(t))};ja.prototype.za=function(t){St(this.g,new N1)};ja.prototype.ya=function(){St(this.g,"b")};function A9(){this.blockSize=-1}function Xn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}_t(Xn,A9);Xn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function k0(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var o=t.g[3],s=e+(o^n&(r^o))+i[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[2]+606105819&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[3]+3250441966&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(o^n&(r^o))+i[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[6]+2821735955&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[7]+4249261313&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(o^n&(r^o))+i[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[10]+4294925233&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[11]+2304563134&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(o^n&(r^o))+i[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(r^e&(n^r))+i[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(n^o&(e^n))+i[14]+2792965006&4294967295,r=o+(s<<17&4294967295|s>>>15),s=n+(e^r&(o^e))+i[15]+1236535329&4294967295,n=r+(s<<22&4294967295|s>>>10),s=e+(r^o&(n^r))+i[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[11]+643717713&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[0]+3921069994&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(n^r))+i[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[15]+3634488961&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[4]+3889429448&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(n^r))+i[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[3]+4107603335&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[8]+1163531501&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(n^r))+i[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^r&(e^n))+i[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^n&(o^e))+i[7]+1735328473&4294967295,r=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(r^o))+i[12]+2368359562&4294967295,n=r+(s<<20&4294967295|s>>>12),s=e+(n^r^o)+i[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[11]+1839030562&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[14]+4259657740&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(n^r^o)+i[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[7]+4139469664&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[10]+3200236656&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(n^r^o)+i[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[3]+3572445317&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[6]+76029189&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(n^r^o)+i[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^r)+i[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^n)+i[15]+530742520&4294967295,r=o+(s<<16&4294967295|s>>>16),s=n+(r^o^e)+i[2]+3299628645&4294967295,n=r+(s<<23&4294967295|s>>>9),s=e+(r^(n|~o))+i[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[14]+2878612391&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[5]+4237533241&4294967295,n=r+(s<<21&4294967295|s>>>11),s=e+(r^(n|~o))+i[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[10]+4293915773&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[1]+2240044497&4294967295,n=r+(s<<21&4294967295|s>>>11),s=e+(r^(n|~o))+i[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[6]+2734768916&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[13]+1309151649&4294967295,n=r+(s<<21&4294967295|s>>>11),s=e+(r^(n|~o))+i[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~r))+i[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~n))+i[2]+718787259&4294967295,r=o+(s<<15&4294967295|s>>>17),s=n+(o^(r|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+o&4294967295}Xn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(r==0)for(;o<=n;)k0(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(i[r++]=t.charCodeAt(o++),r==this.blockSize){k0(this,i),r=0;break}}else for(;o<e;)if(i[r++]=t[o++],r==this.blockSize){k0(this,i),r=0;break}}this.h=r,this.i+=e};Xn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function Se(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var o=t[r]|0;i&&o==e||(n[r]=o,i=!1)}this.g=n}var k9={};function mw(t){return-128<=t&&128>t?z8(t,function(e){return new Se([e|0],0>e?-1:0)}):new Se([t|0],0>t?-1:0)}function Di(t){if(isNaN(t)||!isFinite(t))return Oa;if(0>t)return Tt(Di(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=q0;return new Se(e,0)}function F1(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Tt(F1(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Di(Math.pow(e,8)),i=Oa,r=0;r<t.length;r+=8){var o=Math.min(8,t.length-r),s=parseInt(t.substring(r,r+o),e);8>o?(o=Di(Math.pow(e,o)),i=i.R(o).add(Di(s))):(i=i.R(n),i=i.add(Di(s)))}return i}var q0=4294967296,Oa=mw(0),G0=mw(1),MR=mw(16777216);N=Se.prototype;N.ea=function(){if(Nn(this))return-Tt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:q0+i)*e,e*=q0}return t};N.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ki(this))return"0";if(Nn(this))return"-"+Tt(this).toString(t);for(var e=Di(Math.pow(t,6)),n=this,i="";;){var r=Am(n,e).g;n=Sm(n,r.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,Ki(n))return o+i;for(;6>o.length;)o="0"+o;i=o+i}};N.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ki(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Nn(t){return t.h==-1}N.X=function(t){return t=Sm(this,t),Nn(t)?-1:Ki(t)?0:1};function Tt(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new Se(n,~t.h).add(G0)}N.abs=function(){return Nn(this)?Tt(this):this};N.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var o=i+(this.D(r)&65535)+(t.D(r)&65535),s=(o>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=s>>>16,o&=65535,s&=65535,n[r]=s<<16|o}return new Se(n,n[n.length-1]&-2147483648?-1:0)};function Sm(t,e){return t.add(Tt(e))}N.R=function(t){if(Ki(this)||Ki(t))return Oa;if(Nn(this))return Nn(t)?Tt(this).R(Tt(t)):Tt(Tt(this).R(t));if(Nn(t))return Tt(this.R(Tt(t)));if(0>this.X(MR)&&0>t.X(MR))return Di(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var o=this.D(i)>>>16,s=this.D(i)&65535,a=t.D(r)>>>16,c=t.D(r)&65535;n[2*i+2*r]+=s*c,Em(n,2*i+2*r),n[2*i+2*r+1]+=o*c,Em(n,2*i+2*r+1),n[2*i+2*r+1]+=s*a,Em(n,2*i+2*r+1),n[2*i+2*r+2]+=o*a,Em(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new Se(n,0)};function Em(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function nu(t,e){this.g=t,this.h=e}function Am(t,e){if(Ki(e))throw Error("division by zero");if(Ki(t))return new nu(Oa,Oa);if(Nn(t))return e=Am(Tt(t),e),new nu(Tt(e.g),Tt(e.h));if(Nn(e))return e=Am(t,Tt(e)),new nu(Tt(e.g),e.h);if(30<t.g.length){if(Nn(t)||Nn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=G0,i=e;0>=i.X(t);)n=RR(n),i=RR(i);var r=Na(n,1),o=Na(i,1);for(i=Na(i,2),n=Na(n,2);!Ki(i);){var s=o.add(i);0>=s.X(t)&&(r=r.add(n),o=s),i=Na(i,1),n=Na(n,1)}return e=Sm(t,r.R(e)),new nu(r,e)}for(r=Oa;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),o=Di(n),s=o.R(e);Nn(s)||0<s.X(t);)n-=i,o=Di(n),s=o.R(e);Ki(o)&&(o=G0),r=r.add(o),t=Sm(t,s)}return new nu(r,t)}N.gb=function(t){return Am(this,t).h};N.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new Se(n,this.h&t.h)};N.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new Se(n,this.h|t.h)};N.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new Se(n,this.h^t.h)};function RR(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new Se(n,t.h)}function Na(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],o=0;o<i;o++)r[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Se(r,t.h)}Tm.prototype.createWebChannel=Tm.prototype.g;wn.prototype.send=wn.prototype.u;wn.prototype.open=wn.prototype.m;wn.prototype.close=wn.prototype.close;Lm.NO_ERROR=0;Lm.TIMEOUT=8;Lm.HTTP_ERROR=6;XR.COMPLETE="complete";JR.EventType=bu;bu.OPEN="a";bu.CLOSE="b";bu.ERROR="c";bu.MESSAGE="d";bt.prototype.listen=bt.prototype.O;Je.prototype.listenOnce=Je.prototype.P;Je.prototype.getLastError=Je.prototype.Sa;Je.prototype.getLastErrorCode=Je.prototype.Ia;Je.prototype.getStatus=Je.prototype.da;Je.prototype.getResponseJson=Je.prototype.Wa;Je.prototype.getResponseText=Je.prototype.ja;Je.prototype.send=Je.prototype.ha;Je.prototype.setWithCredentials=Je.prototype.Oa;Xn.prototype.digest=Xn.prototype.l;Xn.prototype.reset=Xn.prototype.reset;Xn.prototype.update=Xn.prototype.j;Se.prototype.add=Se.prototype.add;Se.prototype.multiply=Se.prototype.R;Se.prototype.modulo=Se.prototype.gb;Se.prototype.compare=Se.prototype.X;Se.prototype.toNumber=Se.prototype.ea;Se.prototype.toString=Se.prototype.toString;Se.prototype.getBits=Se.prototype.D;Se.fromNumber=Di;Se.fromString=F1;var O1=Jn.createWebChannelTransport=function(){return new Tm},L1=Jn.getStatEventTarget=function(){return Om()},qm=Jn.ErrorCode=Lm,V1=Jn.EventType=XR,j1=Jn.Event=Zo,pw=Jn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},noe=Jn.FetchXmlHttpFactory=vu,Eu=Jn.WebChannel=JR,B1=Jn.XhrIo=Je,U1=Jn.Md5=Xn,Xo=Jn.Integer=Se;var z1="@firebase/firestore";var lt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};lt.UNAUTHENTICATED=new lt(null),lt.GOOGLE_CREDENTIALS=new lt("google-credentials-uid"),lt.FIRST_PARTY=new lt("first-party-uid"),lt.MOCK_USER=new lt("mock-user");var pc="10.7.0";var Wr=new bd("@firebase/firestore");function Ha(){return Wr.logLevel}function UP(t){Wr.setLogLevel(t)}function E(t,...e){if(Wr.logLevel<=oi.DEBUG){let n=e.map(gE);Wr.debug(`Firestore (${pc}): ${t}`,...n)}}function it(t,...e){if(Wr.logLevel<=oi.ERROR){let n=e.map(gE);Wr.error(`Firestore (${pc}): ${t}`,...n)}}function On(t,...e){if(Wr.logLevel<=oi.WARN){let n=e.map(gE);Wr.warn(`Firestore (${pc}): ${t}`,...n)}}function gE(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function O(t="Unexpected state"){let e=`FIRESTORE (${pc}) INTERNAL ASSERTION FAILED: `+t;throw it(e),new Error(e)}function z(t,e){t||O()}function zP(t,e){t||O()}function F(t,e){return t}var _={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},x=class extends xI{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ut=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var np=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},vw=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(lt.UNAUTHENTICATED))}shutdown(){}},ww=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},xw=class{constructor(e){this.t=e,this.currentUser=lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i,r=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve(),o=new ut;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ut,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>w(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},a=c=>{E("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(E("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ut)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(E("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(z(typeof i.accessToken=="string"),new np(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return z(e===null||typeof e=="string"),new lt(e)}},Ew=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=lt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Iw=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new Ew(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Dw=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Cw=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let i=o=>{o.error!=null&&E("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,E("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{E("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):E("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(z(typeof n.token=="string"),this.R=n.token,new Dw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function M9(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var ip=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=M9(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=e.charAt(r[o]%e.length))}return i}};function re(t,e){return t<e?-1:t>e?1:0}function Ja(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}function $P(t){return t+"\0"}var Qe=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new x(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new x(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new x(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new x(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var $=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Qe(0,0))}static max(){return new t(new Qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var rp=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&O(),i===void 0?i=e.length-n:i>e.length-n&&O(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let o=e.get(r),s=n.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},we=class t extends rp{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new x(_.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}},R9=/^[_a-zA-Z][_a-zA-Z0-9]*$/,rt=class t extends rp{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return R9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],i="",r=0,o=()=>{if(i.length===0)throw new x(_.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},s=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new x(_.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new x(_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else a==="`"?(s=!s,r++):a!=="."||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new x(_.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var P=class t{constructor(e){this.path=e}static fromPath(e){return new t(we.fromString(e))}static fromName(e){return new t(we.fromString(e).popFirst(5))}static empty(){return new t(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&we.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return we.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new we(e.slice()))}};var ec=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};function Tw(t){return t.fields.find(e=>e.kind===2)}function es(t){return t.fields.filter(e=>e.kind!==2)}ec.UNKNOWN_ID=-1;var Ya=class{constructor(e,n){this.fieldPath=e,this.kind=n}};var Fu=class t{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new t(0,Ln.min())}};function HP(t,e){let n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=$.fromTimestamp(i===1e9?new Qe(n+1,0):new Qe(n,i));return new Ln(r,P.empty(),e)}function qP(t){return new Ln(t.readTime,t.key,-1)}var Ln=class t{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new t($.min(),P.empty(),-1)}static max(){return new t($.max(),P.empty(),-1)}};function bE(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=P.comparator(t.documentKey,e.documentKey),n!==0?n:re(t.largestBatchId,e.largestBatchId))}var GP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",op=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function ro(t){return w(this,null,function*(){if(t.code!==_.FAILED_PRECONDITION||t.message!==GP)throw t;E("LocalStore","Unexpectedly lost primary lease")})}var b=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&O(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,i)=>{n(e)})}static reject(e){return new t((n,i)=>{i(e)})}static waitFor(e){return new t((n,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&n()},c=>i(c))}),s=!0,o===r&&n()})}static or(e){let n=t.resolve(!1);for(let i of e)n=n.next(r=>r?t.resolve(r):i());return n}static forEach(e,n){let i=[];return e.forEach((r,o)=>{i.push(n.call(this,r,o))}),this.waitFor(i)}static mapArray(e,n){return new t((i,r)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;n(e[l]).next(u=>{s[l]=u,++a,a===o&&i(s)},u=>r(u))}})}static doWhile(e,n){return new t((i,r)=>{let o=()=>{e()===!0?n().next(()=>{o()},r):i()};o()})}};var sp=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new ut,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new ss(e,n.error)):this.V.resolve()},this.transaction.onerror=i=>{let r=_E(i.target.error);this.V.reject(new ss(e,r))}}static open(e,n,i,r){try{return new t(n,e.transaction(r,i))}catch(o){throw new ss(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(E("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new Aw(n)}},Kr=class t{constructor(e,n,i){this.name=e,this.version=n,this.p=i,t.S(pd())===12.2&&it("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return E("SimpleDb","Removing database:",e),ts(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!gd())return!1;if(t.C())return!0;let e=pd(),n=t.S(e),i=0<n&&n<10,r=t.v(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(e){let n=e.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(e){return w(this,null,function*(){return this.db||(E("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,i)=>{let r=indexedDB.open(this.name,this.version);r.onsuccess=o=>{let s=o.target.result;n(s)},r.onblocked=()=>{i(new ss(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=o=>{let s=o.target.error;s.name==="VersionError"?i(new x(_.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?i(new x(_.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):i(new ss(e,s))},r.onupgradeneeded=o=>{E("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let s=o.target.result;this.p.N(s,r.transaction,o.oldVersion,this.version).next(()=>{E("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db})}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,i,r){return w(this,null,function*(){let o=n==="readonly",s=0;for(;;){++s;try{this.db=yield this.O(e);let a=sp.open(this.db,e,o?"readonly":"readwrite",i),c=r(a).next(l=>(a.g(),l)).catch(l=>(a.abort(l),b.reject(l))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,l=c.name!=="FirebaseError"&&s<3;if(E("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),this.close(),!l)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}},Sw=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ts(this.k.delete())}},ss=class extends x{constructor(e,n){super(_.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function oo(t){return t.name==="IndexedDbTransactionError"}var Aw=class{constructor(e){this.store=e}put(e,n){let i;return n!==void 0?(E("SimpleDb","PUT",this.store.name,e,n),i=this.store.put(n,e)):(E("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),ts(i)}add(e){return E("SimpleDb","ADD",this.store.name,e,e),ts(this.store.add(e))}get(e){return ts(this.store.get(e)).next(n=>(n===void 0&&(n=null),E("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return E("SimpleDb","DELETE",this.store.name,e),ts(this.store.delete(e))}count(){return E("SimpleDb","COUNT",this.store.name),ts(this.store.count())}W(e,n){let i=this.options(e,n);if(i.index||typeof this.store.getAll!="function"){let r=this.cursor(i),o=[];return this.G(r,(s,a)=>{o.push(a)}).next(()=>o)}{let r=this.store.getAll(i.range);return new b((o,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{o(a.target.result)}})}}j(e,n){let i=this.store.getAll(e,n===null?void 0:n);return new b((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}H(e,n){E("SimpleDb","DELETE ALL",this.store.name);let i=this.options(e,n);i.J=!1;let r=this.cursor(i);return this.G(r,(o,s,a)=>a.delete())}Y(e,n){let i;n?i=e:(i={},n=e);let r=this.cursor(i);return this.G(r,n)}Z(e){let n=this.cursor({});return new b((i,r)=>{n.onerror=o=>{let s=_E(o.target.error);r(s)},n.onsuccess=o=>{let s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}G(e,n){let i=[];return new b((r,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{let a=s.target.result;if(!a)return void r();let c=new Sw(a),l=n(a.primaryKey,a.value,c);if(l instanceof b){let u=l.catch(d=>(c.done(),b.reject(d)));i.push(u)}c.isDone?r():c.$===null?a.continue():a.continue(c.$)}}).next(()=>b.waitFor(i))}options(e,n){let i;return e!==void 0&&(typeof e=="string"?i=e:n=e),{index:i,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let i=this.store.index(e.index);return e.J?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function ts(t){return new b((e,n)=>{t.onsuccess=i=>{let r=i.target.result;e(r)},t.onerror=i=>{let r=_E(i.target.error);n(r)}})}var $1=!1;function _E(t){let e=Kr.S(pd());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let i=new x("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return $1||($1=!0,setTimeout(()=>{throw i},0)),i}}return t}var kw=class{constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ee(e){E("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>w(this,null,function*(){this.task=null;try{E("IndexBackiller",`Documents written: ${yield this.X.te()}`)}catch(n){oo(n)?E("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):yield ro(n)}yield this.ee(6e4)}))}},Mw=class{constructor(e,n){this.localStore=e,this.persistence=n}te(e=50){return w(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.ne(n,e))})}ne(e,n){let i=new Set,r=n,o=!0;return b.doWhile(()=>o===!0&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!i.has(s))return E("IndexBackiller",`Processing collection: ${s}`),this.re(e,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>n-r)}re(e,n,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(r=>this.localStore.localDocuments.getNextDocuments(e,n,r,i).next(o=>{let s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.ie(r,o)).next(a=>(E("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}ie(e,n){let i=e;return n.changes.forEach((r,o)=>{let s=qP(o);bE(s,i)>0&&(i=s)}),new Ln(i.readTime,i.documentKey,Math.max(n.batchId,e.largestBatchId))}};var xn=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function od(t){return t==null}function Ou(t){return t===0&&1/t==-1/0}function WP(t){return typeof t=="number"&&Number.isInteger(t)&&!Ou(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Yt(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=H1(e)),e=P9(t.get(n),e);return H1(e)}function P9(t,e){let n=e,i=t.length;for(let r=0;r<i;r++){let o=t.charAt(r);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function H1(t){return t+""}function Ci(t){let e=t.length;if(z(e>=2),e===2)return z(t.charAt(0)===""&&t.charAt(1)===""),we.emptyPath();let n=e-2,i=[],r="";for(let o=0;o<e;){let s=t.indexOf("",o);switch((s<0||s>n)&&O(),t.charAt(s+1)){case"":let a=t.substring(o,s),c;r.length===0?c=a:(r+=a,c=r,r=""),i.push(c);break;case"":r+=t.substring(o,s),r+="\0";break;case"":r+=t.substring(o,s+1);break;default:O()}o=s+2}return new we(i)}var q1=["userId","batchId"];function Ym(t,e){return[t,Yt(e)]}function KP(t,e,n){return[t,Yt(e),n]}var N9={},F9=["prefixPath","collectionGroup","readTime","documentId"],O9=["prefixPath","collectionGroup","documentId"],L9=["collectionGroup","readTime","prefixPath","documentId"],V9=["canonicalId","targetId"],j9=["targetId","path"],B9=["path","targetId"],U9=["collectionId","parent"],z9=["indexId","uid"],$9=["uid","sequenceNumber"],H9=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],q9=["indexId","uid","orderedDocumentKey"],G9=["userId","collectionPath","documentId"],W9=["userId","collectionPath","largestBatchId"],K9=["userId","collectionGroup","largestBatchId"],QP=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Q9=[...QP,"documentOverlays"],YP=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ZP=YP,Y9=[...ZP,"indexConfiguration","indexState","indexEntries"];var Lu=class extends op{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}};function vt(t,e){let n=F(t);return Kr.M(n.ae,e)}function G1(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _s(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function XP(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ue=class t{constructor(e,n){this.comparator=e,this.root=n||Si.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Si.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Si.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qa(this.root,e,this.comparator,!0)}},Qa=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Si=class t{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,o){return new t(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw O();let e=this.left.check();if(e!==this.right.check())throw O();return e+(this.isRed()?0:1)}};Si.EMPTY=null,Si.RED=!0,Si.BLACK=!1;Si.EMPTY=new class{constructor(){this.size=0}get key(){throw O()}get value(){throw O()}get color(){throw O()}get left(){throw O()}get right(){throw O()}copy(e,n,i,r,o){return this}insert(e,n,i){return new Si(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ne=class t{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ap(this.data.getIterator())}getIteratorFrom(e){return new ap(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},ap=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function Ba(t){return t.hasNext()?t.getNext():void 0}var En=class t{constructor(e){this.fields=e,e.sort(rt.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ne(rt.comparator);for(let i of this.fields)n=n.add(i);for(let i of e)n=n.add(i);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ja(this.fields,e.fields,(n,i)=>n.isEqual(i))}};var cp=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};function JP(){return typeof atob<"u"}var yt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new cp("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};yt.EMPTY_BYTE_STRING=new yt("");var Z9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(t){if(z(!!t),typeof t=="string"){let e=0,n=Z9.exec(t);if(z(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:et(t.seconds),nanos:et(t.nanos)}}function et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Yr(t){return typeof t=="string"?yt.fromBase64String(t):yt.fromUint8Array(t)}function Xp(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function yE(t){let e=t.mapValue.fields.__previous_value__;return Xp(e)?yE(e):e}function Vu(t){let e=Qr(t.mapValue.fields.__local_write_time__.timestampValue);return new Qe(e.seconds,e.nanos)}var Rw=class{constructor(e,n,i,r,o,s,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},Zr=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var qr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Zm={nullValue:"NULL_VALUE"};function as(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Xp(t)?4:eN(t)?9007199254740991:10:O()}function Mi(t,e){if(t===e)return!0;let n=as(t);if(n!==as(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vu(t).isEqual(Vu(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let s=Qr(r.timestampValue),a=Qr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return Yr(r.bytesValue).isEqual(Yr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return et(r.geoPointValue.latitude)===et(o.geoPointValue.latitude)&&et(r.geoPointValue.longitude)===et(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return et(r.integerValue)===et(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let s=et(r.doubleValue),a=et(o.doubleValue);return s===a?Ou(s)===Ou(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Ja(t.arrayValue.values||[],e.arrayValue.values||[],Mi);case 10:return function(r,o){let s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(G1(s)!==G1(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Mi(s[c],a[c])))return!1;return!0}(t,e);default:return O()}}function ju(t,e){return(t.values||[]).find(n=>Mi(n,e))!==void 0}function Xr(t,e){if(t===e)return 0;let n=as(t),i=as(e);if(n!==i)return re(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return re(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=et(o.integerValue||o.doubleValue),c=et(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return W1(t.timestampValue,e.timestampValue);case 4:return W1(Vu(t),Vu(e));case 5:return re(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Yr(o),c=Yr(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let u=re(a[l],c[l]);if(u!==0)return u}return re(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=re(et(o.latitude),et(s.latitude));return a!==0?a:re(et(o.longitude),et(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){let a=o.values||[],c=s.values||[];for(let l=0;l<a.length&&l<c.length;++l){let u=Xr(a[l],c[l]);if(u)return u}return re(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===qr.mapValue&&s===qr.mapValue)return 0;if(o===qr.mapValue)return 1;if(s===qr.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let d=0;d<c.length&&d<u.length;++d){let h=re(c[d],u[d]);if(h!==0)return h;let f=Xr(a[c[d]],l[u[d]]);if(f!==0)return f}return re(c.length,u.length)}(t.mapValue,e.mapValue);default:throw O()}}function W1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return re(t,e);let n=Qr(t),i=Qr(e),r=re(n.seconds,i.seconds);return r!==0?r:re(n.nanos,i.nanos)}function tc(t){return Pw(t)}function Pw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let i=Qr(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Yr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return P.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(let o of n.values||[])r?r=!1:i+=",",i+=Pw(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){let i=Object.keys(n.fields||{}).sort(),r="{",o=!0;for(let s of i)o?o=!1:r+=",",r+=`${s}:${Pw(n.fields[s])}`;return r+"}"}(t.mapValue):O()}function cs(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Nw(t){return!!t&&"integerValue"in t}function Bu(t){return!!t&&"arrayValue"in t}function K1(t){return!!t&&"nullValue"in t}function Q1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xm(t){return!!t&&"mapValue"in t}function ku(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return _s(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=ku(i)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ku(t.arrayValue.values[n]);return e}return Object.assign({},t)}function eN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function X9(t){return"nullValue"in t?Zm:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?cs(Zr.empty(),P.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:O()}function J9(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?cs(Zr.empty(),P.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?qr:O()}function Y1(t,e){let n=Xr(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function Z1(t,e){let n=Xr(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}var jt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Xm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ku(n)}setAll(e){let n=rt.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,i,r),i={},r=[],n=a.popLast()}s?i[a.lastSegment()]=ku(s):r.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(e){let n=this.field(e.popLast());Xm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Xm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){_s(n,(r,o)=>e[r]=o);for(let r of i)delete e[r]}clone(){return new t(ku(this.value))}};function tN(t){let e=[];return _s(t.fields,(n,i)=>{let r=new rt([n]);if(Xm(i)){let o=tN(i.mapValue).fields;if(o.length===0)e.push(r);else for(let s of o)e.push(r.child(s))}else e.push(r)}),new En(e)}var dt=class t{constructor(e,n,i,r,o,s,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,$.min(),$.min(),$.min(),jt.empty(),0)}static newFoundDocument(e,n,i,r){return new t(e,1,n,$.min(),i,r,0)}static newNoDocument(e,n){return new t(e,2,n,$.min(),$.min(),jt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,$.min(),$.min(),jt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual($.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ri=class{constructor(e,n){this.position=e,this.inclusive=n}};function X1(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){let o=e[r],s=t.position[r];if(o.field.isKeyField()?i=P.comparator(P.fromName(s.referenceValue),n.key):i=Xr(s,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function J1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mi(t.position[n],e.position[n]))return!1;return!0}var ls=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function e6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var lp=class{},me=class t extends lp{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new Lw(e,n,i):n==="array-contains"?new Bw(e,i):n==="in"?new up(e,i):n==="not-in"?new Uw(e,i):n==="array-contains-any"?new zw(e,i):new t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new Vw(e,i):new jw(e,i)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Xr(n,this.value)):n!==null&&as(this.value)===as(n)&&this.matchesComparison(Xr(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return O()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Ae=class t extends lp{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return nc(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function nc(t){return t.op==="and"}function Fw(t){return t.op==="or"}function vE(t){return nN(t)&&nc(t)}function nN(t){for(let e of t.filters)if(e instanceof Ae)return!1;return!0}function Ow(t){if(t instanceof me)return t.field.canonicalString()+t.op.toString()+tc(t.value);if(vE(t))return t.filters.map(e=>Ow(e)).join(",");{let e=t.filters.map(n=>Ow(n)).join(",");return`${t.op}(${e})`}}function iN(t,e){return t instanceof me?function(i,r){return r instanceof me&&i.op===r.op&&i.field.isEqual(r.field)&&Mi(i.value,r.value)}(t,e):t instanceof Ae?function(i,r){return r instanceof Ae&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,s,a)=>o&&iN(s,r.filters[a]),!0):!1}(t,e):void O()}function rN(t,e){let n=t.filters.concat(e);return Ae.create(n,t.op)}function oN(t){return t instanceof me?function(n){return`${n.field.canonicalString()} ${n.op} ${tc(n.value)}`}(t):t instanceof Ae?function(n){return n.op.toString()+" {"+n.getFilters().map(oN).join(" ,")+"}"}(t):"Filter"}var Lw=class extends me{constructor(e,n,i){super(e,n,i),this.key=P.fromName(i.referenceValue)}matches(e){let n=P.comparator(e.key,this.key);return this.matchesComparison(n)}},Vw=class extends me{constructor(e,n){super(e,"in",n),this.keys=sN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},jw=class extends me{constructor(e,n){super(e,"not-in",n),this.keys=sN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function sN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>P.fromName(i.referenceValue))}var Bw=class extends me{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Bu(n)&&ju(n.arrayValue,this.value)}},up=class extends me{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&ju(this.value.arrayValue,n)}},Uw=class extends me{constructor(e,n){super(e,"not-in",n)}matches(e){if(ju(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!ju(this.value.arrayValue,n)}},zw=class extends me{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Bu(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>ju(this.value.arrayValue,i))}};var $w=class{constructor(e,n=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}};function Hw(t,e=null,n=[],i=[],r=null,o=null,s=null){return new $w(t,e,n,i,r,o,s)}function us(t){let e=F(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Ow(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),od(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>tc(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>tc(i)).join(",")),e.ce=n}return e.ce}function sd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!e6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!iN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!J1(t.startAt,e.startAt)&&J1(t.endAt,e.endAt)}function dp(t){return P.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function hp(t,e){return t.filters.filter(n=>n instanceof me&&n.field.isEqual(e))}function eP(t,e,n){let i=Zm,r=!0;for(let o of hp(t,e)){let s=Zm,a=!0;switch(o.op){case"<":case"<=":s=X9(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=Zm}Y1({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){let s=n.position[o];Y1({value:i,inclusive:r},{value:s,inclusive:n.inclusive})<0&&(i=s,r=n.inclusive);break}}return{value:i,inclusive:r}}function tP(t,e,n){let i=qr,r=!0;for(let o of hp(t,e)){let s=qr,a=!0;switch(o.op){case">=":case">":s=J9(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=qr}Z1({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){let s=n.position[o];Z1({value:i,inclusive:r},{value:s,inclusive:n.inclusive})>0&&(i=s,r=n.inclusive);break}}return{value:i,inclusive:r}}var ei=class{constructor(e,n=null,i=[],r=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function aN(t,e,n,i,r,o,s,a){return new ei(t,e,n,i,r,o,s,a)}function gc(t){return new ei(t)}function nP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wE(t){return t.collectionGroup!==null}function Za(t){let e=F(t);if(e.le===null){e.le=[];let n=new Set;for(let o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ne(rt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new ls(o,i))}),n.has(rt.keyField().canonicalString())||e.le.push(new ls(rt.keyField(),i))}return e.le}function Zt(t){let e=F(t);return e.he||(e.he=t6(e,Za(t))),e.he}function t6(t,e){if(t.limitType==="F")return Hw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new ls(r.field,o)});let n=t.endAt?new Ri(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Ri(t.startAt.position,t.startAt.inclusive):null;return Hw(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function qw(t,e){let n=t.filters.concat([e]);return new ei(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function fp(t,e,n){return new ei(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ad(t,e){return sd(Zt(t),Zt(e))&&t.limitType===e.limitType}function cN(t){return`${us(Zt(t))}|lt:${t.limitType}`}function qa(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>oN(r)).join(", ")}]`),od(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>tc(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>tc(r)).join(",")),`Target(${i})`}(Zt(t))}; limitType=${t.limitType})`}function cd(t,e){return e.isFoundDocument()&&function(i,r){let o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):P.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,r){for(let o of Za(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,r){for(let o of i.filters)if(!o.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(s,a,c){let l=X1(s,a,c);return s.inclusive?l<=0:l<0}(i.startAt,Za(i),r)||i.endAt&&!function(s,a,c){let l=X1(s,a,c);return s.inclusive?l>=0:l>0}(i.endAt,Za(i),r))}(t,e)}function lN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function uN(t){return(e,n)=>{let i=!1;for(let r of Za(t)){let o=n6(r,e,n);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function n6(t,e,n){let i=t.field.isKeyField()?P.comparator(e.key,n.key):function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?Xr(c,l):O()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return O()}}var Pi=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(let[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){_s(this.inner,(n,i)=>{for(let[r,o]of i)e(r,o)})}isEmpty(){return XP(this.inner)}size(){return this.innerSize}};var i6=new Ue(P.comparator);function ln(){return i6}var dN=new Ue(P.comparator);function Su(...t){let e=dN;for(let n of t)e=e.insert(n.key,n);return e}function hN(t){let e=dN;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Ti(){return Mu()}function fN(){return Mu()}function Mu(){return new Pi(t=>t.toString(),(t,e)=>t.isEqual(e))}var r6=new Ue(P.comparator),o6=new Ne(P.comparator);function ae(...t){let e=o6;for(let n of t)e=e.add(n);return e}var s6=new Ne(re);function xE(){return s6}function mN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ou(e)?"-0":e}}function pN(t){return{integerValue:""+t}}function gN(t,e){return WP(e)?pN(e):mN(t,e)}var ic=class{constructor(){this._=void 0}};function a6(t,e,n){return t instanceof Jr?function(r,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Xp(o)&&(o=yE(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Xi?_N(t,e):t instanceof Ji?yN(t,e):function(r,o){let s=bN(r,o),a=iP(s)+iP(r.Ie);return Nw(s)&&Nw(r.Ie)?pN(a):mN(r.serializer,a)}(t,e)}function c6(t,e,n){return t instanceof Xi?_N(t,e):t instanceof Ji?yN(t,e):n}function bN(t,e){return t instanceof eo?function(i){return Nw(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}var Jr=class extends ic{},Xi=class extends ic{constructor(e){super(),this.elements=e}};function _N(t,e){let n=vN(e);for(let i of t.elements)n.some(r=>Mi(r,i))||n.push(i);return{arrayValue:{values:n}}}var Ji=class extends ic{constructor(e){super(),this.elements=e}};function yN(t,e){let n=vN(e);for(let i of t.elements)n=n.filter(r=>!Mi(r,i));return{arrayValue:{values:n}}}var eo=class extends ic{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function iP(t){return et(t.integerValue||t.doubleValue)}function vN(t){return Bu(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var ds=class{constructor(e,n){this.field=e,this.transform=n}};function l6(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Xi&&r instanceof Xi||i instanceof Ji&&r instanceof Ji?Ja(i.elements,r.elements,Mi):i instanceof eo&&r instanceof eo?Mi(i.Ie,r.Ie):i instanceof Jr&&r instanceof Jr}(t.transform,e.transform)}var Gw=class{constructor(e,n){this.version=e,this.transformResults=n}},tt=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Jm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var rc=class{};function wN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new no(t.key,tt.none()):new to(t.key,t.data,tt.none());{let n=t.data,i=jt.empty(),r=new Ne(rt.comparator);for(let o of e.fields)if(!r.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?i.delete(o):i.set(o,s),r=r.add(o)}return new ti(t.key,i,new En(r.toArray()),tt.none())}}function u6(t,e,n){t instanceof to?function(r,o,s){let a=r.value.clone(),c=oP(r.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ti?function(r,o,s){if(!Jm(r.precondition,o))return void o.convertToUnknownDocument(s.version);let a=oP(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(xN(r)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ru(t,e,n,i){return t instanceof to?function(o,s,a,c){if(!Jm(o.precondition,s))return a;let l=o.value.clone(),u=sP(o.fieldTransforms,c,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,i):t instanceof ti?function(o,s,a,c){if(!Jm(o.precondition,s))return a;let l=sP(o.fieldTransforms,c,s),u=s.data;return u.setAll(xN(o)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,i):function(o,s,a){return Jm(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function d6(t,e){let n=null;for(let i of t.fieldTransforms){let r=e.data.field(i.field),o=bN(i.transform,r||null);o!=null&&(n===null&&(n=jt.empty()),n.set(i.field,o))}return n||null}function rP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Ja(i,r,(o,s)=>l6(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var to=class extends rc{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},ti=class extends rc{constructor(e,n,i,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function xN(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let i=t.data.field(n);e.set(n,i)}}),e}function oP(t,e,n){let i=new Map;z(t.length===n.length);for(let r=0;r<n.length;r++){let o=t[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,c6(s,a,n[r]))}return i}function sP(t,e,n){let i=new Map;for(let r of t){let o=r.transform,s=n.data.field(r.field);i.set(r.field,a6(o,s,e))}return i}var no=class extends rc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Uu=class extends rc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var zu=class{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){let i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(e.key)&&u6(o,e,i[r])}}applyToLocalView(e,n){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(n=Ru(i,e,n,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(n=Ru(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let i=fN();return this.mutations.forEach(r=>{let o=e.get(r.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(r.key)?null:a;let c=wN(s,a);c!==null&&i.set(r.key,c),s.isValidDocument()||s.convertToNoDocument($.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ae())}isEqual(e){return this.batchId===e.batchId&&Ja(this.mutations,e.mutations,(n,i)=>rP(n,i))&&Ja(this.baseMutations,e.baseMutations,(n,i)=>rP(n,i))}},Ww=class t{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){z(e.mutations.length===i.length);let r=function(){return r6}(),o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new t(e,n,i,r)}};var $u=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Kw=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var at,_e;function EN(t){switch(t){default:return O();case _.CANCELLED:case _.UNKNOWN:case _.DEADLINE_EXCEEDED:case _.RESOURCE_EXHAUSTED:case _.INTERNAL:case _.UNAVAILABLE:case _.UNAUTHENTICATED:return!1;case _.INVALID_ARGUMENT:case _.NOT_FOUND:case _.ALREADY_EXISTS:case _.PERMISSION_DENIED:case _.FAILED_PRECONDITION:case _.ABORTED:case _.OUT_OF_RANGE:case _.UNIMPLEMENTED:case _.DATA_LOSS:return!0}}function IN(t){if(t===void 0)return it("GRPC error has no .code"),_.UNKNOWN;switch(t){case at.OK:return _.OK;case at.CANCELLED:return _.CANCELLED;case at.UNKNOWN:return _.UNKNOWN;case at.DEADLINE_EXCEEDED:return _.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return _.RESOURCE_EXHAUSTED;case at.INTERNAL:return _.INTERNAL;case at.UNAVAILABLE:return _.UNAVAILABLE;case at.UNAUTHENTICATED:return _.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return _.INVALID_ARGUMENT;case at.NOT_FOUND:return _.NOT_FOUND;case at.ALREADY_EXISTS:return _.ALREADY_EXISTS;case at.PERMISSION_DENIED:return _.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return _.FAILED_PRECONDITION;case at.ABORTED:return _.ABORTED;case at.OUT_OF_RANGE:return _.OUT_OF_RANGE;case at.UNIMPLEMENTED:return _.UNIMPLEMENTED;case at.DATA_LOSS:return _.DATA_LOSS;default:return O()}}(_e=at||(at={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";var aP=null;function DN(){return new TextEncoder}var h6=new Xo([4294967295,4294967295],0);function cP(t){let e=DN().encode(t),n=new U1;return n.update(e),new Uint8Array(n.digest())}function lP(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Xo([n,i],0),new Xo([r,o],0)]}var Qw=class t{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new os(`Invalid padding: ${n}`);if(i<0)throw new os(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new os(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new os(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Xo.fromNumber(this.Te)}de(e,n,i){let r=e.add(n.multiply(Xo.fromNumber(i)));return r.compare(h6)===1&&(r=new Xo([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=cP(e),[i,r]=lP(n);for(let o=0;o<this.hashCount;o++){let s=this.de(i,r,o);if(!this.Ae(s))return!1}return!0}static create(e,n,i){let r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,r,n);return i.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;let n=cP(e),[i,r]=lP(n);for(let o=0;o<this.hashCount;o++){let s=this.de(i,r,o);this.Re(s)}}Re(e){let n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}},os=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Hu=class t{constructor(e,n,i,r,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){let r=new Map;return r.set(e,qu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new t($.min(),r,new Ue(re),ln(),ae())}},qu=class t{constructor(e,n,i,r,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new t(i,n,ae(),ae(),ae())}};var Xa=class{constructor(e,n,i,r){this.Ve=e,this.removedTargetIds=n,this.key=i,this.me=r}},mp=class{constructor(e,n){this.targetId=e,this.fe=n}},pp=class{constructor(e,n,i=yt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}},gp=class{constructor(){this.ge=0,this.pe=dP(),this.ye=yt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ae(),n=ae(),i=ae();return this.pe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:O()}}),new qu(this.ye,this.we,e,n,i)}Fe(){this.Se=!1,this.pe=dP()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,z(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},Yw=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=ln(),this.Qe=uP(),this.Ke=new Ue(re)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(e.resumeToken));break;default:O()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((i,r)=>{this.je(r)&&n(r)})}Je(e){let n=e.targetId,i=e.fe.count,r=this.Ye(n);if(r){let o=r.target;if(dp(o))if(i===0){let s=new P(o.path);this.We(n,s,dt.newNoDocument(s,$.min()))}else z(i===1);else{let s=this.Ze(n);if(s!==i){let a=this.Xe(e),c=a?this.et(a,e,s):1;if(c!==0){this.He(n);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,l)}aP?.tt(function(u,d,h,f,m){var p,g,y,A,C,R;let B={localCacheCount:u,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},H=d.unchangedNames;return H&&(B.bloomFilter={applied:m===0,hashCount:(p=H?.hashCount)!==null&&p!==void 0?p:0,bitmapLength:(A=(y=(g=H?.bits)===null||g===void 0?void 0:g.bitmap)===null||y===void 0?void 0:y.length)!==null&&A!==void 0?A:0,padding:(R=(C=H?.bits)===null||C===void 0?void 0:C.padding)!==null&&R!==void 0?R:0,mightContain:oe=>{var Ye;return(Ye=f?.mightContain(oe))!==null&&Ye!==void 0&&Ye}}),B}(s,e.fe,this.Le.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=n,s,a;try{s=Yr(i).toUint8Array()}catch(c){if(c instanceof cp)return On("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Qw(s,r,o)}catch(c){return On(c instanceof os?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,i){return n.fe.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){let i=this.Le.getRemoteKeysForTarget(n),r=0;return i.forEach(o=>{let s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),r++)}),r}it(e){let n=new Map;this.ke.forEach((o,s)=>{let a=this.Ye(s);if(a){if(o.current&&dp(a.target)){let c=new P(a.target.path);this.qe.get(c)!==null||this.st(s,c)||this.We(s,c,dt.newNoDocument(c,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let i=ae();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this.Ye(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));let r=new Hu(e,n,this.Ke,this.qe,i);return this.qe=ln(),this.Qe=uP(),this.Ke=new Ue(re),r}Ue(e,n){if(!this.je(e))return;let i=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,i){if(!this.je(e))return;let r=this.ze(e);this.st(e,n)?r.Me(n,1):r.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new gp,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Ne(re),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||E("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new gp),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function uP(){return new Ue(P.comparator)}function dP(){return new Ue(P.comparator)}var f6=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),m6=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),p6=(()=>({and:"AND",or:"OR"}))(),Zw=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Xw(t,e){return t.useProto3Json||od(e)?e:{value:e}}function oc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function g6(t,e){return oc(t,e.toTimestamp())}function ot(t){return z(!!t),$.fromTimestamp(function(n){let i=Qr(n);return new Qe(i.seconds,i.nanos)}(t))}function EE(t,e){return function(i){return new we(["projects",i.projectId,"databases",i.database])}(t).child("documents").child(e).canonicalString()}function TN(t){let e=we.fromString(t);return z(ON(e)),e}function Gu(t,e){return EE(t.databaseId,e.path)}function Ai(t,e){let n=TN(e);if(n.get(1)!==t.databaseId.projectId)throw new x(_.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new x(_.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new P(AN(n))}function Jw(t,e){return EE(t.databaseId,e)}function SN(t){let e=TN(t);return e.length===4?we.emptyPath():AN(e)}function Wu(t){return new we(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function AN(t){return z(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function hP(t,e,n){return{name:Gu(t,e),fields:n.value.mapValue.fields}}function kN(t,e,n){let i=Ai(t,e.name),r=ot(e.updateTime),o=e.createTime?ot(e.createTime):$.min(),s=new jt({mapValue:{fields:e.fields}}),a=dt.newFoundDocument(i,r,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function b6(t,e){return"found"in e?function(i,r){z(!!r.found),r.found.name,r.found.updateTime;let o=Ai(i,r.found.name),s=ot(r.found.updateTime),a=r.found.createTime?ot(r.found.createTime):$.min(),c=new jt({mapValue:{fields:r.found.fields}});return dt.newFoundDocument(o,s,a,c)}(t,e):"missing"in e?function(i,r){z(!!r.missing),z(!!r.readTime);let o=Ai(i,r.missing),s=ot(r.readTime);return dt.newNoDocument(o,s)}(t,e):O()}function _6(t,e){let n;if("targetChange"in e){e.targetChange;let i=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:O()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(l,u){return l.useProto3Json?(z(u===void 0||typeof u=="string"),yt.fromBase64String(u||"")):(z(u===void 0||u instanceof Uint8Array),yt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let u=l.code===void 0?_.UNKNOWN:IN(l.code);return new x(u,l.message||"")}(s);n=new pp(i,r,o,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=Ai(t,i.document.name),o=ot(i.document.updateTime),s=i.document.createTime?ot(i.document.createTime):$.min(),a=new jt({mapValue:{fields:i.document.fields}}),c=dt.newFoundDocument(r,o,s,a),l=i.targetIds||[],u=i.removedTargetIds||[];n=new Xa(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=Ai(t,i.document),o=i.readTime?ot(i.readTime):$.min(),s=dt.newNoDocument(r,o),a=i.removedTargetIds||[];n=new Xa([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=Ai(t,i.document),o=i.removedTargetIds||[];n=new Xa([],o,r,null)}else{if(!("filter"in e))return O();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:o}=i,s=new Kw(r,o),a=i.targetId;n=new mp(a,s)}}return n}function Ku(t,e){let n;if(e instanceof to)n={update:hP(t,e.key,e.value)};else if(e instanceof no)n={delete:Gu(t,e.key)};else if(e instanceof ti)n={update:hP(t,e.key,e.data),updateMask:I6(e.fieldMask)};else{if(!(e instanceof Uu))return O();n={verify:Gu(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,s){let a=s.transform;if(a instanceof Jr)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Xi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ji)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof eo)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw O()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:g6(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:O()}(t,e.precondition)),n}function ex(t,e){let n=e.currentDocument?function(o){return o.updateTime!==void 0?tt.updateTime(ot(o.updateTime)):o.exists!==void 0?tt.exists(o.exists):tt.none()}(e.currentDocument):tt.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,a){let c=null;if("setToServerValue"in a)z(a.setToServerValue==="REQUEST_TIME"),c=new Jr;else if("appendMissingElements"in a){let u=a.appendMissingElements.values||[];c=new Xi(u)}else if("removeAllFromArray"in a){let u=a.removeAllFromArray.values||[];c=new Ji(u)}else"increment"in a?c=new eo(s,a.increment):O();let l=rt.fromServerFormat(a.fieldPath);return new ds(l,c)}(t,r)):[];if(e.update){e.update.name;let r=Ai(t,e.update.name),o=new jt({mapValue:{fields:e.update.fields}});if(e.updateMask){let s=function(c){let l=c.fieldPaths||[];return new En(l.map(u=>rt.fromServerFormat(u)))}(e.updateMask);return new ti(r,o,s,n,i)}return new to(r,o,n,i)}if(e.delete){let r=Ai(t,e.delete);return new no(r,n)}if(e.verify){let r=Ai(t,e.verify);return new Uu(r,n)}return O()}function y6(t,e){return t&&t.length>0?(z(e!==void 0),t.map(n=>function(r,o){let s=r.updateTime?ot(r.updateTime):ot(o);return s.isEqual($.min())&&(s=ot(o)),new Gw(s,r.transformResults||[])}(n,e))):[]}function MN(t,e){return{documents:[Jw(t,e.path)]}}function RN(t,e){let n={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(n.parent=Jw(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Jw(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);let r=function(c){if(c.length!==0)return FN(Ae.create(c,"and"))}(e.filters);r&&(n.structuredQuery.where=r);let o=function(c){if(c.length!==0)return c.map(l=>function(d){return{field:Ga(d.field),direction:w6(d.dir)}}(l))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let s=Xw(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function PN(t){let e=SN(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){z(i===1);let u=n.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=function(d){let h=NN(d);return h instanceof Ae&&vE(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(m){return new ls(Wa(m.field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,od(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,f=d.values||[];return new Ri(f,h)}(n.startAt));let l=null;return n.endAt&&(l=function(d){let h=!d.before,f=d.values||[];return new Ri(f,h)}(n.endAt)),aN(e,r,s,o,a,"F",c,l)}function v6(t,e){let n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return O()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function NN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let i=Wa(n.unaryFilter.field);return me.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=Wa(n.unaryFilter.field);return me.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Wa(n.unaryFilter.field);return me.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Wa(n.unaryFilter.field);return me.create(s,"!=",{nullValue:"NULL_VALUE"});default:return O()}}(t):t.fieldFilter!==void 0?function(n){return me.create(Wa(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return O()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ae.create(n.compositeFilter.filters.map(i=>NN(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return O()}}(n.compositeFilter.op))}(t):O()}function w6(t){return f6[t]}function x6(t){return m6[t]}function E6(t){return p6[t]}function Ga(t){return{fieldPath:t.canonicalString()}}function Wa(t){return rt.fromServerFormat(t.fieldPath)}function FN(t){return t instanceof me?function(n){if(n.op==="=="){if(Q1(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NAN"}};if(K1(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Q1(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NAN"}};if(K1(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(n.field),op:x6(n.op),value:n.value}}}(t):t instanceof Ae?function(n){let i=n.getFilters().map(r=>FN(r));return i.length===1?i[0]:{compositeFilter:{op:E6(n.op),filters:i}}}(t):O()}function I6(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ON(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var sc=class t{constructor(e,n,i,r,o=$.min(),s=$.min(),a=yt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var bp=class{constructor(e){this.ut=e}};function D6(t,e){let n;if(e.document)n=kN(t.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let i=P.fromSegments(e.noDocument.path),r=fs(e.noDocument.readTime);n=dt.newNoDocument(i,r),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return O();{let i=P.fromSegments(e.unknownDocument.path),r=fs(e.unknownDocument.version);n=dt.newUnknownDocument(i,r)}}return e.readTime&&n.setReadTime(function(r){let o=new Qe(r[0],r[1]);return $.fromTimestamp(o)}(e.readTime)),n}function fP(t,e){let n=e.key,i={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:_p(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=function(o,s){return{name:Gu(o,s.key),fields:s.data.value.mapValue.fields,updateTime:oc(o,s.version.toTimestamp()),createTime:oc(o,s.createTime.toTimestamp())}}(t.ut,e);else if(e.isNoDocument())i.noDocument={path:n.path.toArray(),readTime:hs(e.version)};else{if(!e.isUnknownDocument())return O();i.unknownDocument={path:n.path.toArray(),version:hs(e.version)}}return i}function _p(t){let e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function hs(t){let e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function fs(t){let e=new Qe(t.seconds,t.nanoseconds);return $.fromTimestamp(e)}function ns(t,e){let n=(e.baseMutations||[]).map(o=>ex(t.ut,o));for(let o=0;o<e.mutations.length-1;++o){let s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){let a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}let i=e.mutations.map(o=>ex(t.ut,o)),r=Qe.fromMillis(e.localWriteTimeMs);return new zu(e.batchId,r,n,i)}function Au(t){let e=fs(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?fs(t.lastLimboFreeSnapshotVersion):$.min(),i;return i=function(o){return o.documents!==void 0}(t.query)?function(o){return z(o.documents.length===1),Zt(gc(SN(o.documents[0])))}(t.query):function(o){return Zt(PN(o))}(t.query),new sc(i,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,yt.fromBase64String(t.resumeToken))}function LN(t,e){let n=hs(e.snapshotVersion),i=hs(e.lastLimboFreeSnapshotVersion),r;r=dp(e.target)?MN(t.ut,e.target):RN(t.ut,e.target);let o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:us(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function IE(t){let e=PN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?fp(e,e.limit,"L"):e}function gw(t,e){return new $u(e.largestBatchId,ex(t.ut,e.overlayMutation))}function mP(t,e){let n=e.path.lastSegment();return[t,Yt(e.path.popLast()),n]}function pP(t,e,n,i){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:hs(i.readTime),documentKey:Yt(i.documentKey.path),largestBatchId:i.largestBatchId}}var tx=class{getBundleMetadata(e,n){return gP(e).get(n).next(i=>{if(i)return function(o){return{id:o.bundleId,createTime:fs(o.createTime),version:o.version}}(i)})}saveBundleMetadata(e,n){return gP(e).put(function(r){return{bundleId:r.id,createTime:hs(ot(r.createTime)),version:r.version}}(n))}getNamedQuery(e,n){return bP(e).get(n).next(i=>{if(i)return function(o){return{name:o.name,query:IE(o.bundledQuery),readTime:fs(o.readTime)}}(i)})}saveNamedQuery(e,n){return bP(e).put(function(r){return{name:r.name,readTime:hs(ot(r.readTime)),bundledQuery:r.bundledQuery}}(n))}};function gP(t){return vt(t,"bundles")}function bP(t){return vt(t,"namedQueries")}var yp=class t{constructor(e,n){this.serializer=e,this.userId=n}static ct(e,n){let i=n.uid||"";return new t(e,i)}getOverlay(e,n){return Iu(e).get(mP(this.userId,n)).next(i=>i?gw(this.serializer,i):null)}getOverlays(e,n){let i=Ti();return b.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){let r=[];return i.forEach((o,s)=>{let a=new $u(n,s);r.push(this.lt(e,a))}),b.waitFor(r)}removeOverlaysForBatchId(e,n,i){let r=new Set;n.forEach(s=>r.add(Yt(s.getCollectionPath())));let o=[];return r.forEach(s=>{let a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(Iu(e).H("collectionPathOverlayIndex",a))}),b.waitFor(o)}getOverlaysForCollection(e,n,i){let r=Ti(),o=Yt(n),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Iu(e).W("collectionPathOverlayIndex",s).next(a=>{for(let c of a){let l=gw(this.serializer,c);r.set(l.getKey(),l)}return r})}getOverlaysForCollectionGroup(e,n,i,r){let o=Ti(),s,a=IDBKeyRange.bound([this.userId,n,i],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Iu(e).Y({index:"collectionGroupOverlayIndex",range:a},(c,l,u)=>{let d=gw(this.serializer,l);o.size()<r||d.largestBatchId===s?(o.set(d.getKey(),d),s=d.largestBatchId):u.done()}).next(()=>o)}lt(e,n){return Iu(e).put(function(r,o,s){let[a,c,l]=mP(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Ku(r.ut,s.mutation)}}(this.serializer,this.userId,n))}};function Iu(t){return vt(t,"documentOverlays")}var Yi=class{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(et(e.integerValue));else if("doubleValue"in e){let i=et(e.doubleValue);isNaN(i)?this.Tt(n,13):(this.Tt(n,15),Ou(i)?n.Et(0):n.Et(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Tt(n,20),typeof i=="string"?n.dt(i):(n.dt(`${i.seconds||""}`),n.Et(i.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Yr(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.Tt(n,45),n.Et(i.latitude||0),n.Et(i.longitude||0)}else"mapValue"in e?eN(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):O()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){let i=e.fields||{};this.Tt(n,55);for(let r of Object.keys(i))this.At(r,n),this.Pt(i[r],n)}yt(e,n){let i=e.values||[];this.Tt(n,50);for(let r of i)this.Pt(r,n)}ft(e,n){this.Tt(n,37),P.fromName(e).path.forEach(i=>{this.Tt(n,60),this.wt(i,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}};Yi.St=new Yi;function C6(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function _P(t){let e=64-function(i){let r=0;for(let o=0;o<8;++o){let s=C6(255&i[o]);if(r+=s,s!==8)break}return r}(t);return Math.ceil(e/8)}var nx=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){let n=e[Symbol.iterator](),i=n.next();for(;!i.done;)this.Dt(i.value),i=n.next();this.Ct()}vt(e){let n=e[Symbol.iterator](),i=n.next();for(;!i.done;)this.Ft(i.value),i=n.next();this.Mt()}xt(e){for(let n of e){let i=n.charCodeAt(0);if(i<128)this.Dt(i);else if(i<2048)this.Dt(960|i>>>6),this.Dt(128|63&i);else if(n<"\uD800"||"\uDBFF"<n)this.Dt(480|i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i);else{let r=n.codePointAt(0);this.Dt(240|r>>>18),this.Dt(128|63&r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r)}}this.Ct()}Ot(e){for(let n of e){let i=n.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{let r=n.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Nt(e){let n=this.Bt(e),i=_P(n);this.Lt(1+i),this.buffer[this.position++]=255&i;for(let r=n.length-i;r<n.length;++r)this.buffer[this.position++]=255&n[r]}kt(e){let n=this.Bt(e),i=_P(n);this.Lt(1+i),this.buffer[this.position++]=~(255&i);for(let r=n.length-i;r<n.length;++r)this.buffer[this.position++]=~(255&n[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){let n=function(o){let s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),i=(128&n[0])!=0;n[0]^=i?255:128;for(let r=1;r<n.length;++r)n[r]^=i?255:0;return n}Dt(e){let n=255&e;n===0?(this.Qt(0),this.Qt(255)):n===255?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(e){let n=255&e;n===0?(this.$t(0),this.$t(255)):n===255?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){let n=e+this.position;if(n<=this.buffer.length)return;let i=2*this.buffer.length;i<n&&(i=n);let r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}},ix=class{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}},rx=class{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}},is=class{constructor(){this.Wt=new nx,this.Gt=new ix(this.Wt),this.zt=new rx(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return e===0?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}};var rs=class t{constructor(e,n,i,r){this.indexId=e,this.documentKey=n,this.arrayValue=i,this.directionalValue=r}Ht(){let e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,i=new Uint8Array(n);return i.set(this.directionalValue,0),n!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new t(this.indexId,this.documentKey,this.arrayValue,i)}};function Ur(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=yP(t.arrayValue,e.arrayValue),n!==0?n:(n=yP(t.directionalValue,e.directionalValue),n!==0?n:P.comparator(t.documentKey,e.documentKey)))}function yP(t,e){for(let n=0;n<t.length&&n<e.length;++n){let i=t[n]-e[n];if(i!==0)return i}return t.length-e.length}var vp=class{constructor(e){this.Jt=new Ne((n,i)=>rt.comparator(n.field,i.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(let n of e.filters){let i=n;i.isInequality()?this.Jt=this.Jt.add(i):this.Zt.push(i)}}get Xt(){return this.Jt.size>1}en(e){if(z(e.collectionGroup===this.collectionId),this.Xt)return!1;let n=Tw(e);if(n!==void 0&&!this.tn(n))return!1;let i=es(e),r=new Set,o=0,s=0;for(;o<i.length&&this.tn(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Jt.size>0){let a=this.Jt.getIterator().getNext();if(!r.has(a.field.canonicalString())){let c=i[o];if(!this.nn(a,c)||!this.rn(this.Yt[s++],c))return!1}++o}for(;o<i.length;++o){let a=i[o];if(s>=this.Yt.length||!this.rn(this.Yt[s++],a))return!1}return!0}sn(){if(this.Xt)return null;let e=new Ne(rt.comparator),n=[];for(let i of this.Zt)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")n.push(new Ya(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),n.push(new Ya(i.field,0))}for(let i of this.Yt)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),n.push(new Ya(i.field,i.dir==="asc"?0:1)));return new ec(ec.UNKNOWN_ID,this.collectionId,n,Fu.empty())}tn(e){for(let n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;let i=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===i}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}};function VN(t){var e,n;if(z(t instanceof me||t instanceof Ae),t instanceof me){if(t instanceof up){let r=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(o=>me.create(t.field,"==",o)))||[];return Ae.create(r,"or")}return t}let i=t.filters.map(r=>VN(r));return Ae.create(i,t.op)}function T6(t){if(t.getFilters().length===0)return[];let e=ax(VN(t));return z(jN(e)),ox(e)||sx(e)?[e]:e.getFilters()}function ox(t){return t instanceof me}function sx(t){return t instanceof Ae&&vE(t)}function jN(t){return ox(t)||sx(t)||function(n){if(n instanceof Ae&&Fw(n)){for(let i of n.getFilters())if(!ox(i)&&!sx(i))return!1;return!0}return!1}(t)}function ax(t){if(z(t instanceof me||t instanceof Ae),t instanceof me)return t;if(t.filters.length===1)return ax(t.filters[0]);let e=t.filters.map(i=>ax(i)),n=Ae.create(e,t.op);return n=wp(n),jN(n)?n:(z(n instanceof Ae),z(nc(n)),z(n.filters.length>1),n.filters.reduce((i,r)=>DE(i,r)))}function DE(t,e){let n;return z(t instanceof me||t instanceof Ae),z(e instanceof me||e instanceof Ae),n=t instanceof me?e instanceof me?function(r,o){return Ae.create([r,o],"and")}(t,e):vP(t,e):e instanceof me?vP(e,t):function(r,o){if(z(r.filters.length>0&&o.filters.length>0),nc(r)&&nc(o))return rN(r,o.getFilters());let s=Fw(r)?r:o,a=Fw(r)?o:r,c=s.filters.map(l=>DE(l,a));return Ae.create(c,"or")}(t,e),wp(n)}function vP(t,e){if(nc(e))return rN(e,t.getFilters());{let n=e.filters.map(i=>DE(t,i));return Ae.create(n,"or")}}function wp(t){if(z(t instanceof me||t instanceof Ae),t instanceof me)return t;let e=t.getFilters();if(e.length===1)return wp(e[0]);if(nN(t))return t;let n=e.map(r=>wp(r)),i=[];return n.forEach(r=>{r instanceof me?i.push(r):r instanceof Ae&&(r.op===t.op?i.push(...r.filters):i.push(r))}),i.length===1?i[0]:Ae.create(i,t.op)}var cx=class{constructor(){this.on=new Qu}addToCollectionParentIndex(e,n){return this.on.add(n),b.resolve()}getCollectionParents(e,n){return b.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return b.resolve()}deleteFieldIndex(e,n){return b.resolve()}deleteAllFieldIndexes(e){return b.resolve()}createTargetIndexes(e,n){return b.resolve()}getDocumentsMatchingTarget(e,n){return b.resolve(null)}getIndexType(e,n){return b.resolve(0)}getFieldIndexes(e,n){return b.resolve([])}getNextCollectionGroupToUpdate(e){return b.resolve(null)}getMinOffset(e,n){return b.resolve(Ln.min())}getMinOffsetFromCollectionGroup(e,n){return b.resolve(Ln.min())}updateCollectionGroup(e,n,i){return b.resolve()}updateIndexEntries(e,n){return b.resolve()}},Qu=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Ne(we.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Ne(we.comparator)).toArray()}};var Gm=new Uint8Array(0),lx=class{constructor(e,n){this.user=e,this.databaseId=n,this._n=new Qu,this.an=new Pi(i=>us(i),(i,r)=>sd(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this._n.has(n)){let i=n.lastSegment(),r=n.popLast();e.addOnCommittedListener(()=>{this._n.add(n)});let o={collectionId:i,parent:Yt(r)};return wP(e).put(o)}return b.resolve()}getCollectionParents(e,n){let i=[],r=IDBKeyRange.bound([n,""],[$P(n),""],!1,!0);return wP(e).W(r).next(o=>{for(let s of o){if(s.collectionId!==n)break;i.push(Ci(s.parent))}return i})}addFieldIndex(e,n){let i=Du(e),r=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(n);delete r.indexId;let o=i.add(r);if(n.indexState){let s=za(e);return o.next(a=>{s.put(pP(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){let i=Du(e),r=za(e),o=Ua(e);return i.delete(n.indexId).next(()=>r.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let n=Du(e),i=Ua(e),r=za(e);return n.H().next(()=>i.H()).next(()=>r.H())}createTargetIndexes(e,n){return b.forEach(this.un(n),i=>this.getIndexType(e,i).next(r=>{if(r===0||r===1){let o=new vp(i).sn();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){let i=Ua(e),r=!0,o=new Map;return b.forEach(this.un(n),s=>this.cn(e,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=ae(),a=[];return b.forEach(o,(c,l)=>{E("IndexedDbIndexManager",`Using index ${function(C){return`id=${C.indexId}|cg=${C.collectionGroup}|f=${C.fields.map(R=>`${R.fieldPath}:${R.kind}`).join(",")}`}(c)} to execute ${us(n)}`);let u=function(C,R){let B=Tw(R);if(B===void 0)return null;for(let H of hp(C,B.fieldPath))switch(H.op){case"array-contains-any":return H.value.arrayValue.values||[];case"array-contains":return[H.value]}return null}(l,c),d=function(C,R){let B=new Map;for(let H of es(R))for(let oe of hp(C,H.fieldPath))switch(oe.op){case"==":case"in":B.set(H.fieldPath.canonicalString(),oe.value);break;case"not-in":case"!=":return B.set(H.fieldPath.canonicalString(),oe.value),Array.from(B.values())}return null}(l,c),h=function(C,R){let B=[],H=!0;for(let oe of es(R)){let Ye=oe.kind===0?eP(C,oe.fieldPath,C.startAt):tP(C,oe.fieldPath,C.startAt);B.push(Ye.value),H&&(H=Ye.inclusive)}return new Ri(B,H)}(l,c),f=function(C,R){let B=[],H=!0;for(let oe of es(R)){let Ye=oe.kind===0?tP(C,oe.fieldPath,C.endAt):eP(C,oe.fieldPath,C.endAt);B.push(Ye.value),H&&(H=Ye.inclusive)}return new Ri(B,H)}(l,c),m=this.ln(c,l,h),p=this.ln(c,l,f),g=this.hn(c,l,d),y=this.Pn(c.indexId,u,m,h.inclusive,p,f.inclusive,g);return b.forEach(y,A=>i.j(A,n.limit).next(C=>{C.forEach(R=>{let B=P.fromSegments(R.documentKey);s.has(B)||(s=s.add(B),a.push(B))})}))}).next(()=>a)}return b.resolve(null)})}un(e){let n=this.an.get(e);return n||(e.filters.length===0?n=[e]:n=T6(Ae.create(e.filters,"and")).map(i=>Hw(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,n),n)}Pn(e,n,i,r,o,s,a){let c=(n!=null?n.length:1)*Math.max(i.length,o.length),l=c/(n!=null?n.length:1),u=[];for(let d=0;d<c;++d){let h=n?this.In(n[d/l]):Gm,f=this.Tn(e,h,i[d%l],r),m=this.En(e,h,o[d%l],s),p=a.map(g=>this.Tn(e,h,g,!0));u.push(...this.createRange(f,m,p))}return u}Tn(e,n,i,r){let o=new rs(e,P.empty(),n,i);return r?o:o.Ht()}En(e,n,i,r){let o=new rs(e,P.empty(),n,i);return r?o.Ht():o}cn(e,n){let i=new vp(n),r=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let s=null;for(let a of o)i.en(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let i=2,r=this.un(n);return b.forEach(r,o=>this.cn(e,o).next(s=>{s?i!==0&&s.fields.length<function(c){let l=new Ne(rt.comparator),u=!1;for(let d of c.filters)for(let h of d.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?u=!0:l=l.add(h.field));for(let d of c.orderBy)d.field.isKeyField()||(l=l.add(d.field));return l.size+(u?1:0)}(o)&&(i=1):i=0})).next(()=>function(s){return s.limit!==null}(n)&&r.length>1&&i===2?1:i)}dn(e,n){let i=new is;for(let r of es(e)){let o=n.data.field(r.fieldPath);if(o==null)return null;let s=i.jt(r.kind);Yi.St.ht(o,s)}return i.Ut()}In(e){let n=new is;return Yi.St.ht(e,n.jt(0)),n.Ut()}An(e,n){let i=new is;return Yi.St.ht(cs(this.databaseId,n),i.jt(function(o){let s=es(o);return s.length===0?0:s[s.length-1].kind}(e))),i.Ut()}hn(e,n,i){if(i===null)return[];let r=[];r.push(new is);let o=0;for(let s of es(e)){let a=i[o++];for(let c of r)if(this.Rn(n,s.fieldPath)&&Bu(a))r=this.Vn(r,s,a);else{let l=c.jt(s.kind);Yi.St.ht(a,l)}}return this.mn(r)}ln(e,n,i){return this.hn(e,n,i.position)}mn(e){let n=[];for(let i=0;i<e.length;++i)n[i]=e[i].Ut();return n}Vn(e,n,i){let r=[...e],o=[];for(let s of i.arrayValue.values||[])for(let a of r){let c=new is;c.seed(a.Ut()),Yi.St.ht(s,c.jt(n.kind)),o.push(c)}return o}Rn(e,n){return!!e.filters.find(i=>i instanceof me&&i.field.isEqual(n)&&(i.op==="in"||i.op==="not-in"))}getFieldIndexes(e,n){let i=Du(e),r=za(e);return(n?i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):i.W()).next(o=>{let s=[];return b.forEach(o,a=>r.get([a.indexId,this.uid]).next(c=>{s.push(function(u,d){let h=d?new Fu(d.sequenceNumber,new Ln(fs(d.readTime),new P(Ci(d.documentKey)),d.largestBatchId)):Fu.empty(),f=u.fields.map(([m,p])=>new Ya(rt.fromServerFormat(m),p));return new ec(u.indexId,u.collectionGroup,f,h)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((i,r)=>{let o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return o!==0?o:re(i.collectionGroup,r.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,i){let r=Du(e),o=za(e);return this.fn(e).next(s=>r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>b.forEach(a,c=>o.put(pP(c.indexId,this.user,s,i)))))}updateIndexEntries(e,n){let i=new Map;return b.forEach(n,(r,o)=>{let s=i.get(r.collectionGroup);return(s?b.resolve(s):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),b.forEach(a,c=>this.gn(e,r,c).next(l=>{let u=this.pn(o,c);return l.isEqual(u)?b.resolve():this.yn(e,o,c,l,u)}))))})}wn(e,n,i,r){return Ua(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(i,n.key),documentKey:n.key.path.toArray()})}Sn(e,n,i,r){return Ua(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(i,n.key),n.key.path.toArray()])}gn(e,n,i){let r=Ua(e),o=new Ne(Ur);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.An(i,n)])},(s,a)=>{o=o.add(new rs(i.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}pn(e,n){let i=new Ne(Ur),r=this.dn(n,e);if(r==null)return i;let o=Tw(n);if(o!=null){let s=e.data.field(o.fieldPath);if(Bu(s))for(let a of s.arrayValue.values||[])i=i.add(new rs(n.indexId,e.key,this.In(a),r))}else i=i.add(new rs(n.indexId,e.key,Gm,r));return i}yn(e,n,i,r,o){E("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);let s=[];return function(c,l,u,d,h){let f=c.getIterator(),m=l.getIterator(),p=Ba(f),g=Ba(m);for(;p||g;){let y=!1,A=!1;if(p&&g){let C=u(p,g);C<0?A=!0:C>0&&(y=!0)}else p!=null?A=!0:y=!0;y?(d(g),g=Ba(m)):A?(h(p),p=Ba(f)):(p=Ba(f),g=Ba(m))}}(r,o,Ur,a=>{s.push(this.wn(e,n,i,a))},a=>{s.push(this.Sn(e,n,i,a))}),b.waitFor(s)}fn(e){let n=1;return za(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),n=r.sequenceNumber+1}).next(()=>n)}createRange(e,n,i){i=i.sort((s,a)=>Ur(s,a)).filter((s,a,c)=>!a||Ur(s,c[a-1])!==0);let r=[];r.push(e);for(let s of i){let a=Ur(s,e),c=Ur(s,n);if(a===0)r[0]=e.Ht();else if(a>0&&c<0)r.push(s),r.push(s.Ht());else if(c>0)break}r.push(n);let o=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];let a=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,Gm,[]],c=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,Gm,[]];o.push(IDBKeyRange.bound(a,c))}return o}bn(e,n){return Ur(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(xP)}getMinOffset(e,n){return b.mapArray(this.un(n),i=>this.cn(e,i).next(r=>r||O())).next(xP)}};function wP(t){return vt(t,"collectionParents")}function Ua(t){return vt(t,"indexEntries")}function Du(t){return vt(t,"indexConfiguration")}function za(t){return vt(t,"indexState")}function xP(t){z(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let i=1;i<t.length;i++){let r=t[i].indexState.offset;bE(r,e)<0&&(e=r),n<r.largestBatchId&&(n=r.largestBatchId)}return new Ln(e.readTime,e.documentKey,n)}var EP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Fn=class t{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function BN(t,e,n){let i=t.store("mutations"),r=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId),a=0,c=i.Y({range:s},(u,d,h)=>(a++,h.delete()));o.push(c.next(()=>{z(a===1)}));let l=[];for(let u of n.mutations){let d=KP(e,u.key.path,n.batchId);o.push(r.delete(d)),l.push(u.key)}return b.waitFor(o).next(()=>l)}function xp(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw O();e=t.noDocument}return JSON.stringify(e).length}Fn.DEFAULT_COLLECTION_PERCENTILE=10,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fn.DEFAULT=new Fn(41943040,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fn.DISABLED=new Fn(-1,0,0);var Ep=class t{constructor(e,n,i,r){this.userId=e,this.serializer=n,this.indexManager=i,this.referenceDelegate=r,this.Dn={}}static ct(e,n,i,r){z(e.uid!=="");let o=e.isAuthenticated()?e.uid:"";return new t(o,n,i,r)}checkEmpty(e){let n=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return zr(e).Y({index:"userMutationsIndex",range:i},(r,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,i,r){let o=Ka(e),s=zr(e);return s.add({}).next(a=>{z(typeof a=="number");let c=new zu(a,n,i,r),l=function(f,m,p){let g=p.baseMutations.map(A=>Ku(f.ut,A)),y=p.mutations.map(A=>Ku(f.ut,A));return{userId:m,batchId:p.batchId,localWriteTimeMs:p.localWriteTime.toMillis(),baseMutations:g,mutations:y}}(this.serializer,this.userId,c),u=[],d=new Ne((h,f)=>re(h.canonicalString(),f.canonicalString()));for(let h of r){let f=KP(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),u.push(s.put(l)),u.push(o.put(f,N9))}return d.forEach(h=>{u.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Dn[a]=c.keys()}),b.waitFor(u).next(()=>c)})}lookupMutationBatch(e,n){return zr(e).get(n).next(i=>i?(z(i.userId===this.userId),ns(this.serializer,i)):null)}Cn(e,n){return this.Dn[n]?b.resolve(this.Dn[n]):this.lookupMutationBatch(e,n).next(i=>{if(i){let r=i.keys();return this.Dn[n]=r,r}return null})}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=IDBKeyRange.lowerBound([this.userId,i]),o=null;return zr(e).Y({index:"userMutationsIndex",range:r},(s,a,c)=>{a.userId===this.userId&&(z(a.batchId>=i),o=ns(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){let n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return zr(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(e){let n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return zr(e).W("userMutationsIndex",n).next(i=>i.map(r=>ns(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,n){let i=Ym(this.userId,n.path),r=IDBKeyRange.lowerBound(i),o=[];return Ka(e).Y({range:r},(s,a,c)=>{let[l,u,d]=s,h=Ci(u);if(l===this.userId&&n.path.isEqual(h))return zr(e).get(d).next(f=>{if(!f)throw O();z(f.userId===this.userId),o.push(ns(this.serializer,f))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Ne(re),r=[];return n.forEach(o=>{let s=Ym(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=Ka(e).Y({range:a},(l,u,d)=>{let[h,f,m]=l,p=Ci(f);h===this.userId&&o.path.isEqual(p)?i=i.add(m):d.done()});r.push(c)}),b.waitFor(r).next(()=>this.vn(e,i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,o=Ym(this.userId,i),s=IDBKeyRange.lowerBound(o),a=new Ne(re);return Ka(e).Y({range:s},(c,l,u)=>{let[d,h,f]=c,m=Ci(h);d===this.userId&&i.isPrefixOf(m)?m.length===r&&(a=a.add(f)):u.done()}).next(()=>this.vn(e,a))}vn(e,n){let i=[],r=[];return n.forEach(o=>{r.push(zr(e).get(o).next(s=>{if(s===null)throw O();z(s.userId===this.userId),i.push(ns(this.serializer,s))}))}),b.waitFor(r).next(()=>i)}removeMutationBatch(e,n){return BN(e.ae,this.userId,n).next(i=>(e.addOnCommittedListener(()=>{this.Fn(n.batchId)}),b.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return b.resolve();let i=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),r=[];return Ka(e).Y({range:i},(o,s,a)=>{if(o[0]===this.userId){let c=Ci(o[1]);r.push(c)}else a.done()}).next(()=>{z(r.length===0)})})}containsKey(e,n){return UN(e,this.userId,n)}Mn(e){return zN(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function UN(t,e,n){let i=Ym(e,n.path),r=i[1],o=IDBKeyRange.lowerBound(i),s=!1;return Ka(t).Y({range:o,J:!0},(a,c,l)=>{let[u,d,h]=a;u===e&&d===r&&(s=!0),l.done()}).next(()=>s)}function zr(t){return vt(t,"mutations")}function Ka(t){return vt(t,"documentMutations")}function zN(t){return vt(t,"mutationQueues")}var ac=class t{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new t(0)}static Nn(){return new t(-1)}};var ux=class{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{let i=new ac(n.highestTargetId);return n.highestTargetId=i.next(),this.Ln(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>$.fromTimestamp(new Qe(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,i){return this.Bn(e).next(r=>(r.highestListenSequenceNumber=n,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),n>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=n),this.Ln(e,r)))}addTargetData(e,n){return this.kn(e,n).next(()=>this.Bn(e).next(i=>(i.targetCount+=1,this.qn(n,i),this.Ln(e,i))))}updateTargetData(e,n){return this.kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>$a(e).delete(n.targetId)).next(()=>this.Bn(e)).next(i=>(z(i.targetCount>0),i.targetCount-=1,this.Ln(e,i)))}removeTargets(e,n,i){let r=0,o=[];return $a(e).Y((s,a)=>{let c=Au(a);c.sequenceNumber<=n&&i.get(c.targetId)===null&&(r++,o.push(this.removeTargetData(e,c)))}).next(()=>b.waitFor(o)).next(()=>r)}forEachTarget(e,n){return $a(e).Y((i,r)=>{let o=Au(r);n(o)})}Bn(e){return IP(e).get("targetGlobalKey").next(n=>(z(n!==null),n))}Ln(e,n){return IP(e).put("targetGlobalKey",n)}kn(e,n){return $a(e).put(LN(this.serializer,n))}qn(e,n){let i=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,i=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){let i=us(n),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),o=null;return $a(e).Y({range:r,index:"queryTargetsIndex"},(s,a,c)=>{let l=Au(a);sd(n,l.target)&&(o=l,c.done())}).next(()=>o)}addMatchingKeys(e,n,i){let r=[],o=$r(e);return n.forEach(s=>{let a=Yt(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(e,i,s))}),b.waitFor(r)}removeMatchingKeys(e,n,i){let r=$r(e);return b.forEach(n,o=>{let s=Yt(o.path);return b.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,n){let i=$r(e),r=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,n){let i=IDBKeyRange.bound([n],[n+1],!1,!0),r=$r(e),o=ae();return r.Y({range:i,J:!0},(s,a,c)=>{let l=Ci(s[1]),u=new P(l);o=o.add(u)}).next(()=>o)}containsKey(e,n){let i=Yt(n.path),r=IDBKeyRange.bound([i],[$P(i)],!1,!0),o=0;return $r(e).Y({index:"documentTargetsIndex",J:!0,range:r},([s,a],c,l)=>{s!==0&&(o++,l.done())}).next(()=>o>0)}_t(e,n){return $a(e).get(n).next(i=>i?Au(i):null)}};function $a(t){return vt(t,"targets")}function IP(t){return vt(t,"targetGlobal")}function $r(t){return vt(t,"targetDocuments")}function DP([t,e],[n,i]){let r=re(t,n);return r===0?re(e,i):r}var dx=class{constructor(e){this.Qn=e,this.buffer=new Ne(DP),this.Kn=0}$n(){return++this.Kn}Un(e){let n=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{let i=this.buffer.last();DP(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}},hx=class{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Wn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return this.Wn!==null}Gn(e){E("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>w(this,null,function*(){this.Wn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){oo(n)?E("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield ro(n)}yield this.Gn(3e5)}))}},fx=class{constructor(e,n){this.zn=e,this.params=n}calculateTargetCount(e,n){return this.zn.jn(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return b.resolve(xn._e);let i=new dx(n);return this.zn.forEachTarget(e,r=>i.Un(r.sequenceNumber)).next(()=>this.zn.Hn(e,r=>i.Un(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.zn.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(E("LruGarbageCollector","Garbage collection skipped; disabled"),b.resolve(EP)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(E("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),EP):this.Jn(e,n))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,n){let i,r,o,s,a,c,l,u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(E("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),r=this.params.maximumSequenceNumbersToCollect):r=d,s=Date.now(),this.nthSequenceNumber(e,r))).next(d=>(i=d,a=Date.now(),this.removeTargets(e,i,n))).next(d=>(o=d,c=Date.now(),this.removeOrphanedDocuments(e,i))).next(d=>(l=Date.now(),Ha()<=oi.DEBUG&&E("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${r} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${d} documents in `+(l-c)+`ms
Total Duration: ${l-u}ms`),b.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:d})))}};function S6(t,e){return new fx(t,e)}var mx=class{constructor(e,n){this.db=e,this.garbageCollector=S6(this,n)}jn(e){let n=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}Yn(e){let n=0;return this.Hn(e,i=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Hn(e,n){return this.Zn(e,(i,r)=>n(r))}addReference(e,n,i){return Wm(e,i)}removeReference(e,n,i){return Wm(e,i)}removeTargets(e,n,i){return this.db.getTargetCache().removeTargets(e,n,i)}markPotentiallyOrphaned(e,n){return Wm(e,n)}Xn(e,n){return function(r,o){let s=!1;return zN(r).Z(a=>UN(r,a,o).next(c=>(c&&(s=!0),b.resolve(!c)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){let i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[],o=0;return this.Zn(e,(s,a)=>{if(a<=n){let c=this.Xn(e,s).next(l=>{if(!l)return o++,i.getEntry(e,s).next(()=>(i.removeEntry(s,$.min()),$r(e).delete(function(d){return[0,Yt(d.path)]}(s))))});r.push(c)}}).next(()=>b.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,n){let i=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,n){return Wm(e,n)}Zn(e,n){let i=$r(e),r,o=xn._e;return i.Y({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:l})=>{s===0?(o!==xn._e&&n(new P(Ci(r)),o),o=l,r=c):o=xn._e}).next(()=>{o!==xn._e&&n(new P(Ci(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function Wm(t,e){return $r(t).put(function(i,r){return{targetId:0,path:Yt(i.path),sequenceNumber:r}}(e,t.currentSequenceNumber))}var Ip=class{constructor(){this.changes=new Pi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let i=this.changes.get(n);return i!==void 0?b.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var px=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,i){return Jo(e).put(i)}removeEntry(e,n,i){return Jo(e).delete(function(o,s){let a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],_p(s),a[a.length-1]]}(n,i))}updateMetadata(e,n){return this.getMetadata(e).next(i=>(i.byteSize+=n,this.er(e,i)))}getEntry(e,n){let i=dt.newInvalidDocument(n);return Jo(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Cu(n))},(r,o)=>{i=this.tr(n,o)}).next(()=>i)}nr(e,n){let i={size:0,document:dt.newInvalidDocument(n)};return Jo(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Cu(n))},(r,o)=>{i={document:this.tr(n,o),size:xp(o)}}).next(()=>i)}getEntries(e,n){let i=ln();return this.rr(e,n,(r,o)=>{let s=this.tr(r,o);i=i.insert(r,s)}).next(()=>i)}ir(e,n){let i=ln(),r=new Ue(P.comparator);return this.rr(e,n,(o,s)=>{let a=this.tr(o,s);i=i.insert(o,a),r=r.insert(o,xp(s))}).next(()=>({documents:i,sr:r}))}rr(e,n,i){if(n.isEmpty())return b.resolve();let r=new Ne(SP);n.forEach(c=>r=r.add(c));let o=IDBKeyRange.bound(Cu(r.first()),Cu(r.last())),s=r.getIterator(),a=s.getNext();return Jo(e).Y({index:"documentKeyIndex",range:o},(c,l,u)=>{let d=P.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&SP(a,d)<0;)i(a,null),a=s.getNext();a&&a.isEqual(d)&&(i(a,l),a=s.hasNext()?s.getNext():null),a?u.U(Cu(a)):u.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,i,r,o){let s=n.path,a=[s.popLast().toArray(),s.lastSegment(),_p(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Jo(e).W(IDBKeyRange.bound(a,c,!0)).next(l=>{o?.incrementDocumentReadCount(l.length);let u=ln();for(let d of l){let h=this.tr(P.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);h.isFoundDocument()&&(cd(n,h)||r.has(h.key))&&(u=u.insert(h.key,h))}return u})}getAllFromCollectionGroup(e,n,i,r){let o=ln(),s=TP(n,i),a=TP(n,Ln.max());return Jo(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,l,u)=>{let d=this.tr(P.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(d.key,d),o.size===r&&u.done()}).next(()=>o)}newChangeBuffer(e){return new gx(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return CP(e).get("remoteDocumentGlobalKey").next(n=>(z(!!n),n))}er(e,n){return CP(e).put("remoteDocumentGlobalKey",n)}tr(e,n){if(n){let i=D6(this.serializer,n);if(!(i.isNoDocument()&&i.version.isEqual($.min())))return i}return dt.newInvalidDocument(e)}};function $N(t){return new px(t)}var gx=class extends Ip{constructor(e,n){super(),this._r=e,this.trackRemovals=n,this.ar=new Pi(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){let n=[],i=0,r=new Ne((o,s)=>re(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{let a=this.ar.get(o);if(n.push(this._r.removeEntry(e,o,a.readTime)),s.isValidDocument()){let c=fP(this._r.serializer,s);r=r.add(o.path.popLast());let l=xp(c);i+=l-a.size,n.push(this._r.addEntry(e,o,c))}else if(i-=a.size,this.trackRemovals){let c=fP(this._r.serializer,s.convertToNoDocument($.min()));n.push(this._r.addEntry(e,o,c))}}),r.forEach(o=>{n.push(this._r.indexManager.addToCollectionParentIndex(e,o))}),n.push(this._r.updateMetadata(e,i)),b.waitFor(n)}getFromCache(e,n){return this._r.nr(e,n).next(i=>(this.ar.set(n,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,n){return this._r.ir(e,n).next(({documents:i,sr:r})=>(r.forEach((o,s)=>{this.ar.set(o,{size:s,readTime:i.get(o).readTime})}),i))}};function CP(t){return vt(t,"remoteDocumentGlobal")}function Jo(t){return vt(t,"remoteDocumentsV14")}function Cu(t){let e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function TP(t,e){let n=e.documentKey.path.toArray();return[t,_p(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function SP(t,e){let n=t.path.toArray(),i=e.path.toArray(),r=0;for(let o=0;o<n.length-2&&o<i.length-2;++o)if(r=re(n[o],i[o]),r)return r;return r=re(n.length,i.length),r||(r=re(n[n.length-2],i[i.length-2]),r||re(n[n.length-1],i[i.length-1]))}var bx=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Dp=class{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Ru(i.mutation,r,En.empty(),Qe.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ae()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ae()){let r=Ti();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(o=>{let s=Su();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let i=Ti();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ae()))}populateOverlays(e,n,i){let r=[];return i.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,i,r){let o=ln(),s=Mu(),a=function(){return Mu()}();return n.forEach((c,l)=>{let u=i.get(l.key);r.has(l.key)&&(u===void 0||u.mutation instanceof ti)?o=o.insert(l.key,l):u!==void 0?(s.set(l.key,u.mutation.getFieldMask()),Ru(u.mutation,l,u.mutation.getFieldMask(),Qe.now())):s.set(l.key,En.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,u)=>s.set(l,u)),n.forEach((l,u)=>{var d;return a.set(l,new bx(u,(d=s.get(l))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let i=Mu(),r=new Ue((s,a)=>s-a),o=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=n.get(c);if(l===null)return;let u=i.get(c)||En.empty();u=a.applyToLocalView(l,u),i.set(c,u);let d=(r.get(a.batchId)||ae()).add(c);r=r.insert(a.batchId,d)})}).next(()=>{let s=[],a=r.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,u=c.value,d=fN();u.forEach(h=>{if(!o.has(h)){let f=wN(n.get(h),i.get(h));f!==null&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,d))}return b.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(s){return P.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(o=>{let s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-o.size):b.resolve(Ti()),a=-1,c=o;return s.next(l=>b.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(u)?b.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{c=c.insert(u,h)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,ae())).next(u=>({batchId:a,changes:hN(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new P(n)).next(i=>{let r=Su();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){let o=n.collectionGroup,s=Su();return this.indexManager.getCollectionParents(e,o).next(a=>b.forEach(a,c=>{let l=function(d,h){return new ei(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,i,r).next(u=>{u.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,r))).next(s=>{o.forEach((c,l)=>{let u=l.getKey();s.get(u)===null&&(s=s.insert(u,dt.newInvalidDocument(u)))});let a=Su();return s.forEach((c,l)=>{let u=o.get(c);u!==void 0&&Ru(u.mutation,l,En.empty(),Qe.now()),cd(n,l)&&(a=a.insert(c,l))}),a})}};var _x=class{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return b.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(r){return{id:r.id,version:r.version,createTime:ot(r.createTime)}}(n)),b.resolve()}getNamedQuery(e,n){return b.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(r){return{name:r.name,query:IE(r.bundledQuery),readTime:ot(r.readTime)}}(n)),b.resolve()}};var yx=class{constructor(){this.overlays=new Ue(P.comparator),this.lr=new Map}getOverlay(e,n){return b.resolve(this.overlays.get(n))}getOverlays(e,n){let i=Ti();return b.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,o)=>{this.lt(e,n,o)}),b.resolve()}removeOverlaysForBatchId(e,n,i){let r=this.lr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(i)),b.resolve()}getOverlaysForCollection(e,n,i){let r=Ti(),o=n.length+1,s=new P(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>i&&r.set(c.getKey(),c)}return b.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let o=new Ue((l,u)=>l-u),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>i){let u=o.get(l.largestBatchId);u===null&&(u=Ti(),o=o.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}let a=Ti(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=r)););return b.resolve(a)}lt(e,n,i){let r=this.overlays.get(i.key);if(r!==null){let s=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new $u(n,i));let o=this.lr.get(n);o===void 0&&(o=ae(),this.lr.set(n,o)),this.lr.set(n,o.add(i.key))}};var Yu=class{constructor(){this.hr=new Ne(ct.Pr),this.Ir=new Ne(ct.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){let i=new ct(e,n);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.dr(new ct(e,n))}Ar(e,n){e.forEach(i=>this.removeReference(i,n))}Rr(e){let n=new P(new we([])),i=new ct(n,e),r=new ct(n,e+1),o=[];return this.Ir.forEachInRange([i,r],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){let n=new P(new we([])),i=new ct(n,e),r=new ct(n,e+1),o=ae();return this.Ir.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new ct(e,0),i=this.hr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}},ct=class{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return P.comparator(e.key,n.key)||re(e.gr,n.gr)}static Tr(e,n){return re(e.gr,n.gr)||P.comparator(e.key,n.key)}};var vx=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Ne(ct.Pr)}checkEmpty(e){return b.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){let o=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new zu(o,n,i,r);this.mutationQueue.push(s);for(let a of r)this.yr=this.yr.add(new ct(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return b.resolve(s)}lookupMutationBatch(e,n){return b.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=this.Sr(i),o=r<0?0:r;return b.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return b.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return b.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let i=new ct(n,0),r=new ct(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([i,r],s=>{let a=this.wr(s.gr);o.push(a)}),b.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Ne(re);return n.forEach(r=>{let o=new ct(r,0),s=new ct(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{i=i.add(a.gr)})}),b.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,o=i;P.isDocumentKey(o)||(o=o.child(""));let s=new ct(new P(o),0),a=new Ne(re);return this.yr.forEachWhile(c=>{let l=c.key.path;return!!i.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.gr)),!0)},s),b.resolve(this.br(a))}br(e){let n=[];return e.forEach(i=>{let r=this.wr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){z(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.yr;return b.forEach(n.mutations,r=>{let o=new ct(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,n){let i=new ct(n,0),r=this.yr.firstAfterOrEqual(i);return b.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,b.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){let n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var wx=class{constructor(e){this.Cr=e,this.docs=function(){return new Ue(P.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let i=n.key,r=this.docs.get(i),o=r?r.size:0,s=this.Cr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let i=this.docs.get(n);return b.resolve(i?i.document.mutableCopy():dt.newInvalidDocument(n))}getEntries(e,n){let i=ln();return n.forEach(r=>{let o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():dt.newInvalidDocument(r))}),b.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let o=ln(),s=n.path,a=new P(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:u}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||bE(qP(u),i)<=0||(r.has(u.key)||cd(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return b.resolve(o)}getAllFromCollectionGroup(e,n,i,r){O()}vr(e,n){return b.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new xx(this)}getSize(e){return b.resolve(this.size)}},xx=class extends Ip{constructor(e){super(),this._r=e}applyChanges(e){let n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this._r.addEntry(e,r)):this._r.removeEntry(i)}),b.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}};var Ex=class{constructor(e){this.persistence=e,this.Fr=new Pi(n=>us(n),sd),this.lastRemoteSnapshotVersion=$.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Yu,this.targetCount=0,this.Nr=ac.On()}forEachTarget(e,n){return this.Fr.forEach((i,r)=>n(r)),b.resolve()}getLastRemoteSnapshotVersion(e){return b.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return b.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),b.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Mr&&(this.Mr=n),b.resolve()}kn(e){this.Fr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Nr=new ac(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,b.resolve()}updateTargetData(e,n){return this.kn(n),b.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,b.resolve()}removeTargets(e,n,i){let r=0,o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),b.waitFor(o).next(()=>r)}getTargetCount(e){return b.resolve(this.targetCount)}getTargetData(e,n){let i=this.Fr.get(n)||null;return b.resolve(i)}addMatchingKeys(e,n,i){return this.Or.Er(n,i),b.resolve()}removeMatchingKeys(e,n,i){this.Or.Ar(n,i);let r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),b.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),b.resolve()}getMatchingKeysForTargetId(e,n){let i=this.Or.mr(n);return b.resolve(i)}containsKey(e,n){return b.resolve(this.Or.containsKey(n))}};var Cp=class{constructor(e,n){this.Br={},this.overlays={},this.Lr=new xn(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Ex(this),this.indexManager=new cx,this.remoteDocumentCache=function(r){return new wx(r)}(i=>this.referenceDelegate.Qr(i)),this.serializer=new bp(n),this.Kr=new _x(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new yx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new vx(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,i){E("MemoryPersistence","Starting transaction:",e);let r=new Ix(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(o=>this.referenceDelegate.Ur(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Wr(e,n){return b.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}},Ix=class extends op{constructor(e){super(),this.currentSequenceNumber=e}},Tp=class t{constructor(e){this.persistence=e,this.Gr=new Yu,this.zr=null}static jr(e){return new t(e)}get Hr(){if(this.zr)return this.zr;throw O()}addReference(e,n,i){return this.Gr.addReference(i,n),this.Hr.delete(i.toString()),b.resolve()}removeReference(e,n,i){return this.Gr.removeReference(i,n),this.Hr.add(i.toString()),b.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),b.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(r=>this.Hr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(o=>this.Hr.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return b.forEach(this.Hr,i=>{let r=P.fromPath(i);return this.Jr(e,r).next(o=>{o||n.removeEntry(r,$.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(i=>{i?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return b.or([()=>b.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}};var Dx=class{constructor(e){this.serializer=e}N(e,n,i,r){let o=new sp("createOrUpgrade",n);i<1&&r>=1&&(function(c){c.createObjectStore("owner")}(e),function(c){c.createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",q1,{unique:!0}),c.createObjectStore("documentMutations")}(e),AP(e),function(c){c.createObjectStore("remoteDocuments")}(e));let s=b.resolve();return i<3&&r>=3&&(i!==0&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),AP(e)),s=s.next(()=>function(c){let l=c.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:$.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",u)}(o))),i<4&&r>=4&&(i!==0&&(s=s.next(()=>function(c,l){return l.store("mutations").W().next(u=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",q1,{unique:!0});let d=l.store("mutations"),h=u.map(f=>d.put(f));return b.waitFor(h)})}(e,o))),s=s.next(()=>{(function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),i<5&&r>=5&&(s=s.next(()=>this.Zr(o))),i<6&&r>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(o)))),i<7&&r>=7&&(s=s.next(()=>this.ei(o))),i<8&&r>=8&&(s=s.next(()=>this.ti(e,o))),i<9&&r>=9&&(s=s.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),i<10&&r>=10&&(s=s.next(()=>this.ni(o))),i<11&&r>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(s=s.next(()=>{(function(c){let l=c.createObjectStore("documentOverlays",{keyPath:G9});l.createIndex("collectionPathOverlayIndex",W9,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",K9,{unique:!1})})(e)})),i<13&&r>=13&&(s=s.next(()=>function(c){let l=c.createObjectStore("remoteDocumentsV14",{keyPath:F9});l.createIndex("documentKeyIndex",O9),l.createIndex("collectionGroupIndex",L9)}(e)).next(()=>this.ri(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.ii(e,o))),i<15&&r>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:z9}).createIndex("sequenceNumberIndex",$9,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:H9}).createIndex("documentKeyIndex",q9,{unique:!1})}(e))),s}Xr(e){let n=0;return e.store("remoteDocuments").Y((i,r)=>{n+=xp(r)}).next(()=>{let i={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Zr(e){let n=e.store("mutationQueues"),i=e.store("mutations");return n.W().next(r=>b.forEach(r,o=>{let s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",s).next(a=>b.forEach(a,c=>{z(c.userId===o.userId);let l=ns(this.serializer,c);return BN(e,o.userId,l).next(()=>{})}))}))}ei(e){let n=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{let o=[];return i.Y((s,a)=>{let c=new we(s),l=function(d){return[0,Yt(d)]}(c);o.push(n.get(l).next(u=>u?b.resolve():(d=>n.put({targetId:0,path:Yt(d),sequenceNumber:r.highestListenSequenceNumber}))(c)))}).next(()=>b.waitFor(o))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:U9});let i=n.store("collectionParents"),r=new Qu,o=s=>{if(r.add(s)){let a=s.lastSegment(),c=s.popLast();return i.put({collectionId:a,parent:Yt(c)})}};return n.store("remoteDocuments").Y({J:!0},(s,a)=>{let c=new we(s);return o(c.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([s,a,c],l)=>{let u=Ci(a);return o(u.popLast())}))}ni(e){let n=e.store("targets");return n.Y((i,r)=>{let o=Au(r),s=LN(this.serializer,o);return n.put(s)})}ri(e,n){let i=n.store("remoteDocuments"),r=[];return i.Y((o,s)=>{let a=n.store("remoteDocumentsV14"),c=function(d){return d.document?new P(we.fromString(d.document.name).popFirst(5)):d.noDocument?P.fromSegments(d.noDocument.path):d.unknownDocument?P.fromSegments(d.unknownDocument.path):O()}(s).path.toArray(),l={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};r.push(a.put(l))}).next(()=>b.waitFor(r))}ii(e,n){let i=n.store("mutations"),r=$N(this.serializer),o=new Cp(Tp.jr,this.serializer.ut);return i.W().next(s=>{let a=new Map;return s.forEach(c=>{var l;let u=(l=a.get(c.userId))!==null&&l!==void 0?l:ae();ns(this.serializer,c).keys().forEach(d=>u=u.add(d)),a.set(c.userId,u)}),b.forEach(a,(c,l)=>{let u=new lt(l),d=yp.ct(this.serializer,u),h=o.getIndexManager(u),f=Ep.ct(u,this.serializer,h,o.referenceDelegate);return new Dp(r,f,d,h).recalculateAndSaveOverlaysForDocumentKeys(new Lu(n,xn._e),c).next()})})}};function AP(t){t.createObjectStore("targetDocuments",{keyPath:j9}).createIndex("documentTargetsIndex",B9,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",V9,{unique:!0}),t.createObjectStore("targetGlobal")}var bw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Cx=class t{constructor(e,n,i,r,o,s,a,c,l,u,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.si=o,this.window=s,this.document=a,this.oi=l,this._i=u,this.ai=d,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=h=>Promise.resolve(),!t.D())throw new x(_.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new mx(this,r),this.Ii=n+"main",this.serializer=new bp(c),this.Ti=new Kr(this.Ii,this.ai,new Dx(this.serializer)),this.qr=new ux(this.referenceDelegate,this.serializer),this.remoteDocumentCache=$N(this.serializer),this.Kr=new tx,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,u===!1&&it("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new x(_.FAILED_PRECONDITION,bw);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new xn(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){return this.Pi=n=>w(this,null,function*(){if(this.started)return e(n)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(n=>w(this,null,function*(){n.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget(()=>w(this,null,function*(){this.started&&(yield this.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Km(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(n=>this.isPrimary&&!n?this.pi(e).next(()=>!1):!!n&&this.yi(e).next(()=>!0))).catch(e=>{if(oo(e))return E("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return E("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return Tu(e).get("owner").next(n=>b.resolve(this.wi(n)))}Si(e){return Km(e).delete(this.clientId)}bi(){return w(this,null,function*(){if(this.isPrimary&&!this.Di(this.hi,18e5)){this.hi=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{let i=vt(n,"clientMetadata");return i.W().next(r=>{let o=this.Ci(r,18e5),s=r.filter(a=>o.indexOf(a)===-1);return b.forEach(s,a=>i.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.Ei)for(let n of e)this.Ei.removeItem(this.vi(n.clientId))}})}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?b.resolve(!0):Tu(e).get("owner").next(n=>{if(n!==null&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new x(_.FAILED_PRECONDITION,bw);return!1}}return!(!this.networkEnabled||!this.inForeground)||Km(e).W().next(i=>this.Ci(i,5e3).find(r=>{if(this.clientId!==r.clientId){let o=!this.networkEnabled&&r.networkEnabled,s=!this.inForeground&&r.inForeground,a=this.networkEnabled===r.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&E("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){return w(this,null,function*(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),yield this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let n=new Lu(e,xn._e);return this.pi(n).next(()=>this.Si(n))}),this.Ti.close(),this.Ni()})}Ci(e,n){return e.filter(i=>this.Di(i.updateTimeMs,n)&&!this.Fi(i.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Km(e).W().next(n=>this.Ci(n,18e5).map(i=>i.clientId)))}get started(){return this.kr}getMutationQueue(e,n){return Ep.ct(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new lx(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return yp.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,n,i){E("IndexedDbPersistence","Starting transaction:",e);let r=n==="readonly"?"readonly":"readwrite",o=function(c){return c===15?Y9:c===14?ZP:c===13?YP:c===12?Q9:c===11?QP:void O()}(this.ai),s;return this.Ti.runTransaction(e,r,o,a=>(s=new Lu(a,this.Lr?this.Lr.next():xn._e),n==="readwrite-primary"?this.fi(s).next(c=>!!c||this.gi(s)).next(c=>{if(!c)throw it(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new x(_.FAILED_PRECONDITION,GP);return i(s)}).next(c=>this.yi(s).next(()=>c)):this.Li(s).next(()=>i(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Li(e){return Tu(e).get("owner").next(n=>{if(n!==null&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new x(_.FAILED_PRECONDITION,bw)})}yi(e){let n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Tu(e).put("owner",n)}static D(){return Kr.D()}pi(e){let n=Tu(e);return n.get("owner").next(i=>this.wi(i)?(E("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):b.resolve())}Di(e,n){let i=Date.now();return!(e<i-n)&&(!(e>i)||(it(`Detected an update time that is in the future: ${e} > ${i}`),!1))}Ai(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground=this.document.visibilityState==="visible")}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ui=()=>{this.Mi();let n=/(?:Version|Mobile)\/1[456]/;wI()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var n;try{let i=((n=this.Ei)===null||n===void 0?void 0:n.getItem(this.vi(e)))!==null;return E("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return it("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){it("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function Tu(t){return vt(t,"owner")}function Km(t){return vt(t,"clientMetadata")}function CE(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Tx=class t{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.ki=i,this.qi=r}static Qi(e,n){let i=ae(),r=ae();for(let o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new t(e,n.fromCache,i,r)}};var Sx=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Sp=class{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,i,r){let o={result:null};return this.zi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,n,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Sx;return this.Hi(e,n,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,n,s,a.size)})}).next(()=>o.result)}Ji(e,n,i,r){return i.documentReadCount<this.Ui?(Ha()<=oi.DEBUG&&E("QueryEngine","SDK will not create cache indexes for query:",qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),b.resolve()):(Ha()<=oi.DEBUG&&E("QueryEngine","Query:",qa(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(Ha()<=oi.DEBUG&&E("QueryEngine","The SDK decides to create cache indexes for query:",qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zt(n))):b.resolve())}zi(e,n){if(nP(n))return b.resolve(null);let i=Zt(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=fp(n,null,"F"),i=Zt(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{let s=ae(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{let l=this.Yi(n,a);return this.Zi(n,l,s,c.readTime)?this.zi(e,fp(n,null,"F")):this.Xi(e,l,n,c)}))})))}ji(e,n,i,r){return nP(n)||r.isEqual($.min())?b.resolve(null):this.Gi.getDocuments(e,i).next(o=>{let s=this.Yi(n,o);return this.Zi(n,s,i,r)?b.resolve(null):(Ha()<=oi.DEBUG&&E("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),qa(n)),this.Xi(e,s,n,HP(r,-1)).next(a=>a))})}Yi(e,n){let i=new Ne(uN(e));return n.forEach((r,o)=>{cd(e,o)&&(i=i.add(o))}),i}Zi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Hi(e,n,i){return Ha()<=oi.DEBUG&&E("QueryEngine","Using full collection scan to execute query:",qa(n)),this.Gi.getDocumentsMatchingQuery(e,n,Ln.min(),i)}Xi(e,n,i,r){return this.Gi.getDocumentsMatchingQuery(e,i,r).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Ax=class{constructor(e,n,i,r){this.persistence=e,this.es=n,this.serializer=r,this.ts=new Ue(re),this.ns=new Pi(o=>us(o),sd),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dp(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}};function HN(t,e,n,i){return new Ax(t,e,n,i)}function qN(t,e){return w(this,null,function*(){let n=F(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,n.os(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{let s=[],a=[],c=ae();for(let l of r){s.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}for(let l of o){a.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(i,c).next(l=>({_s:l,removedBatchIds:s,addedBatchIds:a}))})})})}function A6(t,e){let n=F(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){let d=l.batch,h=d.keys(),f=b.resolve();return h.forEach(m=>{f=f.next(()=>u.getEntry(c,m)).next(p=>{let g=l.docVersions.get(m);z(g!==null),p.version.compareTo(g)<0&&(d.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),u.addEntry(p)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=ae();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function GN(t){let e=F(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function k6(t,e){let n=F(t),i=e.snapshotVersion,r=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.ss.newChangeBuffer({trackRemovals:!0});r=n.ts;let a=[];e.targetChanges.forEach((u,d)=>{let h=r.get(d);if(!h)return;a.push(n.qr.removeMatchingKeys(o,u.removedDocuments,d).next(()=>n.qr.addMatchingKeys(o,u.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(yt.EMPTY_BYTE_STRING,$.min()).withLastLimboFreeSnapshotVersion($.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,i)),r=r.insert(d,f),function(p,g,y){return p.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,f,u)&&a.push(n.qr.updateTargetData(o,f))});let c=ln(),l=ae();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(WN(o,s,e.documentUpdates).next(u=>{c=u.us,l=u.cs})),!i.isEqual($.min())){let u=n.qr.getLastRemoteSnapshotVersion(o).next(d=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(u)}return b.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(n.ts=r,o))}function WN(t,e,n){let i=ae(),r=ae();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let s=ln();return n.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual($.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):E("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{us:s,cs:r}})}function M6(t,e){let n=F(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function cc(t,e){let n=F(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.qr.getTargetData(i,e).next(o=>o?(r=o,b.resolve(r)):n.qr.allocateTargetId(i).next(s=>(r=new sc(e,s,"TargetPurposeListen",i.currentSequenceNumber),n.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=n.ts.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(i.targetId,i),n.ns.set(e,i.targetId)),i})}function lc(t,e,n){return w(this,null,function*(){let i=F(t),r=i.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!oo(s))throw s;E("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.ts=i.ts.remove(e),i.ns.delete(r.target)})}function Ap(t,e,n){let i=F(t),r=$.min(),o=ae();return i.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,u){let d=F(c),h=d.ns.get(u);return h!==void 0?b.resolve(d.ts.get(h)):d.qr.getTargetData(l,u)}(i,s,Zt(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>i.es.getDocumentsMatchingQuery(s,e,n?r:$.min(),n?o:ae())).next(a=>(YN(i,lN(e),a),{documents:a,ls:o})))}function KN(t,e){let n=F(t),i=F(n.qr),r=n.ts.get(e);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",o=>i._t(o,e).next(s=>s?s.target:null))}function QN(t,e){let n=F(t),i=n.rs.get(e)||$.min();return n.persistence.runTransaction("Get new document changes","readonly",r=>n.ss.getAllFromCollectionGroup(r,e,HP(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(YN(n,e,r),r))}function YN(t,e,n){let i=t.rs.get(e)||$.min();n.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.rs.set(e,i)}function R6(t,e,n,i){return w(this,null,function*(){let r=F(t),o=ae(),s=ln();for(let l of n){let u=e.hs(l.metadata.name);l.document&&(o=o.add(u));let d=e.Ps(l);d.setReadTime(e.Is(l.metadata.readTime)),s=s.insert(u,d)}let a=r.ss.newChangeBuffer({trackRemovals:!0}),c=yield cc(r,function(u){return Zt(gc(we.fromString(`__bundle__/docs/${u}`)))}(i));return r.persistence.runTransaction("Apply bundle documents","readwrite",l=>WN(l,a,s).next(u=>(a.apply(l),u)).next(u=>r.qr.removeMatchingKeysForTargetId(l,c.targetId).next(()=>r.qr.addMatchingKeys(l,o,c.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(l,u.us,u.cs)).next(()=>u.us)))})}function P6(i,r){return w(this,arguments,function*(t,e,n=ae()){let o=yield cc(t,Zt(IE(e.bundledQuery))),s=F(t);return s.persistence.runTransaction("Save named query","readwrite",a=>{let c=ot(e.readTime);if(o.snapshotVersion.compareTo(c)>=0)return s.Kr.saveNamedQuery(a,e);let l=o.withResumeToken(yt.EMPTY_BYTE_STRING,c);return s.ts=s.ts.insert(l.targetId,l),s.qr.updateTargetData(a,l).next(()=>s.qr.removeMatchingKeysForTargetId(a,o.targetId)).next(()=>s.qr.addMatchingKeys(a,n,o.targetId)).next(()=>s.Kr.saveNamedQuery(a,e))})})}function kP(t,e){return`firestore_clients_${t}_${e}`}function MP(t,e,n){let i=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function _w(t,e){return`firestore_targets_${t}_${e}`}var kp=class t{constructor(e,n,i,r){this.user=e,this.batchId=n,this.state=i,this.error=r}static Ts(e,n,i){let r=JSON.parse(i),o,s=typeof r=="object"&&["pending","acknowledged","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(o=new x(r.error.code,r.error.message))),s?new t(e,n,r.state,o):(it("SharedClientState",`Failed to parse mutation state for ID '${n}': ${i}`),null)}Es(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Pu=class t{constructor(e,n,i){this.targetId=e,this.state=n,this.error=i}static Ts(e,n){let i=JSON.parse(n),r,o=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(r=new x(i.error.code,i.error.message))),o?new t(e,i.state,r):(it("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Es(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Mp=class t{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ts(e,n){let i=JSON.parse(n),r=typeof i=="object"&&i.activeTargetIds instanceof Array,o=xE();for(let s=0;r&&s<i.activeTargetIds.length;++s)r=WP(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new t(e,o):(it("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}},kx=class t{constructor(e,n){this.clientId=e,this.onlineState=n}static Ts(e){let n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(it("SharedClientState",`Failed to parse online state: ${e}`),null)}},Zu=class{constructor(){this.activeTargetIds=xE()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},Nu=class{constructor(e,n,i,r,o){this.window=e,this.si=n,this.persistenceKey=i,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new Ue(re),this.started=!1,this.ps=[];let s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ys=kP(this.persistenceKey,this.Rs),this.ws=function(c){return`firestore_sequence_number_${c}`}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new Zu),this.Ss=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Cs=function(c){return`firestore_online_state_${c}`}(this.persistenceKey),this.vs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){return w(this,null,function*(){let e=yield this.syncEngine.Bi();for(let i of e){if(i===this.Rs)continue;let r=this.getItem(kP(this.persistenceKey,i));if(r){let o=Mp.Ts(i,r);o&&(this.gs=this.gs.insert(o.clientId,o))}}this.Fs();let n=this.storage.getItem(this.Cs);if(n){let i=this.Ms(n);i&&this.xs(i)}for(let i of this.ps)this.fs(i);this.ps=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let n=!1;return this.gs.forEach((i,r)=>{r.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,n,i){this.Ns(e,n,i),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){let i=this.storage.getItem(_w(this.persistenceKey,e));if(i){let r=Pu.Ts(e,i);r&&(n=r.state)}}return this.Ls.ds(e),this.Fs(),n}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(_w(this.persistenceKey,e))}updateQueryState(e,n,i){this.ks(e,n,i)}handleUserChange(e,n,i){n.forEach(r=>{this.Bs(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){let n=this.storage.getItem(e);return E("SharedClientState","READ",e,n),n}setItem(e,n){E("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){E("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){let n=e;if(n.storageArea===this.storage){if(E("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ys)return void it("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable(()=>w(this,null,function*(){if(this.started){if(n.key!==null){if(this.Ss.test(n.key)){if(n.newValue==null){let i=this.Ks(n.key);return this.$s(i,null)}{let i=this.Us(n.key,n.newValue);if(i)return this.$s(i.clientId,i)}}else if(this.bs.test(n.key)){if(n.newValue!==null){let i=this.Ws(n.key,n.newValue);if(i)return this.Gs(i)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){let i=this.zs(n.key,n.newValue);if(i)return this.js(i)}}else if(n.key===this.Cs){if(n.newValue!==null){let i=this.Ms(n.newValue);if(i)return this.xs(i)}}else if(n.key===this.ws){let i=function(o){let s=xn._e;if(o!=null)try{let a=JSON.parse(o);z(typeof a=="number"),s=a}catch(a){it("SharedClientState","Failed to read sequence number from WebStorage",a)}return s}(n.newValue);i!==xn._e&&this.sequenceNumberHandler(i)}else if(n.key===this.vs){let i=this.Hs(n.newValue);yield Promise.all(i.map(r=>this.syncEngine.Js(r)))}}}else this.ps.push(n)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,n,i){let r=new kp(this.currentUser,e,n,i),o=MP(this.persistenceKey,this.currentUser,e);this.setItem(o,r.Es())}Bs(e){let n=MP(this.persistenceKey,this.currentUser,e);this.removeItem(n)}qs(e){let n={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(n))}ks(e,n,i){let r=_w(this.persistenceKey,e),o=new Pu(e,n,i);this.setItem(r,o.Es())}Qs(e){let n=JSON.stringify(Array.from(e));this.setItem(this.vs,n)}Ks(e){let n=this.Ss.exec(e);return n?n[1]:null}Us(e,n){let i=this.Ks(e);return Mp.Ts(i,n)}Ws(e,n){let i=this.bs.exec(e),r=Number(i[1]),o=i[2]!==void 0?i[2]:null;return kp.Ts(new lt(o),r,n)}zs(e,n){let i=this.Ds.exec(e),r=Number(i[1]);return Pu.Ts(r,n)}Ms(e){return kx.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){return w(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Ys(e.batchId,e.state,e.error);E("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,n){let i=n?this.gs.insert(e,n):this.gs.remove(e),r=this.Os(this.gs),o=this.Os(i),s=[],a=[];return o.forEach(c=>{r.has(c)||s.push(c)}),r.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.Xs(s,a).then(()=>{this.gs=i})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let n=xE();return e.forEach((i,r)=>{n=n.unionWith(r.activeTargetIds)}),n}},Rp=class{constructor(){this.eo=new Zu,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,i){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Zu,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Mx=class{ro(e){}shutdown(){}};var Pp=class{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){E("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ao)e(0)}_o(){E("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Qm=null;function yw(){return Qm===null?Qm=function(){return 268435456+Math.round(2147483648*Math.random())}():Qm++,"0x"+Qm.toString(16)}var N6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Rx=class{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}};var Vt="WebChannelConnection",Px=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+n.host,this.fo=`projects/${r}/databases/${o}`,this.po=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get yo(){return!1}wo(n,i,r,o,s){let a=yw(),c=this.So(n,i);E("RestConnection",`Sending RPC '${n}' ${a}:`,c,r);let l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,o,s),this.Do(n,c,l,r).then(u=>(E("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw On("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",r),u})}Co(n,i,r,o,s,a){return this.wo(n,i,r,o,s)}bo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+pc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>n[s]=o),r&&r.headers.forEach((o,s)=>n[s]=o)}So(n,i){let r=N6[n];return`${this.mo}/v1/${i}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,i,r){let o=yw();return new Promise((s,a)=>{let c=new B1;c.setWithCredentials(!0),c.listenOnce(V1.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case qm.NO_ERROR:let u=c.getResponseJson();E(Vt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case qm.TIMEOUT:E(Vt,`RPC '${e}' ${o} timed out`),a(new x(_.DEADLINE_EXCEEDED,"Request time out"));break;case qm.HTTP_ERROR:let d=c.getStatus();if(E(Vt,`RPC '${e}' ${o} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let f=h?.error;if(f&&f.status&&f.message){let m=function(g){let y=g.toLowerCase().replace(/_/g,"-");return Object.values(_).indexOf(y)>=0?y:_.UNKNOWN}(f.status);a(new x(m,f.message))}else a(new x(_.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new x(_.UNAVAILABLE,"Connection failed."));break;default:O()}}finally{E(Vt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(r);E(Vt,`RPC '${e}' ${o} sending request:`,r),c.send(n,"POST",l,i,15)})}vo(e,n,i){let r=yw(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=O1(),a=L1(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.bo(c.initMessageHeaders,n,i),c.encodeInitMessageHeaders=!0;let u=o.join("");E(Vt,`Creating RPC '${e}' stream ${r}: ${u}`,c);let d=s.createWebChannel(u,c),h=!1,f=!1,m=new Rx({co:g=>{f?E(Vt,`Not sending because RPC '${e}' stream ${r} is closed:`,g):(h||(E(Vt,`Opening RPC '${e}' stream ${r} transport.`),d.open(),h=!0),E(Vt,`RPC '${e}' stream ${r} sending:`,g),d.send(g))},lo:()=>d.close()}),p=(g,y,A)=>{g.listen(y,C=>{try{A(C)}catch(R){setTimeout(()=>{throw R},0)}})};return p(d,Eu.EventType.OPEN,()=>{f||E(Vt,`RPC '${e}' stream ${r} transport opened.`)}),p(d,Eu.EventType.CLOSE,()=>{f||(f=!0,E(Vt,`RPC '${e}' stream ${r} transport closed`),m.Ro())}),p(d,Eu.EventType.ERROR,g=>{f||(f=!0,On(Vt,`RPC '${e}' stream ${r} transport errored:`,g),m.Ro(new x(_.UNAVAILABLE,"The operation could not be completed")))}),p(d,Eu.EventType.MESSAGE,g=>{var y;if(!f){let A=g.data[0];z(!!A);let C=A,R=C.error||((y=C[0])===null||y===void 0?void 0:y.error);if(R){E(Vt,`RPC '${e}' stream ${r} received error:`,R);let B=R.status,H=function(un){let In=at[un];if(In!==void 0)return IN(In)}(B),oe=R.message;H===void 0&&(H=_.INTERNAL,oe="Unknown error status: "+B+" with message "+R.message),f=!0,m.Ro(new x(H,oe)),d.close()}else E(Vt,`RPC '${e}' stream ${r} received:`,A),m.Vo(A)}}),p(a,j1.STAT_EVENT,g=>{g.stat===pw.PROXY?E(Vt,`RPC '${e}' stream ${r} detected buffering proxy`):g.stat===pw.NOPROXY&&E(Vt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{m.Ao()},0),m}};function ZN(){return typeof window<"u"?window:null}function ep(){return typeof document<"u"?document:null}function ld(t){return new Zw(t,!0)}var Xu=class{constructor(e,n,i=1e3,r=1.5,o=6e4){this.si=e,this.timerId=n,this.Fo=i,this.Mo=r,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();let n=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,n-i);r>0&&E("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}};var Np=class{constructor(e,n,i,r,o,s,a,c){this.si=e,this.Ko=i,this.$o=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Xu(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}stop(){return w(this,null,function*(){this.jo()&&(yield this.close(0))})}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){return w(this,null,function*(){if(this.Ho())return this.close(0)})}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){return w(this,null,function*(){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===_.RESOURCE_EXHAUSTED?(it(n.toString()),it("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===_.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Io(n)})}r_(){}auth(){this.state=1;let e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===n&&this.s_(i,r)},i=>{e(()=>{let r=new x(_.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(e,n){let i=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){this.state=5,this.zo.ko(()=>w(this,null,function*(){this.state=0,this.start()}))}o_(e){return E("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(E("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Nx=class extends Np{constructor(e,n,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,s),this.serializer=o}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();let n=_6(this.serializer,e),i=function(o){if(!("targetChange"in o))return $.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?$.min():s.readTime?ot(s.readTime):$.min()}(e);return this.listener.a_(n,i)}u_(e){let n={};n.database=Wu(this.serializer),n.addTarget=function(o,s){let a,c=s.target;if(a=dp(c)?{documents:MN(o,c)}:{query:RN(o,c)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=CN(o,s.resumeToken);let l=Xw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo($.min())>0){a.readTime=oc(o,s.snapshotVersion.toTimestamp());let l=Xw(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let i=v6(this.serializer,e);i&&(n.labels=i),this.e_(n)}c_(e){let n={};n.database=Wu(this.serializer),n.removeTarget=e,this.e_(n)}},Fx=class extends Np{constructor(e,n,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(z(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();let n=y6(e.writeResults,e.commitTime),i=ot(e.commitTime);return this.listener.I_(i,n)}return z(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){let e={};e.database=Wu(this.serializer),this.e_(e)}P_(e){let n={streamToken:this.lastStreamToken,writes:e.map(i=>Ku(this.serializer,i))};this.e_(n)}};var Ox=class extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new x(_.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.wo(e,n,i,r,o)).catch(r=>{throw r.name==="FirebaseError"?(r.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new x(_.UNKNOWN,r.toString())})}Co(e,n,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,n,i,o,s,r)).catch(o=>{throw o.name==="FirebaseError"?(o.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new x(_.UNKNOWN,o.toString())})}terminate(){this.d_=!0}};var Lx=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(it(n),this.f_=!1):E("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}};var Vx=class{constructor(e,n,i,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(s=>{i.enqueueAndForget(()=>w(this,null,function*(){so(this)&&(E("RemoteStore","Restarting streams for network reachability change."),yield function(c){return w(this,null,function*(){let l=F(c);l.C_.add(4),yield bc(l),l.M_.set("Unknown"),l.C_.delete(4),yield ud(l)})}(this))}))}),this.M_=new Lx(i,r)}};function ud(t){return w(this,null,function*(){if(so(t))for(let e of t.v_)yield e(!0)})}function bc(t){return w(this,null,function*(){for(let e of t.v_)yield e(!1)})}function Jp(t,e){let n=F(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),AE(n)?SE(n):yc(n).Ho()&&TE(n,e))}function Ju(t,e){let n=F(t),i=yc(n);n.D_.delete(e),i.Ho()&&XN(n,e),n.D_.size===0&&(i.Ho()?i.Zo():so(n)&&n.M_.set("Unknown"))}function TE(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yc(t).u_(e)}function XN(t,e){t.x_.Oe(e),yc(t).c_(e)}function SE(t){t.x_=new Yw({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),yc(t).start(),t.M_.g_()}function AE(t){return so(t)&&!yc(t).jo()&&t.D_.size>0}function so(t){return F(t).C_.size===0}function JN(t){t.x_=void 0}function F6(t){return w(this,null,function*(){t.D_.forEach((e,n)=>{TE(t,e)})})}function O6(t,e){return w(this,null,function*(){JN(t),AE(t)?(t.M_.w_(e),SE(t)):t.M_.set("Unknown")})}function L6(t,e,n){return w(this,null,function*(){if(t.M_.set("Online"),e instanceof pp&&e.state===2&&e.cause)try{yield function(r,o){return w(this,null,function*(){let s=o.cause;for(let a of o.targetIds)r.D_.has(a)&&(yield r.remoteSyncer.rejectListen(a,s),r.D_.delete(a),r.x_.removeTarget(a))})}(t,e)}catch(i){E("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Fp(t,i)}else if(e instanceof Xa?t.x_.$e(e):e instanceof mp?t.x_.Je(e):t.x_.Ge(e),!n.isEqual($.min()))try{let i=yield GN(t.localStore);n.compareTo(i)>=0&&(yield function(o,s){let a=o.x_.it(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let u=o.D_.get(l);u&&o.D_.set(l,u.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let u=o.D_.get(c);if(!u)return;o.D_.set(c,u.withResumeToken(yt.EMPTY_BYTE_STRING,u.snapshotVersion)),XN(o,c);let d=new sc(u.target,c,l,u.sequenceNumber);TE(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(i){E("RemoteStore","Failed to raise snapshot:",i),yield Fp(t,i)}})}function Fp(t,e,n){return w(this,null,function*(){if(!oo(e))throw e;t.C_.add(1),yield bc(t),t.M_.set("Offline"),n||(n=()=>GN(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){E("RemoteStore","Retrying IndexedDB access"),yield n(),t.C_.delete(1),yield ud(t)}))})}function eF(t,e){return e().catch(n=>Fp(t,n,e))}function _c(t){return w(this,null,function*(){let e=F(t),n=io(e),i=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;V6(e);)try{let r=yield M6(e.localStore,i);if(r===null){e.b_.length===0&&n.Zo();break}i=r.batchId,j6(e,r)}catch(r){yield Fp(e,r)}tF(e)&&nF(e)})}function V6(t){return so(t)&&t.b_.length<10}function j6(t,e){t.b_.push(e);let n=io(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function tF(t){return so(t)&&!io(t).jo()&&t.b_.length>0}function nF(t){io(t).start()}function B6(t){return w(this,null,function*(){io(t).E_()})}function U6(t){return w(this,null,function*(){let e=io(t);for(let n of t.b_)e.P_(n.mutations)})}function z6(t,e,n){return w(this,null,function*(){let i=t.b_.shift(),r=Ww.from(i,e,n);yield eF(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield _c(t)})}function $6(t,e){return w(this,null,function*(){e&&io(t).h_&&(yield function(i,r){return w(this,null,function*(){if(function(s){return EN(s)&&s!==_.ABORTED}(r.code)){let o=i.b_.shift();io(i).Yo(),yield eF(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield _c(i)}})}(t,e)),tF(t)&&nF(t)})}function RP(t,e){return w(this,null,function*(){let n=F(t);n.asyncQueue.verifyOperationInProgress(),E("RemoteStore","RemoteStore received new credentials");let i=so(n);n.C_.add(3),yield bc(n),i&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield ud(n)})}function jx(t,e){return w(this,null,function*(){let n=F(t);e?(n.C_.delete(2),yield ud(n)):e||(n.C_.add(2),yield bc(n),n.M_.set("Unknown"))})}function yc(t){return t.O_||(t.O_=function(n,i,r){let o=F(n);return o.A_(),new Nx(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{ho:F6.bind(null,t),Io:O6.bind(null,t),a_:L6.bind(null,t)}),t.v_.push(e=>w(this,null,function*(){e?(t.O_.Yo(),AE(t)?SE(t):t.M_.set("Unknown")):(yield t.O_.stop(),JN(t))}))),t.O_}function io(t){return t.N_||(t.N_=function(n,i,r){let o=F(n);return o.A_(),new Fx(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{ho:B6.bind(null,t),Io:$6.bind(null,t),T_:U6.bind(null,t),I_:z6.bind(null,t)}),t.v_.push(e=>w(this,null,function*(){e?(t.N_.Yo(),yield _c(t)):(yield t.N_.stop(),t.b_.length>0&&(E("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))}))),t.N_}var Bx=class t{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new ut,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,o){let s=Date.now()+i,a=new t(e,n,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new x(_.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function vc(t,e){if(it("AsyncQueue",`${e}: ${t}`),oo(t))return new x(_.UNAVAILABLE,`${e}: ${t}`);throw t}var Op=class t{constructor(e){this.comparator=e?(n,i)=>e(n,i)||P.comparator(n.key,i.key):(n,i)=>P.comparator(n.key,i.key),this.keyedMap=Su(),this.sortedSet=new Ue(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}};var Lp=class{constructor(){this.B_=new Ue(P.comparator)}track(e){let n=e.doc.key,i=this.B_.get(n);i?e.type!==0&&i.type===3?this.B_=this.B_.insert(n,e):e.type===3&&i.type!==1?this.B_=this.B_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.B_=this.B_.remove(n):e.type===1&&i.type===2?this.B_=this.B_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):O():this.B_=this.B_.insert(n,e)}L_(){let e=[];return this.B_.inorderTraversal((n,i)=>{e.push(i)}),e}},uc=class t{constructor(e,n,i,r,o,s,a,c,l){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,i,r,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Op.emptySet(n),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ad(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}};var Ux=class{constructor(){this.k_=void 0,this.listeners=[]}},zx=class{constructor(){this.queries=new Pi(e=>cN(e),ad),this.onlineState="Unknown",this.q_=new Set}};function kE(t,e){return w(this,null,function*(){let n=F(t),i=e.query,r=!1,o=n.queries.get(i);if(o||(r=!0,o=new Ux),r)try{o.k_=yield n.onListen(i)}catch(s){let a=vc(s,`Initialization of query '${qa(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.listeners.push(e),e.Q_(n.onlineState),o.k_&&e.K_(o.k_)&&RE(n)})}function ME(t,e){return w(this,null,function*(){let n=F(t),i=e.query,r=!1,o=n.queries.get(i);if(o){let s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),r=o.listeners.length===0)}if(r)return n.queries.delete(i),n.onUnlisten(i)})}function H6(t,e){let n=F(t),i=!1;for(let r of e){let o=r.query,s=n.queries.get(o);if(s){for(let a of s.listeners)a.K_(r)&&(i=!0);s.k_=r}}i&&RE(n)}function q6(t,e,n){let i=F(t),r=i.queries.get(e);if(r)for(let o of r.listeners)o.onError(n);i.queries.delete(e)}function RE(t){t.q_.forEach(e=>{e.next()})}var ed=class{constructor(e,n,i){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new uc(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;let i=n!=="Offline";return(!this.options.J_||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;let n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=uc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}};var $x=class{constructor(e,n){this.Y_=e,this.byteLength=n}Z_(){return"metadata"in this.Y_}};var Vp=class{constructor(e){this.serializer=e}hs(e){return Ai(this.serializer,e)}Ps(e){return e.metadata.exists?kN(this.serializer,e.document,!1):dt.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return ot(e)}},Hx=class{constructor(e,n,i){this.X_=e,this.localStore=n,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=iF(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++n;let i=we.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ta(e){let n=new Map,i=new Vp(this.serializer);for(let r of e)if(r.metadata.queries){let o=i.hs(r.metadata.name);for(let s of r.metadata.queries){let a=(n.get(s)||ae()).add(o);n.set(s,a)}}return n}complete(){return w(this,null,function*(){let e=yield R6(this.localStore,new Vp(this.serializer),this.documents,this.X_.id),n=this.ta(this.documents);for(let i of this.queries)yield P6(this.localStore,i,n.get(i.name));return this.progress.taskState="Success",{progress:this.progress,na:this.collectionGroups,ra:e}})}};function iF(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var jp=class{constructor(e){this.key=e}},Bp=class{constructor(e){this.key=e}},Up=class{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ae(),this.mutatedKeys=ae(),this._a=uN(e),this.aa=new Op(this._a)}get ua(){return this.ia}ca(e,n){let i=n?n.la:new Lp,r=n?n.aa:this.aa,o=n?n.mutatedKeys:this.mutatedKeys,s=r,a=!1,c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,l=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,d)=>{let h=r.get(u),f=cd(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),p=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations),g=!1;h&&f?h.data.isEqual(f.data)?m!==p&&(i.track({type:3,doc:f}),g=!0):this.ha(h,f)||(i.track({type:2,doc:f}),g=!0,(c&&this._a(f,c)>0||l&&this._a(f,l)<0)&&(a=!0)):!h&&f?(i.track({type:0,doc:f}),g=!0):h&&!f&&(i.track({type:1,doc:h}),g=!0,(c||l)&&(a=!0)),g&&(f?(s=s.add(f),o=p?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),i.track({type:1,doc:u})}return{aa:s,la:i,Zi:a,mutatedKeys:o}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){let o=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;let s=e.la.L_();s.sort((u,d)=>function(f,m){let p=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return O()}};return p(f)-p(m)}(u.type,d.type)||this._a(u.doc,d.doc)),this.Pa(i),r=r!=null&&r;let a=n&&!r?this.Ia():[],c=this.oa.size===0&&this.current&&!r?1:0,l=c!==this.sa;return this.sa=c,s.length!==0||l?{snapshot:new uc(this.query,e.aa,o,s,e.mutatedKeys,c===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new Lp,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];let e=this.oa;this.oa=ae(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});let n=[];return e.forEach(i=>{this.oa.has(i)||n.push(new Bp(i))}),this.oa.forEach(i=>{e.has(i)||n.push(new jp(i))}),n}da(e){this.ia=e.ls,this.oa=ae();let n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return uc.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}},qx=class{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}},Gx=class{constructor(e){this.key=e,this.Ra=!1}},Wx=class{constructor(e,n,i,r,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new Pi(a=>cN(a),ad),this.fa=new Map,this.ga=new Set,this.pa=new Ue(P.comparator),this.ya=new Map,this.wa=new Yu,this.Sa={},this.ba=new Map,this.Da=ac.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}};function G6(t,e){return w(this,null,function*(){let n=LE(t),i,r,o=n.ma.get(e);if(o)i=o.targetId,n.sharedClientState.addLocalQueryTarget(i),r=o.view.Aa();else{let s=yield cc(n.localStore,Zt(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=yield PE(n,e,i,a==="current",s.resumeToken),n.isPrimaryClient&&Jp(n.remoteStore,s)}return r})}function PE(t,e,n,i,r){return w(this,null,function*(){t.va=(d,h,f)=>function(p,g,y,A){return w(this,null,function*(){let C=g.view.ca(y);C.Zi&&(C=yield Ap(p.localStore,g.query,!1).then(({documents:oe})=>g.view.ca(oe,C)));let R=A&&A.targetChanges.get(g.targetId),B=A&&A.targetMismatches.get(g.targetId)!=null,H=g.view.applyChanges(C,p.isPrimaryClient,R,B);return Kx(p,g.targetId,H.Ta),H.snapshot})}(t,d,h,f);let o=yield Ap(t.localStore,e,!0),s=new Up(e,o.ls),a=s.ca(o.documents),c=qu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),l=s.applyChanges(a,t.isPrimaryClient,c);Kx(t,n,l.Ta);let u=new qx(e,n,s);return t.ma.set(e,u),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),l.snapshot})}function W6(t,e){return w(this,null,function*(){let n=F(t),i=n.ma.get(e),r=n.fa.get(i.targetId);if(r.length>1)return n.fa.set(i.targetId,r.filter(o=>!ad(o,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||(yield lc(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),Ju(n.remoteStore,i.targetId),dc(n,i.targetId)}).catch(ro))):(dc(n,i.targetId),yield lc(n.localStore,i.targetId,!0))})}function K6(t,e,n){return w(this,null,function*(){let i=VE(t);try{let r=yield function(s,a){let c=F(s),l=Qe.now(),u=a.reduce((f,m)=>f.add(m.key),ae()),d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=ln(),p=ae();return c.ss.getEntries(f,u).next(g=>{m=g,m.forEach((y,A)=>{A.isValidDocument()||(p=p.add(y))})}).next(()=>c.localDocuments.getOverlayedDocuments(f,m)).next(g=>{d=g;let y=[];for(let A of a){let C=d6(A,d.get(A.key).overlayedDocument);C!=null&&y.push(new ti(A.key,C,tN(C.value.mapValue),tt.exists(!0)))}return c.mutationQueue.addMutationBatch(f,l,y,a)}).next(g=>{h=g;let y=g.applyToLocalDocumentSet(d,p);return c.documentOverlayCache.saveOverlays(f,g.batchId,y)})}).then(()=>({batchId:h.batchId,changes:hN(d)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,c){let l=s.Sa[s.currentUser.toKey()];l||(l=new Ue(re)),l=l.insert(a,c),s.Sa[s.currentUser.toKey()]=l}(i,r.batchId,n),yield nr(i,r.changes),yield _c(i.remoteStore)}catch(r){let o=vc(r,"Failed to persist write");n.reject(o)}})}function rF(t,e){return w(this,null,function*(){let n=F(t);try{let i=yield k6(n.localStore,e);e.targetChanges.forEach((r,o)=>{let s=n.ya.get(o);s&&(z(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.Ra=!0:r.modifiedDocuments.size>0?z(s.Ra):r.removedDocuments.size>0&&(z(s.Ra),s.Ra=!1))}),yield nr(n,i,e)}catch(i){yield ro(i)}})}function PP(t,e,n){let i=F(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){let r=[];i.ma.forEach((o,s)=>{let a=s.view.Q_(e);a.snapshot&&r.push(a.snapshot)}),function(s,a){let c=F(s);c.onlineState=a;let l=!1;c.queries.forEach((u,d)=>{for(let h of d.listeners)h.Q_(a)&&(l=!0)}),l&&RE(c)}(i.eventManager,e),r.length&&i.Va.a_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Q6(t,e,n){return w(this,null,function*(){let i=F(t);i.sharedClientState.updateQueryState(e,"rejected",n);let r=i.ya.get(e),o=r&&r.key;if(o){let s=new Ue(P.comparator);s=s.insert(o,dt.newNoDocument(o,$.min()));let a=ae().add(o),c=new Hu($.min(),new Map,new Ue(re),s,a);yield rF(i,c),i.pa=i.pa.remove(o),i.ya.delete(e),OE(i)}else yield lc(i.localStore,e,!1).then(()=>dc(i,e,n)).catch(ro)})}function Y6(t,e){return w(this,null,function*(){let n=F(t),i=e.batch.batchId;try{let r=yield A6(n.localStore,e);FE(n,i,null),NE(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield nr(n,r)}catch(r){yield ro(r)}})}function Z6(t,e,n){return w(this,null,function*(){let i=F(t);try{let r=yield function(s,a){let c=F(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(d=>(z(d!==null),u=d.keys(),c.mutationQueue.removeMutationBatch(l,d))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(i.localStore,e);FE(i,e,n),NE(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield nr(i,r)}catch(r){yield ro(r)}})}function X6(t,e){return w(this,null,function*(){let n=F(t);so(n.remoteStore)||E("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let i=yield function(s){let a=F(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(n.localStore);if(i===-1)return void e.resolve();let r=n.ba.get(i)||[];r.push(e),n.ba.set(i,r)}catch(i){let r=vc(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}})}function NE(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function FE(t,e,n){let i=F(t),r=i.Sa[i.currentUser.toKey()];if(r){let o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.Sa[i.currentUser.toKey()]=r}}function dc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let i of t.fa.get(e))t.ma.delete(i),n&&t.Va.Fa(i,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(i=>{t.wa.containsKey(i)||oF(t,i)})}function oF(t,e){t.ga.delete(e.path.canonicalString());let n=t.pa.get(e);n!==null&&(Ju(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),OE(t))}function Kx(t,e,n){for(let i of n)i instanceof jp?(t.wa.addReference(i.key,e),J6(t,i)):i instanceof Bp?(E("SyncEngine","Document no longer in limbo: "+i.key),t.wa.removeReference(i.key,e),t.wa.containsKey(i.key)||oF(t,i.key)):O()}function J6(t,e){let n=e.key,i=n.path.canonicalString();t.pa.get(n)||t.ga.has(i)||(E("SyncEngine","New document in limbo: "+n),t.ga.add(i),OE(t))}function OE(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){let e=t.ga.values().next().value;t.ga.delete(e);let n=new P(we.fromString(e)),i=t.Da.next();t.ya.set(i,new Gx(n)),t.pa=t.pa.insert(n,i),Jp(t.remoteStore,new sc(Zt(gc(n.path)),i,"TargetPurposeLimboResolution",xn._e))}}function nr(t,e,n){return w(this,null,function*(){let i=F(t),r=[],o=[],s=[];i.ma.isEmpty()||(i.ma.forEach((a,c)=>{s.push(i.va(c,e,n).then(l=>{if((l||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){r.push(l);let u=Tx.Qi(c.targetId,l);o.push(u)}}))}),yield Promise.all(s),i.Va.a_(r),yield function(c,l){return w(this,null,function*(){let u=F(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>b.forEach(l,h=>b.forEach(h.ki,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>b.forEach(h.qi,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!oo(d))throw d;E("LocalStore","Failed to update sequence numbers: "+d)}for(let d of l){let h=d.targetId;if(!d.fromCache){let f=u.ts.get(h),m=f.snapshotVersion,p=f.withLastLimboFreeSnapshotVersion(m);u.ts=u.ts.insert(h,p)}}})}(i.localStore,o))})}function eG(t,e){return w(this,null,function*(){let n=F(t);if(!n.currentUser.isEqual(e)){E("SyncEngine","User change. New user:",e.toKey());let i=yield qN(n.localStore,e);n.currentUser=e,function(o,s){o.ba.forEach(a=>{a.forEach(c=>{c.reject(new x(_.CANCELLED,s))})}),o.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield nr(n,i._s)}})}function tG(t,e){let n=F(t),i=n.ya.get(e);if(i&&i.Ra)return ae().add(i.key);{let r=ae(),o=n.fa.get(e);if(!o)return r;for(let s of o){let a=n.ma.get(s);r=r.unionWith(a.view.ua)}return r}}function nG(t,e){return w(this,null,function*(){let n=F(t),i=yield Ap(n.localStore,e.query,!0),r=e.view.da(i);return n.isPrimaryClient&&Kx(n,e.targetId,r.Ta),r})}function iG(t,e){return w(this,null,function*(){let n=F(t);return QN(n.localStore,e).then(i=>nr(n,i))})}function rG(t,e,n,i){return w(this,null,function*(){let r=F(t),o=yield function(a,c){let l=F(a),u=F(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",d=>u.Cn(d,c).next(h=>h?l.localDocuments.getDocuments(d,h):b.resolve(null)))}(r.localStore,e);o!==null?(n==="pending"?yield _c(r.remoteStore):n==="acknowledged"||n==="rejected"?(FE(r,e,i||null),NE(r,e),function(a,c){F(F(a).mutationQueue).Fn(c)}(r.localStore,e)):O(),yield nr(r,o)):E("SyncEngine","Cannot apply mutation batch with id: "+e)})}function oG(t,e){return w(this,null,function*(){let n=F(t);if(LE(n),VE(n),e===!0&&n.Ca!==!0){let i=n.sharedClientState.getAllActiveQueryTargets(),r=yield NP(n,i.toArray());n.Ca=!0,yield jx(n.remoteStore,!0);for(let o of r)Jp(n.remoteStore,o)}else if(e===!1&&n.Ca!==!1){let i=[],r=Promise.resolve();n.fa.forEach((o,s)=>{n.sharedClientState.isLocalQueryTarget(s)?i.push(s):r=r.then(()=>(dc(n,s),lc(n.localStore,s,!0))),Ju(n.remoteStore,s)}),yield r,yield NP(n,i),function(s){let a=F(s);a.ya.forEach((c,l)=>{Ju(a.remoteStore,l)}),a.wa.Vr(),a.ya=new Map,a.pa=new Ue(P.comparator)}(n),n.Ca=!1,yield jx(n.remoteStore,!1)}})}function NP(t,e,n){return w(this,null,function*(){let i=F(t),r=[],o=[];for(let s of e){let a,c=i.fa.get(s);if(c&&c.length!==0){a=yield cc(i.localStore,Zt(c[0]));for(let l of c){let u=i.ma.get(l),d=yield nG(i,u);d.snapshot&&o.push(d.snapshot)}}else{let l=yield KN(i.localStore,s);a=yield cc(i.localStore,l),yield PE(i,sF(l),s,!1,a.resumeToken)}r.push(a)}return i.Va.a_(o),r})}function sF(t){return aN(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function sG(t){return function(n){return F(F(n).persistence).Bi()}(F(t).localStore)}function aG(t,e,n,i){return w(this,null,function*(){let r=F(t);if(r.Ca)return void E("SyncEngine","Ignoring unexpected query state notification.");let o=r.fa.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{let s=yield QN(r.localStore,lN(o[0])),a=Hu.createSynthesizedRemoteEventForCurrentChange(e,n==="current",yt.EMPTY_BYTE_STRING);yield nr(r,s,a);break}case"rejected":yield lc(r.localStore,e,!0),dc(r,e,i);break;default:O()}})}function cG(t,e,n){return w(this,null,function*(){let i=LE(t);if(i.Ca){for(let r of e){if(i.fa.has(r)){E("SyncEngine","Adding an already active target "+r);continue}let o=yield KN(i.localStore,r),s=yield cc(i.localStore,o);yield PE(i,sF(o),s.targetId,!1,s.resumeToken),Jp(i.remoteStore,s)}for(let r of n)i.fa.has(r)&&(yield lc(i.localStore,r,!1).then(()=>{Ju(i.remoteStore,r),dc(i,r)}).catch(ro))}})}function LE(t){let e=F(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Q6.bind(null,e),e.Va.a_=H6.bind(null,e.eventManager),e.Va.Fa=q6.bind(null,e.eventManager),e}function VE(t){let e=F(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Y6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Z6.bind(null,e),e}function lG(t,e,n){let i=F(t);(function(o,s,a){return w(this,null,function*(){try{let c=yield s.getMetadata();if(yield function(f,m){let p=F(f),g=ot(m.createTime);return p.persistence.runTransaction("hasNewerBundle","readonly",y=>p.Kr.getBundleMetadata(y,m.id)).then(y=>!!y&&y.createTime.compareTo(g)>=0)}(o.localStore,c))return yield s.close(),a._completeWith(function(f){return{taskState:"Success",documentsLoaded:f.totalDocuments,bytesLoaded:f.totalBytes,totalDocuments:f.totalDocuments,totalBytes:f.totalBytes}}(c)),Promise.resolve(new Set);a._updateProgress(iF(c));let l=new Hx(c,o.localStore,s.serializer),u=yield s.Ma();for(;u;){let h=yield l.ea(u);h&&a._updateProgress(h),u=yield s.Ma()}let d=yield l.complete();return yield nr(o,d.ra,void 0),yield function(f,m){let p=F(f);return p.persistence.runTransaction("Save bundle","readwrite",g=>p.Kr.saveBundleMetadata(g,m))}(o.localStore,c),a._completeWith(d.progress),Promise.resolve(d.na)}catch(c){return On("SyncEngine",`Loading bundle failed with ${c}`),a._failWith(c),Promise.resolve(new Set)}})})(i,e,n).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}var td=class{constructor(){this.synchronizeTabs=!1}initialize(e){return w(this,null,function*(){this.serializer=ld(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return HN(this.persistence,new Sp,e.initialUser,this.serializer)}createPersistence(e){return new Cp(Tp.jr,this.serializer)}createSharedClientState(e){return new Rp}terminate(){return w(this,null,function*(){this.gcScheduler&&this.gcScheduler.stop(),yield this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var zp=class t extends td{constructor(e,n,i){super(),this.xa=e,this.cacheSizeBytes=n,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){return w(this,null,function*(){yield fg(t.prototype,this,"initialize").call(this,e),yield this.xa.initialize(this,e),yield VE(this.xa.syncEngine),yield _c(this.xa.remoteStore),yield this.persistence.mi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}createLocalStore(e){return HN(this.persistence,new Sp,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){let i=this.persistence.referenceDelegate.garbageCollector;return new hx(i,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){let i=new Mw(n,this.persistence);return new kw(e.asyncQueue,i)}createPersistence(e){let n=CE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?Fn.withCacheSize(this.cacheSizeBytes):Fn.DEFAULT;return new Cx(this.synchronizeTabs,n,e.clientId,i,e.asyncQueue,ZN(),ep(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Rp}},Qx=class t extends zp{constructor(e,n){super(e,n,!1),this.xa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){return w(this,null,function*(){yield fg(t.prototype,this,"initialize").call(this,e);let n=this.xa.syncEngine;this.sharedClientState instanceof Nu&&(this.sharedClientState.syncEngine={Ys:rG.bind(null,n),Zs:aG.bind(null,n),Xs:cG.bind(null,n),Bi:sG.bind(null,n),Js:iG.bind(null,n)},yield this.sharedClientState.start()),yield this.persistence.mi(i=>w(this,null,function*(){yield oG(this.xa.syncEngine,i),this.gcScheduler&&(i&&!this.gcScheduler.started?this.gcScheduler.start():i||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(i&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():i||this.indexBackfillerScheduler.stop())}))})}createSharedClientState(e){let n=ZN();if(!Nu.D(n))throw new x(_.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let i=CE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Nu(n,e.asyncQueue,i,e.clientId,e.initialUser)}},nd=class{initialize(e,n){return w(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>PP(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=eG.bind(null,this.syncEngine),yield jx(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new zx}()}createDatastore(e){let n=ld(e.databaseInfo.databaseId),i=function(o){return new Px(o)}(e.databaseInfo);return function(o,s,a,c){return new Ox(o,s,a,c)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,o,s,a){return new Vx(i,r,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>PP(this.syncEngine,n,0),function(){return Pp.D()?new Pp:new Mx}())}createSyncEngine(e,n){return function(r,o,s,a,c,l,u){let d=new Wx(r,o,s,a,c,l);return u&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(n){return w(this,null,function*(){let i=F(n);E("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield bc(i),i.F_.shutdown(),i.M_.set("Unknown")})}(this.remoteStore)}};function FP(t,e=10240){let n=0;return{read(){return w(this,null,function*(){if(n<t.byteLength){let r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})},cancel(){return w(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}var hc=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):it("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Yx=class{constructor(e,n){this.Ba=e,this.serializer=n,this.metadata=new ut,this.buffer=new Uint8Array,this.La=function(){return new TextDecoder("utf-8")}(),this.ka().then(i=>{i&&i.Z_()?this.metadata.resolve(i.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(i?.Y_)}`))},i=>this.metadata.reject(i))}close(){return this.Ba.cancel()}getMetadata(){return w(this,null,function*(){return this.metadata.promise})}Ma(){return w(this,null,function*(){return yield this.getMetadata(),this.ka()})}ka(){return w(this,null,function*(){let e=yield this.qa();if(e===null)return null;let n=this.La.decode(e),i=Number(n);isNaN(i)&&this.Qa(`length string (${n}) is not valid number`);let r=yield this.Ka(i);return new $x(JSON.parse(r),e.length+i)})}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){return w(this,null,function*(){for(;this.$a()<0&&!(yield this.Ua()););if(this.buffer.length===0)return null;let e=this.$a();e<0&&this.Qa("Reached the end of bundle when a length string is expected.");let n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n})}Ka(e){return w(this,null,function*(){for(;this.buffer.length<e;)(yield this.Ua())&&this.Qa("Reached the end of bundle when more is expected.");let n=this.La.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n})}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){return w(this,null,function*(){let e=yield this.Ba.read();if(!e.done){let n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done})}};var Zx=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){return w(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new x(_.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");let n=yield function(r,o){return w(this,null,function*(){let s=F(r),a=Wu(s.serializer)+"/documents",c={documents:o.map(h=>Gu(s.serializer,h))},l=yield s.Co("BatchGetDocuments",a,c,o.length),u=new Map;l.forEach(h=>{let f=b6(s.serializer,h);u.set(f.key.toString(),f)});let d=[];return o.forEach(h=>{let f=u.get(h.toString());z(!!f),d.push(f)}),d})}(this.datastore,e);return n.forEach(i=>this.recordVersion(i)),n})}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new no(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return w(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;let e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,i)=>{let r=P.fromPath(i);this.mutations.push(new Uu(r,this.precondition(r)))}),yield function(i,r){return w(this,null,function*(){let o=F(i),s=Wu(o.serializer)+"/documents",a={writes:r.map(c=>Ku(o.serializer,c))};yield o.wo("Commit",s,a)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw O();n=$.min()}let i=this.readVersions.get(e.key.toString());if(i){if(!n.isEqual(i))throw new x(_.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){let n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual($.min())?tt.exists(!1):tt.updateTime(n):tt.none()}preconditionForUpdate(e){let n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual($.min()))throw new x(_.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return tt.updateTime(n)}return tt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var Xx=class{constructor(e,n,i,r,o){this.asyncQueue=e,this.datastore=n,this.options=i,this.updateFunction=r,this.deferred=o,this.Wa=i.maxAttempts,this.zo=new Xu(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){this.zo.ko(()=>w(this,null,function*(){let e=new Zx(this.datastore),n=this.za(e);n&&n.then(i=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(i)}).catch(r=>{this.ja(r)}))}).catch(i=>{this.ja(i)})}))}za(e){try{let n=this.updateFunction(e);return!od(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if(e.name==="FirebaseError"){let n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!EN(n)}return!1}};var Jx=class{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=lt.UNAUTHENTICATED,this.clientId=ip.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,o=>w(this,null,function*(){E("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(i,o=>(E("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){return w(this,null,function*(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}})}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new x(_.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ut;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let i=vc(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function tp(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),E("FirestoreClient","Initializing OfflineComponentProvider");let n=yield t.getConfiguration();yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(r=>w(this,null,function*(){i.isEqual(r)||(yield qN(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function eE(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield jE(t);E("FirestoreClient","Initializing OnlineComponentProvider");let i=yield t.getConfiguration();yield e.initialize(n,i),t.setCredentialChangeListener(r=>RP(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,o)=>RP(e.remoteStore,o)),t._onlineComponents=e})}function aF(t){return t.name==="FirebaseError"?t.code===_.FAILED_PRECONDITION||t.code===_.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function jE(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){E("FirestoreClient","Using user provided OfflineComponentProvider");try{yield tp(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!aF(n))throw n;On("Error using user provided cache. Falling back to memory cache: "+n),yield tp(t,new td)}}else E("FirestoreClient","Using default OfflineComponentProvider"),yield tp(t,new td);return t._offlineComponents})}function eg(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(E("FirestoreClient","Using user provided OnlineComponentProvider"),yield eE(t,t._uninitializedComponentsProvider._online)):(E("FirestoreClient","Using default OnlineComponentProvider"),yield eE(t,new nd))),t._onlineComponents})}function cF(t){return jE(t).then(e=>e.persistence)}function BE(t){return jE(t).then(e=>e.localStore)}function lF(t){return eg(t).then(e=>e.remoteStore)}function UE(t){return eg(t).then(e=>e.syncEngine)}function uG(t){return eg(t).then(e=>e.datastore)}function fc(t){return w(this,null,function*(){let e=yield eg(t),n=e.eventManager;return n.onListen=G6.bind(null,e.syncEngine),n.onUnlisten=W6.bind(null,e.syncEngine),n})}function dG(t){return t.asyncQueue.enqueue(()=>w(this,null,function*(){let e=yield cF(t),n=yield lF(t);return e.setNetworkEnabled(!0),function(r){let o=F(r);return o.C_.delete(0),ud(o)}(n)}))}function hG(t){return t.asyncQueue.enqueue(()=>w(this,null,function*(){let e=yield cF(t),n=yield lF(t);return e.setNetworkEnabled(!1),function(r){return w(this,null,function*(){let o=F(r);o.C_.add(0),yield bc(o),o.M_.set("Offline")})}(n)}))}function fG(t,e){let n=new ut;return t.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return function(r,o,s){return w(this,null,function*(){try{let a=yield function(l,u){let d=F(l);return d.persistence.runTransaction("read document","readonly",h=>d.localDocuments.getDocument(h,u))}(r,o);a.isFoundDocument()?s.resolve(a):a.isNoDocument()?s.resolve(null):s.reject(new x(_.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){let c=vc(a,`Failed to get document '${o} from cache`);s.reject(c)}})}(yield BE(t),e,n)})),n.promise}function uF(t,e,n={}){let i=new ut;return t.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return function(o,s,a,c,l){let u=new hc({next:h=>{s.enqueueAndForget(()=>ME(o,d));let f=h.docs.has(a);!f&&h.fromCache?l.reject(new x(_.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&c&&c.source==="server"?l.reject(new x(_.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new ed(gc(a.path),u,{includeMetadataChanges:!0,J_:!0});return kE(o,d)}(yield fc(t),t.asyncQueue,e,n,i)})),i.promise}function mG(t,e){let n=new ut;return t.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return function(r,o,s){return w(this,null,function*(){try{let a=yield Ap(r,o,!0),c=new Up(o,a.ls),l=c.ca(a.documents),u=c.applyChanges(l,!1);s.resolve(u.snapshot)}catch(a){let c=vc(a,`Failed to execute query '${o} against cache`);s.reject(c)}})}(yield BE(t),e,n)})),n.promise}function dF(t,e,n={}){let i=new ut;return t.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return function(o,s,a,c,l){let u=new hc({next:h=>{s.enqueueAndForget(()=>ME(o,d)),h.fromCache&&c.source==="server"?l.reject(new x(_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new ed(a,u,{includeMetadataChanges:!0,J_:!0});return kE(o,d)}(yield fc(t),t.asyncQueue,e,n,i)})),i.promise}function pG(t,e){let n=new hc(e);return t.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return function(r,o){F(r).q_.add(o),o.next()}(yield fc(t),n)})),()=>{n.Na(),t.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return function(r,o){F(r).q_.delete(o)}(yield fc(t),n)}))}}function gG(t,e,n,i){let r=function(s,a){let c;return c=typeof s=="string"?DN().encode(s):s,function(u,d){return new Yx(u,d)}(function(u,d){if(u instanceof Uint8Array)return FP(u,d);if(u instanceof ArrayBuffer)return FP(new Uint8Array(u),d);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),a)}(n,ld(e));t.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){lG(yield UE(t),r,i)}))}function bG(t,e){return t.asyncQueue.enqueue(()=>w(this,null,function*(){return function(i,r){let o=F(i);return o.persistence.runTransaction("Get named query","readonly",s=>o.Kr.getNamedQuery(s,r))}(yield BE(t),e)}))}function hF(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var OP=new Map;function zE(t,e,n){if(!n)throw new x(_.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $E(t,e,n,i){if(e===!0&&i===!0)throw new x(_.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function LP(t){if(!P.isDocumentKey(t))throw new x(_.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function VP(t){if(P.isDocumentKey(t))throw new x(_.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":O()}function ye(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new x(_.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=tg(t);throw new x(_.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function fF(t,e){if(e<=0)throw new x(_.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var $p=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new x(_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new x(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$E("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hF((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new x(_.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new x(_.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new x(_.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ms=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $p({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new x(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new x(_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $p(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new vw;switch(i.type){case"firstParty":return new Iw(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new x(_.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=OP.get(n);i&&(E("ComponentProvider","Removing Datastore"),OP.delete(n),i.terminate())}(this),Promise.resolve()}};function mF(t,e,n,i={}){var r;let o=(t=ye(t,ms))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&On("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,c;if(typeof i.mockUserToken=="string")a=i.mockUserToken,c=lt.MOCK_USER;else{a=vI(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new x(_.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new lt(l)}t._authCredentials=new ww(new np(a,c))}}var At=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Ve=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},ki=class t extends At{constructor(e,n,i){super(e,n,gc(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ve(this.firestore,null,new P(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function HE(t,e,...n){if(t=We(t),zE("collection","path",e),t instanceof ms){let i=we.fromString(e,...n);return VP(i),new ki(t,null,i)}{if(!(t instanceof Ve||t instanceof ki))throw new x(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(we.fromString(e,...n));return VP(i),new ki(t.firestore,null,i)}}function pF(t,e){if(t=ye(t,ms),zE("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new x(_.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new At(t,null,function(i){return new ei(we.emptyPath(),i)}(e))}function dd(t,e,...n){if(t=We(t),arguments.length===1&&(e=ip.newId()),zE("doc","path",e),t instanceof ms){let i=we.fromString(e,...n);return LP(i),new Ve(t,null,new P(i))}{if(!(t instanceof Ve||t instanceof ki))throw new x(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(we.fromString(e,...n));return LP(i),new Ve(t.firestore,t instanceof ki?t.converter:null,new P(i))}}function qE(t,e){return t=We(t),e=We(e),(t instanceof Ve||t instanceof ki)&&(e instanceof Ve||e instanceof ki)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function GE(t,e){return t=We(t),e=We(e),t instanceof At&&e instanceof At&&t.firestore===e.firestore&&ad(t._query,e._query)&&t.converter===e.converter}var tE=class{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Xu(this,"async_queue_retry"),this.iu=()=>{let n=ep();n&&E("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};let e=ep();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;let n=ep();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});let n=new ut;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){return w(this,null,function*(){if(this.Ya.length!==0){try{yield this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!oo(e))throw e;E("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}})}ou(e){let n=this.Ja.then(()=>(this.tu=!0,e().catch(i=>{this.eu=i,this.tu=!1;let r=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i);throw it("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.tu=!1,i))));return this.Ja=n,n}enqueueAfterDelay(e,n,i){this.su(),this.ru.indexOf(e)>-1&&(n=0);let r=Bx.createAndSchedule(this,e,n,i,o=>this.au(o));return this.Xa.push(r),r}su(){this.eu&&O()}verifyOperationInProgress(){}uu(){return w(this,null,function*(){let e;do e=this.Ja,yield e;while(e!==this.Ja)})}cu(e){for(let n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){let n=this.Xa.indexOf(e);this.Xa.splice(n,1)}};function nE(t){return function(n,i){if(typeof n!="object"||n===null)return!1;let r=n;for(let o of i)if(o in r&&typeof r[o]=="function")return!0;return!1}(t,["next","error","complete"])}var iE=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new ut,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,i){this._progressObserver={next:e,error:n,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}};var gF=-1,qe=class extends ms{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new tE}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||bF(this),this._firestoreClient.terminate()}};function ft(t){return t._firestoreClient||bF(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function bF(t){var e,n,i;let r=t._freezeSettings(),o=function(a,c,l,u){return new Rw(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,hF(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new Jx(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function _F(t,e){TF(t=ye(t,qe));let n=ft(t);if(n._uninitializedComponentsProvider)throw new x(_.FAILED_PRECONDITION,"SDK cache is already specified.");On("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let i=t._freezeSettings(),r=new nd;return vF(n,r,new zp(r,i.cacheSizeBytes,e?.forceOwnership))}function yF(t){TF(t=ye(t,qe));let e=ft(t);if(e._uninitializedComponentsProvider)throw new x(_.FAILED_PRECONDITION,"SDK cache is already specified.");On("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let n=t._freezeSettings(),i=new nd;return vF(e,i,new Qx(i,n.cacheSizeBytes))}function vF(t,e,n){let i=new ut;return t.asyncQueue.enqueue(()=>w(this,null,function*(){try{yield tp(t,n),yield eE(t,e),i.resolve()}catch(r){let o=r;if(!aF(o))throw o;On("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function wF(t){if(t._initialized&&!t._terminated)throw new x(_.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let e=new ut;return t._queue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{yield function(i){return w(this,null,function*(){if(!Kr.D())return Promise.resolve();let r=i+"main";yield Kr.delete(r)})}(CE(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}function xF(t){return function(n){let i=new ut;return n.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return X6(yield UE(n),i)})),i.promise}(ft(t=ye(t,qe)))}function EF(t){return dG(ft(t=ye(t,qe)))}function IF(t){return hG(ft(t=ye(t,qe)))}function DF(t,e){let n=ft(t=ye(t,qe)),i=new iE;return gG(n,t._databaseId,e,i),i}function CF(t,e){return bG(ft(t=ye(t,qe)),e).then(n=>n?new At(t,null,n.query):null)}function TF(t){if(t._initialized||t._terminated)throw new x(_.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Ni=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(yt.fromBase64String(e))}catch(n){throw new x(_.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ni=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new x(_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var er=class{constructor(e){this._methodName=e}};var ps=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new x(_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new x(_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}};var _G=/^__.*__$/,rE=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new ti(e,this.data,this.fieldMask,n,this.fieldTransforms):new to(e,this.data,n,this.fieldTransforms)}},Hp=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new ti(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function SF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw O()}}var qp=class t{constructor(e,n,i,r,o,s){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Tu({path:i,du:!1});return r.Au(e),r}Ru(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Gp(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(SF(this.Iu)&&_G.test(e))throw this.mu('Document fields cannot begin and end with "__"')}},oE=class{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||ld(e)}pu(e,n,i,r=!1){return new qp({Iu:e,methodName:n,gu:i,path:rt.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function ys(t){let e=t._freezeSettings(),n=ld(t._databaseId);return new oE(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ng(t,e,n,i,r,o={}){let s=t.pu(o.merge||o.mergeFields?2:0,e,n,r);QE("Data must be an object, but it was:",s,i);let a=MF(i,s),c,l;if(o.merge)c=new En(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let u=[];for(let d of o.mergeFields){let h=uE(e,d,n);if(!s.contains(h))throw new x(_.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);PF(u,h)||u.push(h)}c=new En(u),l=s.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=s.fieldTransforms;return new rE(new jt(a),c,l)}var id=class t extends er{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function AF(t,e,n){return new qp({Iu:3,gu:e.settings.gu,methodName:t._methodName,du:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var sE=class t extends er{_toFieldTransform(e){return new ds(e.path,new Jr)}isEqual(e){return e instanceof t}},aE=class extends er{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){let n=AF(this,e,!0),i=this.yu.map(o=>vs(o,n)),r=new Xi(i);return new ds(e.path,r)}isEqual(e){return this===e}},cE=class extends er{constructor(e,n){super(e),this.yu=n}_toFieldTransform(e){let n=AF(this,e,!0),i=this.yu.map(o=>vs(o,n)),r=new Ji(i);return new ds(e.path,r)}isEqual(e){return this===e}},lE=class extends er{constructor(e,n){super(e),this.wu=n}_toFieldTransform(e){let n=new eo(e.serializer,gN(e.serializer,this.wu));return new ds(e.path,n)}isEqual(e){return this===e}};function WE(t,e,n,i){let r=t.pu(1,e,n);QE("Data must be an object, but it was:",r,i);let o=[],s=jt.empty();_s(i,(c,l)=>{let u=YE(e,c,n);l=We(l);let d=r.Ru(u);if(l instanceof id)o.push(u);else{let h=vs(l,d);h!=null&&(o.push(u),s.set(u,h))}});let a=new En(o);return new Hp(s,a,r.fieldTransforms)}function KE(t,e,n,i,r,o){let s=t.pu(1,e,n),a=[uE(e,i,n)],c=[r];if(o.length%2!=0)throw new x(_.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(uE(e,o[h])),c.push(o[h+1]);let l=[],u=jt.empty();for(let h=a.length-1;h>=0;--h)if(!PF(l,a[h])){let f=a[h],m=c[h];m=We(m);let p=s.Ru(f);if(m instanceof id)l.push(f);else{let g=vs(m,p);g!=null&&(l.push(f),u.set(f,g))}}let d=new En(l);return new Hp(u,d,s.fieldTransforms)}function kF(t,e,n,i=!1){return vs(n,t.pu(i?4:3,e))}function vs(t,e){if(RF(t=We(t)))return QE("Unsupported field value:",e,t),MF(t,e);if(t instanceof er)return function(i,r){if(!SF(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);let o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(i,r){let o=[],s=0;for(let a of i){let c=vs(a,r.Vu(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(t,e)}return function(i,r){if((i=We(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return gN(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let o=Qe.fromDate(i);return{timestampValue:oc(r.serializer,o)}}if(i instanceof Qe){let o=new Qe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:oc(r.serializer,o)}}if(i instanceof ps)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ni)return{bytesValue:CN(r.serializer,i._byteString)};if(i instanceof Ve){let o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:EE(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${tg(i)}`)}(t,e)}function MF(t,e){let n={};return XP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_s(t,(i,r)=>{let o=vs(r,e.Eu(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function RF(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qe||t instanceof ps||t instanceof Ni||t instanceof Ve||t instanceof er)}function QE(t,e,n){if(!RF(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){let i=tg(n);throw i==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+i)}}function uE(t,e,n){if((e=We(e))instanceof ni)return e._internalPath;if(typeof e=="string")return YE(t,e);throw Gp("Field path arguments must be of type string or ",t,!1,void 0,n)}var yG=new RegExp("[~\\*/\\[\\]]");function YE(t,e,n){if(e.search(yG)>=0)throw Gp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ni(...e.split("."))._internalPath}catch{throw Gp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gp(t,e,n,i,r){let o=i&&!i.isEmpty(),s=r!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new x(_.INVALID_ARGUMENT,a+t+c)}function PF(t,e){return t.some(n=>n.isEqual(e))}var gs=class{constructor(e,n,i,r,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new dE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(ig("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},dE=class extends gs{data(){return super.data()}};function ig(t,e){return typeof e=="string"?YE(t,e):e instanceof ni?e._internalPath:e._delegate._internalPath}function NF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new x(_.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var rd=class{},bs=class extends rd{};function ir(t,e,...n){let i=[];e instanceof rd&&i.push(e),i=i.concat(n),function(o){let s=o.filter(c=>c instanceof hE).length,a=o.filter(c=>c instanceof Wp).length;if(s>1||s>0&&a>0)throw new x(_.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)t=r._apply(t);return t}var Wp=class t extends bs{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=this._parse(e);return HF(e._query,n),new At(e.firestore,e.converter,qw(e._query,n))}_parse(e){let n=ys(e.firestore);return function(o,s,a,c,l,u,d){let h;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new x(_.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){BP(d,u);let f=[];for(let m of d)f.push(jP(c,o,m));h={arrayValue:{values:f}}}else h=jP(c,o,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||BP(d,u),h=kF(a,s,d,u==="in"||u==="not-in");return me.create(l,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function FF(t,e,n){let i=e,r=ig("where",t);return Wp._create(r,i,n)}var hE=class t extends rd{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Ae.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(r,o){let s=r,a=o.getFlattenedFilters();for(let c of a)HF(s,c),s=qw(s,c)}(e._query,n),new At(e.firestore,e.converter,qw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var fE=class t extends bs{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(r,o,s){if(r.startAt!==null)throw new x(_.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new x(_.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ls(o,s)}(e._query,this._field,this._direction);return new At(e.firestore,e.converter,function(r,o){let s=r.explicitOrderBy.concat([o]);return new ei(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}};function OF(t,e="asc"){let n=e,i=ig("orderBy",t);return fE._create(i,n)}var Kp=class t extends bs{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new t(e,n,i)}_apply(e){return new At(e.firestore,e.converter,fp(e._query,this._limit,this._limitType))}};function LF(t){return fF("limit",t),Kp._create("limit",t,"F")}function VF(t){return fF("limitToLast",t),Kp._create("limitToLast",t,"L")}var Qp=class t extends bs{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=$F(e,this.type,this._docOrFields,this._inclusive);return new At(e.firestore,e.converter,function(r,o){return new ei(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)}(e._query,n))}};function jF(...t){return Qp._create("startAt",t,!0)}function BF(...t){return Qp._create("startAfter",t,!1)}var Yp=class t extends bs{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=$F(e,this.type,this._docOrFields,this._inclusive);return new At(e.firestore,e.converter,function(r,o){return new ei(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)}(e._query,n))}};function UF(...t){return Yp._create("endBefore",t,!1)}function zF(...t){return Yp._create("endAt",t,!0)}function $F(t,e,n,i){if(n[0]=We(n[0]),n[0]instanceof gs)return function(o,s,a,c,l){if(!c)throw new x(_.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let u=[];for(let d of Za(o))if(d.field.isKeyField())u.push(cs(s,c.key));else{let h=c.data.field(d.field);if(Xp(h))throw new x(_.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){let f=d.field.canonicalString();throw new x(_.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${f}' (used as the orderBy) does not exist.`)}u.push(h)}return new Ri(u,l)}(t._query,t.firestore._databaseId,e,n[0]._document,i);{let r=ys(t.firestore);return function(s,a,c,l,u,d){let h=s.explicitOrderBy;if(u.length>h.length)throw new x(_.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let f=[];for(let m=0;m<u.length;m++){let p=u[m];if(h[m].field.isKeyField()){if(typeof p!="string")throw new x(_.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof p}`);if(!wE(s)&&p.indexOf("/")!==-1)throw new x(_.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${p}' contains a slash.`);let g=s.path.child(we.fromString(p));if(!P.isDocumentKey(g))throw new x(_.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${g}' is not because it contains an odd number of segments.`);let y=new P(g);f.push(cs(a,y))}else{let g=kF(c,l,p);f.push(g)}}return new Ri(f,d)}(t._query,t.firestore._databaseId,r,e,n,i)}}function jP(t,e,n){if(typeof(n=We(n))=="string"){if(n==="")throw new x(_.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wE(e)&&n.indexOf("/")!==-1)throw new x(_.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let i=e.path.child(we.fromString(n));if(!P.isDocumentKey(i))throw new x(_.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return cs(t,new P(i))}if(n instanceof Ve)return cs(t,n._key);throw new x(_.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tg(n)}.`)}function BP(t,e){if(!Array.isArray(t)||t.length===0)throw new x(_.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HF(t,e){let n=function(r,o){for(let s of r)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new x(_.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new x(_.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var mc=class{convertValue(e,n="none"){switch(as(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Yr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw O()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let i={};return _s(e,(r,o)=>{i[r]=this.convertValue(o,n)}),i}convertGeoPoint(e){return new ps(et(e.latitude),et(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":let i=yE(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Vu(e));default:return null}}convertTimestamp(e){let n=Qr(e);return new Qe(n.seconds,n.nanos)}convertDocumentKey(e,n){let i=we.fromString(e);z(ON(i));let r=new Zr(i.get(1),i.get(3)),o=new P(i.popFirst(5));return r.isEqual(n)||it(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function rg(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}var mE=class extends mc{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ni(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ve(this.firestore,null,n)}};var Zi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Vn=class extends gs{constructor(e,n,i,r,o,s){super(e,n,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Gr(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let i=this._document.data.field(ig("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}},Gr=class extends Vn{data(e={}){return super.data(e)}},ii=class{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Zi(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Gr(this._firestore,this._userDataWriter,i.key,i,new Zi(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new x(_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>{let c=new Gr(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Zi(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new Gr(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Zi(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),l=-1,u=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:vG(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function vG(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return O()}}function ZE(t,e){return t instanceof Vn&&e instanceof Vn?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof ii&&e instanceof ii&&t._firestore===e._firestore&&GE(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function qF(t){t=ye(t,Ve);let e=ye(t.firestore,qe);return uF(ft(e),t._key).then(n=>tI(e,t,n))}var tr=class extends mc{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ni(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ve(this.firestore,null,n)}};function GF(t){t=ye(t,Ve);let e=ye(t.firestore,qe),n=ft(e),i=new tr(e);return fG(n,t._key).then(r=>new Vn(e,i,t._key,r,new Zi(r!==null&&r.hasLocalMutations,!0),t.converter))}function WF(t){t=ye(t,Ve);let e=ye(t.firestore,qe);return uF(ft(e),t._key,{source:"server"}).then(n=>tI(e,t,n))}function KF(t){t=ye(t,At);let e=ye(t.firestore,qe),n=ft(e),i=new tr(e);return NF(t._query),dF(n,t._query).then(r=>new ii(e,i,t,r))}function QF(t){t=ye(t,At);let e=ye(t.firestore,qe),n=ft(e),i=new tr(e);return mG(n,t._query).then(r=>new ii(e,i,t,r))}function YF(t){t=ye(t,At);let e=ye(t.firestore,qe),n=ft(e),i=new tr(e);return dF(n,t._query,{source:"server"}).then(r=>new ii(e,i,t,r))}function XE(t,e,n){t=ye(t,Ve);let i=ye(t.firestore,qe),r=rg(t.converter,e,n);return wc(i,[ng(ys(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,tt.none())])}function JE(t,e,n,...i){t=ye(t,Ve);let r=ye(t.firestore,qe),o=ys(r),s;return s=typeof(e=We(e))=="string"||e instanceof ni?KE(o,"updateDoc",t._key,e,n,i):WE(o,"updateDoc",t._key,e),wc(r,[s.toMutation(t._key,tt.exists(!0))])}function ZF(t){return wc(ye(t.firestore,qe),[new no(t._key,tt.none())])}function XF(t,e){let n=ye(t.firestore,qe),i=dd(t),r=rg(t.converter,e);return wc(n,[ng(ys(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,tt.exists(!1))]).then(()=>i)}function eI(t,...e){var n,i,r;t=We(t);let o={includeMetadataChanges:!1},s=0;typeof e[s]!="object"||nE(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges};if(nE(e[s])){let d=e[s];e[s]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[s+1]=(i=d.error)===null||i===void 0?void 0:i.bind(d),e[s+2]=(r=d.complete)===null||r===void 0?void 0:r.bind(d)}let c,l,u;if(t instanceof Ve)l=ye(t.firestore,qe),u=gc(t._key.path),c={next:d=>{e[s]&&e[s](tI(l,t,d))},error:e[s+1],complete:e[s+2]};else{let d=ye(t,At);l=ye(d.firestore,qe),u=d._query;let h=new tr(l);c={next:f=>{e[s]&&e[s](new ii(l,h,d,f))},error:e[s+1],complete:e[s+2]},NF(t._query)}return function(h,f,m,p){let g=new hc(p),y=new ed(f,g,m);return h.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return kE(yield fc(h),y)})),()=>{g.Na(),h.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return ME(yield fc(h),y)}))}}(ft(l),u,a,c)}function JF(t,e){return pG(ft(t=ye(t,qe)),nE(e)?e:{next:e})}function wc(t,e){return function(i,r){let o=new ut;return i.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return K6(yield UE(i),r,o)})),o.promise}(ft(t),e)}function tI(t,e,n){let i=n.docs.get(e._key),r=new tr(t);return new Vn(t,r,e._key,i,new Zi(n.hasPendingWrites,n.fromCache),e.converter)}var wG={maxAttempts:5};var Zp=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ys(e)}set(e,n,i){this._verifyNotCommitted();let r=Hr(e,this._firestore),o=rg(r.converter,n,i),s=ng(this._dataReader,"WriteBatch.set",r._key,o,r.converter!==null,i);return this._mutations.push(s.toMutation(r._key,tt.none())),this}update(e,n,i,...r){this._verifyNotCommitted();let o=Hr(e,this._firestore),s;return s=typeof(n=We(n))=="string"||n instanceof ni?KE(this._dataReader,"WriteBatch.update",o._key,n,i,r):WE(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,tt.exists(!0))),this}delete(e){this._verifyNotCommitted();let n=Hr(e,this._firestore);return this._mutations=this._mutations.concat(new no(n._key,tt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new x(_.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Hr(t,e){if((t=We(t)).firestore!==e)throw new x(_.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var pE=class extends class{constructor(n,i){this._firestore=n,this._transaction=i,this._dataReader=ys(n)}get(n){let i=Hr(n,this._firestore),r=new mE(this._firestore);return this._transaction.lookup([i._key]).then(o=>{if(!o||o.length!==1)return O();let s=o[0];if(s.isFoundDocument())return new gs(this._firestore,r,s.key,s,i.converter);if(s.isNoDocument())return new gs(this._firestore,r,i._key,null,i.converter);throw O()})}set(n,i,r){let o=Hr(n,this._firestore),s=rg(o.converter,i,r),a=ng(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,r);return this._transaction.set(o._key,a),this}update(n,i,r,...o){let s=Hr(n,this._firestore),a;return a=typeof(i=We(i))=="string"||i instanceof ni?KE(this._dataReader,"Transaction.update",s._key,i,r,o):WE(this._dataReader,"Transaction.update",s._key,i),this._transaction.update(s._key,a),this}delete(n){let i=Hr(n,this._firestore);return this._transaction.delete(i._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){let n=Hr(e,this._firestore),i=new tr(this._firestore);return super.get(e).then(r=>new Vn(this._firestore,i,n._key,r._document,new Zi(!1,!1),n.converter))}};function eO(t,e,n){t=ye(t,qe);let i=Object.assign(Object.assign({},wG),n);return function(o){if(o.maxAttempts<1)throw new x(_.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,s,a){let c=new ut;return o.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){let l=yield uG(o);new Xx(o.asyncQueue,l,a,s,c).run()})),c.promise}(ft(t),r=>e(new pE(t,r)),i)}function tO(){return new id("deleteField")}function nO(){return new sE("serverTimestamp")}function iO(...t){return new aE("arrayUnion",t)}function rO(...t){return new cE("arrayRemove",t)}function oO(t){return new lE("increment",t)}(function(e,n=!0){(function(r){pc=r})(II),Cc(new lo("firestore",(i,{instanceIdentifier:r,options:o})=>{let s=i.getProvider("app").getImmediate(),a=new qe(new xw(i.getProvider("auth-internal")),new Cw(i.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new x(_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zr(l.options.projectId,u)}(s,r),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),or(z1,"4.4.0",e),or(z1,"4.4.0","esm2017")})();var xG="@firebase/firestore-compat",EG="0.3.23";function aI(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new x("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function sO(){if(typeof Uint8Array>"u")throw new x("unimplemented","Uint8Arrays are not available in this environment.")}function aO(){if(!JP())throw new x("unimplemented","Blobs are unavailable in Firestore in this environment.")}var og=class t{constructor(e){this._delegate=e}static fromBase64String(e){return aO(),new t(Ni.fromBase64String(e))}static fromUint8Array(e){return sO(),new t(Ni.fromUint8Array(e))}toBase64(){return aO(),this._delegate.toBase64()}toUint8Array(){return sO(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function nI(t){return IG(t,["next","error","complete"])}function IG(t,e){if(typeof t!="object"||t===null)return!1;let n=t;for(let i of e)if(i in n&&typeof n[i]=="function")return!0;return!1}var iI=class{enableIndexedDbPersistence(e,n){return _F(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return yF(e._delegate)}clearIndexedDbPersistence(e){return wF(e._delegate)}},sg=class{constructor(e,n,i){this._delegate=n,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Zr||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&On("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,i={}){mF(this._delegate,e,n,i)}enableNetwork(){return EF(this._delegate)}disableNetwork(){return IF(this._delegate)}enablePersistence(e){let n=!1,i=!1;return e&&(n=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,$E("synchronizeTabs",n,"experimentalForceOwningTab",i)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return xF(this._delegate)}onSnapshotsInSync(e){return JF(this._delegate,e)}get app(){if(!this._appCompat)throw new x("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ic(this,HE(this._delegate,e))}catch(n){throw Xt(n,"collection()","Firestore.collection()")}}doc(e){try{return new Fi(this,dd(this._delegate,e))}catch(n){throw Xt(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Is(this,pF(this._delegate,e))}catch(n){throw Xt(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return eO(this._delegate,n=>e(new ag(this,n)))}batch(){return ft(this._delegate),new cg(new Zp(this._delegate,e=>wc(this._delegate,e)))}loadBundle(e){return DF(this._delegate,e)}namedQuery(e){return CF(this._delegate,e).then(n=>n?new Is(this,n):null)}},xc=class extends mc{constructor(e){super(),this.firestore=e}convertBytes(e){return new og(new Ni(e))}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return Fi.forKey(n,this.firestore,null)}};function DG(t){UP(t)}var ag=class{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new xc(e)}get(e){let n=ws(e);return this._delegate.get(n).then(i=>new xs(this._firestore,new Vn(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,n.converter)))}set(e,n,i){let r=ws(e);return i?(aI("Transaction.set",i),this._delegate.set(r,n,i)):this._delegate.set(r,n),this}update(e,n,i,...r){let o=ws(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,i,...r),this}delete(e){let n=ws(e);return this._delegate.delete(n),this}},cg=class{constructor(e){this._delegate=e}set(e,n,i){let r=ws(e);return i?(aI("WriteBatch.set",i),this._delegate.set(r,n,i)):this._delegate.set(r,n),this}update(e,n,i,...r){let o=ws(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,i,...r),this}delete(e){let n=ws(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}},Ec=class t{constructor(e,n,i){this._firestore=e,this._userDataWriter=n,this._delegate=i}fromFirestore(e,n){let i=new Gr(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Es(this._firestore,i),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){let i=t.INSTANCES,r=i.get(e);r||(r=new WeakMap,i.set(e,r));let o=r.get(n);return o||(o=new t(e,new xc(e),n),r.set(n,o)),o}};Ec.INSTANCES=new WeakMap;var Fi=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new xc(e)}static forPath(e,n,i){if(e.length%2!==0)throw new x("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new t(n,new Ve(n._delegate,i,new P(e)))}static forKey(e,n,i){return new t(n,new Ve(n._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Ic(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ic(this.firestore,HE(this._delegate,e))}catch(n){throw Xt(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=We(e),e instanceof Ve?qE(this._delegate,e):!1}set(e,n){n=aI("DocumentReference.set",n);try{return n?XE(this._delegate,e,n):XE(this._delegate,e)}catch(i){throw Xt(i,"setDoc()","DocumentReference.set()")}}update(e,n,...i){try{return arguments.length===1?JE(this._delegate,e):JE(this._delegate,e,n,...i)}catch(r){throw Xt(r,"updateDoc()","DocumentReference.update()")}}delete(){return ZF(this._delegate)}onSnapshot(...e){let n=cO(e),i=lO(e,r=>new xs(this.firestore,new Vn(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return eI(this._delegate,n,i)}get(e){let n;return e?.source==="cache"?n=GF(this._delegate):e?.source==="server"?n=WF(this._delegate):n=qF(this._delegate),n.then(i=>new xs(this.firestore,new Vn(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Ec.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function Xt(t,e,n){return t.message=t.message.replace(e,n),t}function cO(t){for(let e of t)if(typeof e=="object"&&!nI(e))return e;return{}}function lO(t,e){var n,i;let r;return nI(t[0])?r=t[0]:nI(t[1])?r=t[1]:typeof t[0]=="function"?r={next:t[0],error:t[1],complete:t[2]}:r={next:t[1],error:t[2],complete:t[3]},{next:o=>{r.next&&r.next(e(o))},error:(n=r.error)===null||n===void 0?void 0:n.bind(r),complete:(i=r.complete)===null||i===void 0?void 0:i.bind(r)}}var xs=class{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Fi(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return ZE(this._delegate,e._delegate)}},Es=class extends xs{data(e){let n=this._delegate.data(e);return this._delegate._converter||zP(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}},Is=class t{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new xc(e)}where(e,n,i){try{return new t(this.firestore,ir(this._delegate,FF(e,n,i)))}catch(r){throw Xt(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new t(this.firestore,ir(this._delegate,OF(e,n)))}catch(i){throw Xt(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new t(this.firestore,ir(this._delegate,LF(e)))}catch(n){throw Xt(n,"limit()","Query.limit()")}}limitToLast(e){try{return new t(this.firestore,ir(this._delegate,VF(e)))}catch(n){throw Xt(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new t(this.firestore,ir(this._delegate,jF(...e)))}catch(n){throw Xt(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new t(this.firestore,ir(this._delegate,BF(...e)))}catch(n){throw Xt(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new t(this.firestore,ir(this._delegate,UF(...e)))}catch(n){throw Xt(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new t(this.firestore,ir(this._delegate,zF(...e)))}catch(n){throw Xt(n,"endAt()","Query.endAt()")}}isEqual(e){return GE(this._delegate,e._delegate)}get(e){let n;return e?.source==="cache"?n=QF(this._delegate):e?.source==="server"?n=YF(this._delegate):n=KF(this._delegate),n.then(i=>new hd(this.firestore,new ii(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){let n=cO(e),i=lO(e,r=>new hd(this.firestore,new ii(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return eI(this._delegate,n,i)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Ec.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},rI=class{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Es(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},hd=class{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Is(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Es(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new rI(this._firestore,n))}forEach(e,n){this._delegate.forEach(i=>{e.call(n,new Es(this._firestore,i))})}isEqual(e){return ZE(this._delegate,e._delegate)}},Ic=class t extends Is{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new Fi(this.firestore,e):null}doc(e){try{return e===void 0?new Fi(this.firestore,dd(this._delegate)):new Fi(this.firestore,dd(this._delegate,e))}catch(n){throw Xt(n,"doc()","CollectionReference.doc()")}}add(e){return XF(this._delegate,e).then(n=>new Fi(this.firestore,n))}isEqual(e){return qE(this._delegate,e._delegate)}withConverter(e){return new t(this.firestore,e?this._delegate.withConverter(Ec.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function ws(t){return ye(t,Ve)}var oI=class t{constructor(...e){this._delegate=new ni(...e)}static documentId(){return new t(rt.keyField().canonicalString())}isEqual(e){return e=We(e),e instanceof ni?this._delegate._internalPath.isEqual(e._internalPath):!1}};var sI=class t{constructor(e){this._delegate=e}static serverTimestamp(){let e=nO();return e._methodName="FieldValue.serverTimestamp",new t(e)}static delete(){let e=tO();return e._methodName="FieldValue.delete",new t(e)}static arrayUnion(...e){let n=iO(...e);return n._methodName="FieldValue.arrayUnion",new t(n)}static arrayRemove(...e){let n=rO(...e);return n._methodName="FieldValue.arrayRemove",new t(n)}static increment(e){let n=oO(e);return n._methodName="FieldValue.increment",new t(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}};var CG={Firestore:sg,GeoPoint:ps,Timestamp:Qe,Blob:og,Transaction:ag,WriteBatch:cg,DocumentReference:Fi,DocumentSnapshot:xs,Query:Is,QueryDocumentSnapshot:Es,QuerySnapshot:hd,CollectionReference:Ic,FieldPath:oI,FieldValue:sI,setLogLevel:DG,CACHE_SIZE_UNLIMITED:gF};function TG(t,e){t.INTERNAL.registerComponent(new lo("firestore-compat",n=>{let i=n.getProvider("app-compat").getImmediate(),r=n.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},CG)))}function SG(t){TG(t,(e,n)=>new sg(e,n,new iI)),t.registerVersion(xG,EG)}SG(hn);function AG(t,e=si){return new W(n=>{let i;return e!=null?e.schedule(()=>{i=t.onSnapshot({includeMetadataChanges:!0},n)}):i=t.onSnapshot({includeMetadataChanges:!0},n),()=>{i?.()}})}function uO(t,e){return AG(t,e)}function kG(t,e){return uO(t,e).pipe(tn(void 0),Vs(),j(n=>{let[i,r]=n;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}function uI(t,e){return uO(t,e).pipe(j(n=>({payload:n,type:"query"})))}var lg=class{ref;afs;constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){let i=this.ref.collection(e),{ref:r,query:o}=fO(i,n);return new dg(r,o,this.afs)}snapshotChanges(){return kG(this.ref,this.afs.schedulers.outsideAngular).pipe(cn)}valueChanges(e={}){return this.snapshotChanges().pipe(j(({payload:n})=>e.idField?Ee(M({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return pe(this.ref.get(e)).pipe(cn)}};function ug(t,e){return uI(t,e).pipe(tn(void 0),Vs(),j(n=>{let[i,r]=n,o=r.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,c)=>{let l=o.find(d=>d.doc.ref.isEqual(a.ref)),u=i?.payload.docs.find(d=>d.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&u&&JSON.stringify(u.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function dO(t,e,n){return ug(t,n).pipe(bo((i,r)=>MG(i,r.map(o=>o.payload),e),[]),dr(),j(i=>i.map(r=>({type:r.type,payload:r}))))}function MG(t,e,n){return e.forEach(i=>{n.indexOf(i.type)>-1&&(t=RG(t,i))}),t}function cI(t,e,n,...i){let r=t.slice();return r.splice(e,n,...i),r}function RG(t,e){switch(e.type){case"added":if(!(t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)))return cI(t,e.newIndex,0,e);break;case"modified":if(t[e.oldIndex]==null||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))if(e.oldIndex!==e.newIndex){let n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}else return cI(t,e.newIndex,1,e);break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return cI(t,e.oldIndex,1);break}return t}function hO(t){return(!t||t.length===0)&&(t=["added","removed","modified"]),t}var dg=class{ref;query;afs;constructor(e,n,i){this.ref=e,this.query=n,this.afs=i}stateChanges(e){let n=ug(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe(j(i=>i.filter(r=>e.indexOf(r.type)>-1)))),n.pipe(tn(void 0),Vs(),Fe(([i,r])=>r.length>0||!i),j(([,i])=>i),cn)}auditTrail(e){return this.stateChanges(e).pipe(bo((n,i)=>[...n,...i],[]))}snapshotChanges(e){let n=hO(e);return dO(this.query,n,this.afs.schedulers.outsideAngular).pipe(cn)}valueChanges(e={}){return uI(this.query,this.afs.schedulers.outsideAngular).pipe(j(n=>n.payload.docs.map(i=>e.idField?Ee(M({},i.data()),{[e.idField]:i.id}):i.data())),cn)}get(e){return pe(this.query.get(e)).pipe(cn)}add(e){return this.ref.add(e)}doc(e){return new lg(this.ref.doc(e),this.afs)}},lI=class{query;afs;constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return!e||e.length===0?ug(this.query,this.afs.schedulers.outsideAngular).pipe(cn):ug(this.query,this.afs.schedulers.outsideAngular).pipe(j(n=>n.filter(i=>e.indexOf(i.type)>-1)),Fe(n=>n.length>0),cn)}auditTrail(e){return this.stateChanges(e).pipe(bo((n,i)=>[...n,...i],[]))}snapshotChanges(e){let n=hO(e);return dO(this.query,n,this.afs.schedulers.outsideAngular).pipe(cn)}valueChanges(e={}){return uI(this.query,this.afs.schedulers.outsideAngular).pipe(j(i=>i.payload.docs.map(r=>e.idField?M({[e.idField]:r.id},r.data()):r.data())),cn)}get(e){return pe(this.query.get(e)).pipe(cn)}},PG=new T("angularfire2.enableFirestorePersistence"),NG=new T("angularfire2.firestore.persistenceSettings"),FG=new T("angularfire2.firestore.settings"),OG=new T("angularfire2.firestore.use-emulator");function fO(t,e=n=>n){return{query:e(t),ref:t}}var mO=(()=>{class t{schedulers;firestore;persistenceEnabled$;constructor(n,i,r,o,s,a,c,l,u,d,h,f,m,p,g,y,A){this.schedulers=c;let C=eu(n,a,i),R=u;d&&D0(C,a,h,m,p,g,f,y),[this.firestore,this.persistenceEnabled$]=gm(`${C.name}.firestore`,"AngularFirestore",C.name,()=>{let B=a.runOutsideAngular(()=>C.firestore());if(o&&B.settings(o),R&&B.useEmulator(...R),r&&!Fo(s)){let H=()=>{try{return pe(B.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch(oe){return typeof console<"u"&&console.warn(oe),L(!1)}};return[B,a.runOutsideAngular(H)]}else return[B,L(!1)]},[o,R,r])}collection(n,i){let r;typeof n=="string"?r=this.firestore.collection(n):r=n;let{ref:o,query:s}=fO(r,i),a=this.schedulers.ngZone.run(()=>o);return new dg(a,s,this)}collectionGroup(n,i){let r=i||(s=>s),o=this.firestore.collectionGroup(n);return new lI(r(o),this)}doc(n){let i;typeof n=="string"?i=this.firestore.doc(n):i=n;let r=this.schedulers.ngZone.run(()=>i);return new lg(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||t)(v(Ra),v(Pa,8),v(PG,8),v(FG,8),v(gt),v(U),v(fm),v(NG,8),v(OG,8),v(vR,8),v(y0,8),v(v0,8),v(w0,8),v(x0,8),v(E0,8),v(I0,8),v(Wo,8))};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();var pO=(()=>{let e=class e{constructor(i){this.store=i}read(){return this.store.collection("data").snapshotChanges()}write(i,r){this.store.collection("data").doc(i).set({value:r})}};e.\u0275fac=function(r){return new(r||e)(v(mO))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var gO=(()=>{let e=class e{constructor(i,r){this.firedataService=i,this.document=r,this.myin="",this.datamem="",this.datachat="",this.datax="",this.size=0,this.read(),this.scrollToBottom(3e3)}read(){this.firedataService.read().subscribe(i=>{let r=i.map(o=>o.payload.doc.data());this.datachat=r[0].value,this.datamem=r[1].value,this.datax=this.datamem+this.datachat,this.size=r[2].value,this.scrollToBottom(0)})}scrollToBottom(i){setTimeout(()=>{let r=this.document.getElementById("ta");r&&(r.scrollTop=r.scrollHeight)},i)}write(){this.firedataService.write("chat",this.datachat+this.username+": "+this.myin+`
`),this.firedataService.write("size",++this.size),this.size>200&&(this.firedataService.write("mem",this.datachat),this.firedataService.write("chat",this.username+": "+this.myin+`
`),this.firedataService.write("size",0)),this.myin=""}};e.\u0275fac=function(r){return new(r||e)(D(pO),D(ue))},e.\u0275cmp=Xe({type:e,selectors:[["app-chat"]],inputs:{username:"username"},decls:5,vars:2,consts:[["matInput","","readonly","","rows","16","cols","50","id","ta",3,"ngModel","ngModelChange"],["matInput","","placeholder","scrivi qui cosa vuoi dire!","type","text","name","value",3,"ngModel","ngModelChange","keyup.enter"],["mat-raised-button","",3,"click"]],template:function(r,o){r&1&&(ie(0,"textarea",0),xe("ngModelChange",function(a){return o.datax=a}),le(),ke(1,"br"),ie(2,"input",1),xe("ngModelChange",function(a){return o.myin=a})("keyup.enter",function(){return o.write()}),le(),ie(3,"button",2),xe("click",function(){return o.write()}),an(4,"SEND"),le()),r&2&&(Pe("ngModel",o.datax),Oe(2),Pe("ngModel",o.myin))},dependencies:[dm,Lr,ka,Go],styles:['@charset "UTF-8";input[_ngcontent-%COMP%]{margin:10px;background:none;font-size:large;color:#fff}textarea[_ngcontent-%COMP%]{background:none;font-size:small;color:#fff;resize:none}textarea[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}textarea[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#212121;outline:1px solid white}textarea[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:none}button[_ngcontent-%COMP%]{transition:transform .1s}button[_ngcontent-%COMP%]:active{transform:rotate(360deg)}']}),e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})();var bO=(()=>{let e=class e{constructor(){this.username="user"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Xe({type:e,selectors:[["app-root"]],decls:10,vars:2,consts:[[2,"color","rgb(158, 84, 255)"],["matInput","","placeholder","inserire username","type","text","name","value","id","userin",3,"ngModel","ngModelChange"],["dynamicHeight",""],["label","Roll"],["label","Chat"],[3,"username"],["label","?"]],template:function(r,o){r&1&&(ie(0,"mat-toolbar",0),an(1," ! ! ! "),ie(2,"input",1),xe("ngModelChange",function(a){return o.username=a}),le()(),ie(3,"mat-tab-group",2)(4,"mat-tab",3),ke(5,"app-roll"),le(),ie(6,"mat-tab",4),ke(7,"app-chat",5),le(),ie(8,"mat-tab",6),an(9," ??? "),le()()),r&2&&(Oe(2),Pe("ngModel",o.username),Oe(5),Pe("username",o.username))},dependencies:[_M,Lr,ka,Go,c0,QM,iR,gO],styles:["#userin[_ngcontent-%COMP%]{color:#9e54ff;margin-left:20px;background:none;font-size:large;width:150px}"]});let t=e;return t})();var _O={firebase:{apiKey:"AIzaSyAOVjUyPX3FPyeClJh5MDkYrVYBUfS-tw8",authDomain:"datawhile.firebaseapp.com",projectId:"datawhile",storageBucket:"datawhile.appspot.com",messagingSenderId:"514163878515",appId:"1:514163878515:web:13a0cf8e9827b2f826d806",measurementId:"G-YEEPQ4LF8J"}};var yO=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Y({imports:[Ct,ua,Ea,Ct]});let t=e;return t})();var vO=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Z({type:e,bootstrap:[bO]}),e.\u0275inj=Y({providers:[IA()],imports:[mf,mk,sM,yM,ZM,jM,YM,yR.initializeApp(_O.firebase),yO,pA,nR]});let t=e;return t})();EA().bootstrapModule(vO).catch(t=>console.error(t));
